{% extends "base.html" %}
{% import 'heading.html' as Heading %}
{% import 'teams/widgets/team_selector.html' as team_selector %}
{% import 'projects/widgets/project_selector.html' as project_selector %}
{% import "widgets/checkbox.html" as Checkbox %}

{% block title %}Search{% endblock %}

{% block class %}search{% endblock %}

{% block heading %}
  {{ Heading.heading(title='Translation Search', subtitle='Search translations across all projects and locales') }}
{% endblock %}

{% block bottom %}
  <section id="main">
    <div class="container">
      <menu>
        <div id="search-menu" class="controls">
          <div class="search-wrapper big clearfix">
            <div class="icon fas fa-search"></div>
            <input
              class="search-input"
              type="search"
              autocomplete="off"
              autofocus
              placeholder="Type and press Enter to search"
              value="{{ search }}"
            />
          </div>
          <button class="button search">Search</button>
        </div>
        <div class="search-options controls">
          <div id="project-selector">
            {{ project_selector.project(projects, project) }}
          </div>
          <div id="locale-selector">
            {{ team_selector.locale(locales, locale) }}
          </div>
          <div class="check-list noselect">
            {{
              Checkbox.checkbox('Search in string identifiers', class='field search-identifiers-enabled', attribute='search-identifiers-enabled',
              is_enabled=search_identifiers_enabled)
            }}
            {{
              Checkbox.checkbox('Case sensitive', class='field match-case-enabled', attribute='match-case-enabled',
              is_enabled=match_case_enabled)
            }}
            {{
              Checkbox.checkbox('Entire words', class='field match-whole-word-enabled', attribute='match-whole-word-enabled',
              is_enabled=match_whole_word_enabled)
            }}
          </div>
        </div>
      </menu>

      <section id="search-results">
        <div id="entity-list-header">
          <span class="source-header">Source</span>
          <span class="translation-header">Translation</span>
        </div>
        <ul id="entity-list"></ul>
        <p id="no-results">No matches found.</p>
      </section>
    </div>
  </section>
{% endblock %}

{% block extend_css %}
  {% stylesheet 'search' %}
{% endblock %}

{% block extend_js %}
  {% javascript 'search' %}
{% endblock %}
