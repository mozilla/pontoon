{% macro render_contribution_group(title, project_data) %}
<div class="contribution-group">
    <h4 class="heading">
        <span class="icon far {{ project_data.type }}"></span>
        {{ title }}
    </h4>
    <ul class="localizations">
        {% for _, localization in project_data.data.items() %}
        <li>
            <a href="{{ localization.url }}">
                <span class="stress">{{ localization.project.name }}</span> &middot; {{
                localization.locale.name }} <span class="stress">{{ localization.locale.code }}</span>
                <span class="contribution-count">{{ ", ".join(localization.actions) }}</span>
            </a>
        </li>
        {% endfor %}
    </ul>
</div>
{% endmacro %}

<h3>{{ contribution_timeline.title }}</h3>

{% if contribution_timeline.show_year %}
    {% for month, month_data in contribution_timeline.contributions.items() %}
    <div class="contribution-year">
        <span class="month-label">{{ month }}</span>
        {% for title, project_data in month_data.items() %}
            {{ render_contribution_group(title, project_data) }}
        {% endfor %}
    </div>
    {% endfor %}
{% else %}
    {% for title, project_data in contribution_timeline.contributions.items() %}
        {{ render_contribution_group(title, project_data) }}
    {% endfor %}
{% endif %}

{% if contribution_timeline.contributions == {} %}
<p>No activity in this period.</p>
{% endif %}
