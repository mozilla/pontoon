{% extends "base.html" %}

{% block title %}{{'Manage strings for %(project)s' | format(project=project) }}{% endblock %}

{% block class %}admin-project{% endblock %}

{% block middle %}
<form id="admin-form" method="POST" action="{{ request.path }}">

  <h1>
    {{ 'Manage strings for %(project)s' | format(project=project.name) }}
  </h1>

  <section>
    <button type="submit">Save strings</button>
    <a href="{{ url('pontoon.admin.project', project.slug) }}" class="cancel">Cancel</a>
    <a href="{{ url('pontoon.admin.project.strings', project.slug) }}?format=csv">Download Strings</a>
  </section>

  {% csrf_token %}

  {% if project_has_strings %}
  <section class="strings-list">
    <table>
      {{ entities_form }}
    </table>
  </section>
  {% else %}
  <p>
    There are currently no strings for {{ project }}. You can add new strings using the following form.
    Enter one new string per line.
  </p>
  <textarea name="new_strings" class="strings-source" placeholder="Enter new strings"></textarea>
  {% endif %}

  <div class="controls clearfix">
    <button type="submit">Save strings</button>
    <a href="{{ url('pontoon.admin.project', project.slug) }}" class="cancel">Cancel</a>
  </div>

</form>
{% endblock %}

{% block extend_css %}
  {% stylesheet 'admin_project' %}
{% endblock %}

{% block extend_js %}
  {% javascript 'admin_project' %}
{% endblock %}
