<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>storage &mdash; Translate Toolkit 1.12.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.12.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Translate Toolkit 1.12.0 documentation" href="../index.html" />
    <link rel="up" title="API" href="index.html" />
    <link rel="next" title="tools" href="tools.html" />
    <link rel="prev" title="services" href="services.html" /> 
  </head>
  <body>
  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../index.html">Translate Toolkit</a>
        <span class="navbar-text pull-left"><b>1.12.0</b></span>
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"><ul class="simple">
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/index.html">Converters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/index.html#tools">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/index.html#scripts">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../formats/index.html">Supported formats</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developers/styleguide.html">Translate Styleguide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/styleguide.html#documentation">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/building.html">Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/testing.html#command-line-functional-testing">Command Line Functional Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/developers.html">Translate Toolkit Developers Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/releasing.html">Making a Translate Toolkit Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/deprecation.html">Deprecation of Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History of the Translate Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API</a></li>
</ul>
</ul>
</li>
              
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">storage</a><ul>
<li><a class="reference internal" href="#module-translate.storage.base">base</a></li>
<li><a class="reference internal" href="#module-translate.storage.benchmark">benchmark</a></li>
<li><a class="reference internal" href="#module-translate.storage.bundleprojstore">bundleprojstore</a></li>
<li><a class="reference internal" href="#module-translate.storage.catkeys">catkeys</a></li>
<li><a class="reference internal" href="#module-translate.storage.cpo">cpo</a></li>
<li><a class="reference internal" href="#module-translate.storage.csvl10n">csvl10n</a></li>
<li><a class="reference internal" href="#module-translate.storage.directory">directory</a></li>
<li><a class="reference internal" href="#module-translate.storage.dtd">dtd</a></li>
<li><a class="reference internal" href="#module-translate.storage._factory_classes">_factory_classes</a></li>
<li><a class="reference internal" href="#module-translate.storage.factory">factory</a></li>
<li><a class="reference internal" href="#module-translate.storage.fpo">fpo</a></li>
<li><a class="reference internal" href="#module-translate.storage.html">html</a></li>
<li><a class="reference internal" href="#module-translate.storage.ical">ical</a></li>
<li><a class="reference internal" href="#module-translate.storage.ini">ini</a></li>
<li><a class="reference internal" href="#module-translate.storage.jsonl10n">jsonl10n</a></li>
<li><a class="reference internal" href="#module-translate.storage.lisa">lisa</a></li>
<li><a class="reference internal" href="#module-translate.storage.mo">mo</a></li>
<li><a class="reference internal" href="#module-translate.storage.mozilla_lang">mozilla_lang</a></li>
<li><a class="reference internal" href="#module-translate.storage.odf_io">odf_io</a></li>
<li><a class="reference internal" href="#module-translate.storage.odf_shared">odf_shared</a></li>
<li><a class="reference internal" href="#module-translate.storage.omegat">omegat</a></li>
<li><a class="reference internal" href="#module-translate.storage.oo">oo</a></li>
<li><a class="reference internal" href="#module-translate.storage.placeables">placeables</a><ul>
<li><a class="reference internal" href="#id2">base</a></li>
<li><a class="reference internal" href="#module-translate.storage.placeables.general">general</a></li>
<li><a class="reference internal" href="#module-translate.storage.placeables.interfaces">interfaces</a></li>
<li><a class="reference internal" href="#id3">lisa</a></li>
<li><a class="reference internal" href="#module-translate.storage.placeables.parse">parse</a></li>
<li><a class="reference internal" href="#module-translate.storage.placeables.strelem">strelem</a></li>
<li><a class="reference internal" href="#module-translate.storage.placeables.terminology">terminology</a></li>
<li><a class="reference internal" href="#id4">xliff</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-translate.storage.php">php</a></li>
<li><a class="reference internal" href="#module-translate.storage.pocommon">pocommon</a></li>
<li><a class="reference internal" href="#module-translate.storage.poheader">poheader</a></li>
<li><a class="reference internal" href="#module-translate.storage.poparser">poparser</a></li>
<li><a class="reference internal" href="#module-translate.storage.po">po</a></li>
<li><a class="reference internal" href="#module-translate.storage.poxliff">poxliff</a></li>
<li><a class="reference internal" href="#module-translate.storage.project">project</a></li>
<li><a class="reference internal" href="#module-translate.storage.projstore">projstore</a></li>
<li><a class="reference internal" href="#module-translate.storage.properties">properties</a></li>
<li><a class="reference internal" href="#module-translate.storage.pypo">pypo</a></li>
<li><a class="reference internal" href="#module-translate.storage.qm">qm</a></li>
<li><a class="reference internal" href="#module-translate.storage.qph">qph</a></li>
<li><a class="reference internal" href="#module-translate.storage.rc">rc</a></li>
<li><a class="reference internal" href="#module-translate.storage.statistics">statistics</a></li>
<li><a class="reference internal" href="#module-translate.storage.statsdb">statsdb</a></li>
<li><a class="reference internal" href="#module-translate.storage.subtitles">subtitles</a></li>
<li><a class="reference internal" href="#module-translate.storage.symbian">symbian</a></li>
<li><a class="reference internal" href="#module-translate.storage.tbx">tbx</a></li>
<li><a class="reference internal" href="#module-translate.storage.tiki">tiki</a></li>
<li><a class="reference internal" href="#module-translate.storage.tmdb">tmdb</a></li>
<li><a class="reference internal" href="#module-translate.storage.tmx">tmx</a></li>
<li><a class="reference internal" href="#module-translate.storage.trados">trados</a></li>
<li><a class="reference internal" href="#module-translate.storage.ts2">ts2</a></li>
<li><a class="reference internal" href="#module-translate.storage.ts">ts</a></li>
<li><a class="reference internal" href="#module-translate.storage.txt">txt</a></li>
<li><a class="reference internal" href="#module-translate.storage.utx">utx</a></li>
<li><a class="reference internal" href="#module-translate.storage.versioncontrol">versioncontrol</a><ul>
<li><a class="reference internal" href="#module-translate.storage.versioncontrol.bzr">bzr</a></li>
<li><a class="reference internal" href="#module-translate.storage.versioncontrol.cvs">cvs</a></li>
<li><a class="reference internal" href="#module-translate.storage.versioncontrol.darcs">darcs</a></li>
<li><a class="reference internal" href="#module-translate.storage.versioncontrol.git">git</a></li>
<li><a class="reference internal" href="#module-translate.storage.versioncontrol.hg">hg</a></li>
<li><a class="reference internal" href="#module-translate.storage.versioncontrol.svn">svn</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-translate.storage.wordfast">wordfast</a></li>
<li><a class="reference internal" href="#module-translate.storage.workflow">workflow</a></li>
<li><a class="reference internal" href="#id13">xliff</a></li>
<li><a class="reference internal" href="#module-translate.storage.xml_extract">xml_extract</a><ul>
<li><a class="reference internal" href="#module-translate.storage.xml_extract.extract">extract</a></li>
<li><a class="reference internal" href="#module-translate.storage.xml_extract.generate">generate</a></li>
<li><a class="reference internal" href="#module-translate.storage.xml_extract.misc">misc</a></li>
<li><a class="reference internal" href="#module-translate.storage.xml_extract.unit_tree">unit_tree</a></li>
<li><a class="reference internal" href="#module-translate.storage.xml_extract.xpath_breadcrumb">xpath_breadcrumb</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-translate.storage.xml_name">xml_name</a></li>
<li><a class="reference internal" href="#module-translate.storage.zip">zip</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
  <li><a href="services.html"
         title="previous chapter">&laquo; services</a></li>
  <li><a href="tools.html"
         title="next chapter">tools &raquo;</a></li>
            
          </ul>
          <ul class="nav pull-right">
            
              
            
          
            
<form class="navbar-search pull-right" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container content">
   
  <div class="section" id="module-translate.storage">
<span id="storage"></span><h1>storage<a class="headerlink" href="#module-translate.storage" title="Permalink to this headline">¶</a></h1>
<p>Classes that represent various storage formats for localization.</p>
<div class="section" id="module-translate.storage.base">
<span id="base"></span><h2>base<a class="headerlink" href="#module-translate.storage.base" title="Permalink to this headline">¶</a></h2>
<p>Base classes for storage interfaces.</p>
<dl class="class">
<dt id="translate.storage.base.TranslationStore">
<em class="property">class </em><tt class="descclassname">translate.storage.base.</tt><tt class="descname">TranslationStore</tt><big>(</big><em>unitclass=None</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for stores for multiple translation units of type
UnitClass.</p>
<dl class="attribute">
<dt id="translate.storage.base.TranslationStore.Extensions">
<tt class="descname">Extensions</tt><em class="property"> = None</em><a class="headerlink" href="#translate.storage.base.TranslationStore.Extensions" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of file extentions associated with this store type</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationStore.Mimetypes">
<tt class="descname">Mimetypes</tt><em class="property"> = None</em><a class="headerlink" href="#translate.storage.base.TranslationStore.Mimetypes" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of MIME types associated with this store type</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationStore.Name">
<tt class="descname">Name</tt><em class="property"> = 'Base translation store'</em><a class="headerlink" href="#translate.storage.base.TranslationStore.Name" title="Permalink to this definition">¶</a></dt>
<dd><p>The human usable name of this store type</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationStore.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.base.TranslationStore.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>The class of units that will be instantiated and used by this class</p>
<p>alias of <a class="reference internal" href="#translate.storage.base.TranslationUnit" title="translate.storage.base.TranslationUnit"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#translate.storage.base.TranslationUnit" title="translate.storage.base.TranslationUnit"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<a class="reference internal" href="#translate.storage.base.TranslationUnit" title="translate.storage.base.TranslationUnit"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></a>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#translate.storage.base.TranslationUnit" title="translate.storage.base.TranslationUnit"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></a> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#translate.storage.base.TranslationUnit" title="translate.storage.base.TranslationUnit"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></a> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationStore.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.base.TranslationStore.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.parse">
<tt class="descname">parse</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parser to process the given source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.base.TranslationStore.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.base.TranslationStore.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationStore.suggestions_in_format">
<tt class="descname">suggestions_in_format</tt><em class="property"> = False</em><a class="headerlink" href="#translate.storage.base.TranslationStore.suggestions_in_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates if format can store suggestions and alternative translation
for a unit</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationStore.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.base.TranslationUnit">
<em class="property">class </em><tt class="descclassname">translate.storage.base.</tt><tt class="descname">TranslationUnit</tt><big>(</big><em>source=None</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for translation units.</p>
<p>Our concept of a <em>translation unit</em> is influenced heavily by <a class="reference external" href="http://docs.oasis-open.org/xliff/xliff-core/xliff-core.html">XLIFF</a>.</p>
<p>As such most of the method- and variable names borrows from XLIFF
terminology.</p>
<p>A translation unit consists of the following:</p>
<ul class="simple">
<li>A <em>source</em> string. This is the original translatable text.</li>
<li>A <em>target</em> string. This is the translation of the <em>source</em>.</li>
<li>Zero or more <em>notes</em> on the unit. Notes would typically be some comments
from a translator on the unit, or some comments originating from the
source code.</li>
<li>Zero or more <em>locations</em>. Locations indicate where in the original source
code this unit came from.</li>
<li>Zero or more <em>errors</em>. Some tools (eg.
<a class="reference internal" href="filters.html#module-translate.filters.pofilter" title="translate.filters.pofilter"><tt class="xref py py-mod docutils literal"><span class="pre">pofilter</span></tt></a>) can run checks on translations and
produce error messages.</li>
</ul>
<dl class="method">
<dt id="translate.storage.base.TranslationUnit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <a class="reference internal" href="#translate.storage.base.TranslationUnit.addlocation" title="translate.storage.base.TranslationUnit.addlocation"><tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt></a>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.base.TranslationUnit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.getlocations">
<tt class="descname">getlocations</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.getnotes">
<tt class="descname">getnotes</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><tt class="xref py py-meth docutils literal"><span class="pre">getlocations()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationUnit.rich_parsers">
<tt class="descname">rich_parsers</tt><em class="property"> = []</em><a class="headerlink" href="#translate.storage.base.TranslationUnit.rich_parsers" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of functions to use for parsing a string into a rich string
tree.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationUnit.rich_source">
<tt class="descname">rich_source</tt><a class="headerlink" href="#translate.storage.base.TranslationUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.base.TranslationUnit.rich_to_multistring" title="translate.storage.base.TranslationUnit.rich_to_multistring"><tt class="xref py py-meth docutils literal"><span class="pre">rich_to_multistring()</span></tt></a>, <a class="reference internal" href="#translate.storage.base.TranslationUnit.multistring_to_rich" title="translate.storage.base.TranslationUnit.multistring_to_rich"><tt class="xref py py-meth docutils literal"><span class="pre">multistring_to_rich()</span></tt></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationUnit.rich_target">
<tt class="descname">rich_target</tt><a class="headerlink" href="#translate.storage.base.TranslationUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.base.TranslationUnit.rich_to_multistring" title="translate.storage.base.TranslationUnit.rich_to_multistring"><tt class="xref py py-meth docutils literal"><span class="pre">rich_to_multistring()</span></tt></a>, <a class="reference internal" href="#translate.storage.base.TranslationUnit.multistring_to_rich" title="translate.storage.base.TranslationUnit.multistring_to_rich"><tt class="xref py py-meth docutils literal"><span class="pre">multistring_to_rich()</span></tt></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.base.TranslationUnit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.setsource">
<tt class="descname">setsource</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.setsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>target</em><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.base.TranslationUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.base.force_override">
<tt class="descclassname">translate.storage.base.</tt><tt class="descname">force_override</tt><big>(</big><em>method</em>, <em>baseclass</em><big>)</big><a class="headerlink" href="#translate.storage.base.force_override" title="Permalink to this definition">¶</a></dt>
<dd><p>Forces derived classes to override method.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.benchmark">
<span id="benchmark"></span><h2>benchmark<a class="headerlink" href="#module-translate.storage.benchmark" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="translate.storage.benchmark.TranslateBenchmarker">
<em class="property">class </em><tt class="descclassname">translate.storage.benchmark.</tt><tt class="descname">TranslateBenchmarker</tt><big>(</big><em>test_dir</em>, <em>storeclass</em><big>)</big><a class="headerlink" href="#translate.storage.benchmark.TranslateBenchmarker" title="Permalink to this definition">¶</a></dt>
<dd><p>class to aid in benchmarking Translate Toolkit stores</p>
<dl class="method">
<dt id="translate.storage.benchmark.TranslateBenchmarker.clear_test_dir">
<tt class="descname">clear_test_dir</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.benchmark.TranslateBenchmarker.clear_test_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>removes the given directory</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.benchmark.TranslateBenchmarker.create_sample_files">
<tt class="descname">create_sample_files</tt><big>(</big><em>num_dirs</em>, <em>files_per_dir</em>, <em>strings_per_file</em>, <em>source_words_per_string</em>, <em>target_words_per_string</em><big>)</big><a class="headerlink" href="#translate.storage.benchmark.TranslateBenchmarker.create_sample_files" title="Permalink to this definition">¶</a></dt>
<dd><p>creates sample files for benchmarking</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.benchmark.TranslateBenchmarker.parse_files">
<tt class="descname">parse_files</tt><big>(</big><em>file_dir=None</em><big>)</big><a class="headerlink" href="#translate.storage.benchmark.TranslateBenchmarker.parse_files" title="Permalink to this definition">¶</a></dt>
<dd><p>parses all the files in the test directory into memory</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.benchmark.TranslateBenchmarker.parse_placeables">
<tt class="descname">parse_placeables</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.benchmark.TranslateBenchmarker.parse_placeables" title="Permalink to this definition">¶</a></dt>
<dd><p>parses placeables</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.bundleprojstore">
<span id="bundleprojstore"></span><h2>bundleprojstore<a class="headerlink" href="#module-translate.storage.bundleprojstore" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="translate.storage.bundleprojstore.BundleProjectStore">
<em class="property">class </em><tt class="descclassname">translate.storage.bundleprojstore.</tt><tt class="descname">BundleProjectStore</tt><big>(</big><em>fname</em><big>)</big><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a translate project bundle (zip archive).</p>
<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.append_file">
<tt class="descname">append_file</tt><big>(</big><em>afile</em>, <em>fname</em>, <em>ftype='trans'</em>, <em>delete_orig=False</em><big>)</big><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.append_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given file to the project with the given filename, marked
to be of type <tt class="docutils literal"><span class="pre">ftype</span></tt> (&#8216;src&#8217;, &#8216;trans&#8217;, &#8216;tgt&#8217;).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>delete_orig</strong> &#8211; If <tt class="docutils literal"><span class="pre">True</span></tt>, as set by
<tt class="xref py py-meth docutils literal"><span class="pre">convert_forward()</span></tt>,
<tt class="docutils literal"><span class="pre">afile</span></tt> is deleted after appending, if
possible.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For this implementation, the appended file will be deleted
from disk if <tt class="docutils literal"><span class="pre">delete_orig</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.cleanup">
<tt class="descname">cleanup</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up our mess: remove temporary files.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.get_file">
<tt class="descname">get_file</tt><big>(</big><em>fname</em><big>)</big><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.get_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a project file (source, translation or target file) from the
project archive.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.get_filename_type">
<tt class="descname">get_filename_type</tt><big>(</big><em>fname</em><big>)</big><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.get_filename_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the type of file (&#8216;src&#8217;, &#8216;trans&#8217;, &#8216;tgt&#8217;) with the given name.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.get_proj_filename">
<tt class="descname">get_proj_filename</tt><big>(</big><em>realfname</em><big>)</big><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.get_proj_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Try and find a project file name for the given real file name.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.load">
<tt class="descname">load</tt><big>(</big><em>zipname</em><big>)</big><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the bundle project from the zip file of the given name.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.remove_file">
<tt class="descname">remove_file</tt><big>(</big><em>fname</em>, <em>ftype=None</em><big>)</big><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.remove_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the file with the given project name from the project.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.save">
<tt class="descname">save</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save all project files to the bundle zip file.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.sourcefiles">
<tt class="descname">sourcefiles</tt><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.sourcefiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only access to <tt class="docutils literal"><span class="pre">self._sourcefiles</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.targetfiles">
<tt class="descname">targetfiles</tt><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.targetfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only access to <tt class="docutils literal"><span class="pre">self._targetfiles</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.transfiles">
<tt class="descname">transfiles</tt><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.transfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only access to <tt class="docutils literal"><span class="pre">self._transfiles</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.update_file">
<tt class="descname">update_file</tt><big>(</big><em>pfname</em>, <em>infile</em><big>)</big><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.update_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the file with the given project file name with the contents
of <tt class="docutils literal"><span class="pre">infile</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the results from <tt class="xref py py-meth docutils literal"><span class="pre">BundleProjStore.append_file()</span></tt>.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.catkeys">
<span id="catkeys"></span><h2>catkeys<a class="headerlink" href="#module-translate.storage.catkeys" title="Permalink to this headline">¶</a></h2>
<p>Manage the Haiku catkeys translation format</p>
<p>The Haiku catkeys format is the translation format used for localisation of
the <a class="reference external" href="http://www.haiku-os.org/">Haiku</a> operating system.</p>
<p>It is a bilingual base class derived format with <a class="reference internal" href="#translate.storage.catkeys.CatkeysFile" title="translate.storage.catkeys.CatkeysFile"><tt class="xref py py-class docutils literal"><span class="pre">CatkeysFile</span></tt></a> and
<a class="reference internal" href="#translate.storage.catkeys.CatkeysUnit" title="translate.storage.catkeys.CatkeysUnit"><tt class="xref py py-class docutils literal"><span class="pre">CatkeysUnit</span></tt></a> providing file and unit level access.  The file format is
described here:
<a class="reference external" href="http://www.haiku-os.org/blog/pulkomandy/2009-09-24_haiku_locale_kit_translator_handbook">http://www.haiku-os.org/blog/pulkomandy/2009-09-24_haiku_locale_kit_translator_handbook</a></p>
<dl class="docutils">
<dt>Implementation</dt>
<dd><p class="first">The implementation covers the full requirements of a catkeys file. The
files are simple Tab Separated Value (TSV) files that can be read
by Microsoft Excel and other spreadsheet programs. They use the .txt
extension which does make it more difficult to automatically identify
such files.</p>
<p class="last">The dialect of the TSV files is specified by <a class="reference internal" href="#translate.storage.catkeys.CatkeysDialect" title="translate.storage.catkeys.CatkeysDialect"><tt class="xref py py-class docutils literal"><span class="pre">CatkeysDialect</span></tt></a>.</p>
</dd>
<dt>Encoding</dt>
<dd>The files are UTF-8 encoded.</dd>
<dt>Header</dt>
<dd><a class="reference internal" href="#translate.storage.catkeys.CatkeysHeader" title="translate.storage.catkeys.CatkeysHeader"><tt class="xref py py-class docutils literal"><span class="pre">CatkeysHeader</span></tt></a> provides header management support.</dd>
<dt>Escaping</dt>
<dd><p class="first">catkeys seem to escape things like in C++ (strings are just extracted from
the source code unchanged, it seems.</p>
<p class="last">Functions allow for <tt class="xref py py-func docutils literal"><span class="pre">_escape()</span></tt> and <tt class="xref py py-func docutils literal"><span class="pre">_unescape()</span></tt>.</p>
</dd>
</dl>
<dl class="class">
<dt id="translate.storage.catkeys.CatkeysDialect">
<em class="property">class </em><tt class="descclassname">translate.storage.catkeys.</tt><tt class="descname">CatkeysDialect</tt><a class="headerlink" href="#translate.storage.catkeys.CatkeysDialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Describe the properties of a catkeys generated TAB-delimited file.</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.catkeys.CatkeysFile">
<em class="property">class </em><tt class="descclassname">translate.storage.catkeys.</tt><tt class="descname">CatkeysFile</tt><big>(</big><em>inputfile=None</em>, <em>unitclass=&lt;class 'translate.storage.catkeys.CatkeysUnit'&gt;</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A catkeys translation memory file</p>
<dl class="attribute">
<dt id="translate.storage.catkeys.CatkeysFile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.catkeys.CatkeysFile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.parse">
<tt class="descname">parse</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parsse the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.catkeys.CatkeysFile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.catkeys.CatkeysFile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.catkeys.CatkeysHeader">
<em class="property">class </em><tt class="descclassname">translate.storage.catkeys.</tt><tt class="descname">CatkeysHeader</tt><big>(</big><em>header=None</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>A catkeys translation memory header</p>
<dl class="method">
<dt id="translate.storage.catkeys.CatkeysHeader.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>newlang</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysHeader.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a human readable target language</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.catkeys.CatkeysUnit">
<em class="property">class </em><tt class="descclassname">translate.storage.catkeys.</tt><tt class="descname">CatkeysUnit</tt><big>(</big><em>source=None</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A catkeys translation memory unit</p>
<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.catkeys.CatkeysUnit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.catkeys.CatkeysUnit.dict">
<tt class="descname">dict</tt><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a catkeys line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.getdict">
<tt class="descname">getdict</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.getdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a catkeys line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.getlocations">
<tt class="descname">getlocations</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.catkeys.CatkeysUnit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.setdict">
<tt class="descname">setdict</tt><big>(</big><em>newdict</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.setdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dictionary of values for a catkeys line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>newdict</strong> (<em>Dict</em>) &#8211; a new dictionary with catkeys line elements</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="translate.storage.catkeys.FIELDNAMES">
<tt class="descclassname">translate.storage.catkeys.</tt><tt class="descname">FIELDNAMES</tt><em class="property"> = ['source', 'context', 'comment', 'target']</em><a class="headerlink" href="#translate.storage.catkeys.FIELDNAMES" title="Permalink to this definition">¶</a></dt>
<dd><p>Field names for a catkeys TU</p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.catkeys.FIELDNAMES_HEADER">
<tt class="descclassname">translate.storage.catkeys.</tt><tt class="descname">FIELDNAMES_HEADER</tt><em class="property"> = ['version', 'language', 'mimetype', 'checksum']</em><a class="headerlink" href="#translate.storage.catkeys.FIELDNAMES_HEADER" title="Permalink to this definition">¶</a></dt>
<dd><p>Field names for the catkeys header</p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.catkeys.FIELDNAMES_HEADER_DEFAULTS">
<tt class="descclassname">translate.storage.catkeys.</tt><tt class="descname">FIELDNAMES_HEADER_DEFAULTS</tt><em class="property"> = {'mimetype': '', 'checksum': '', 'version': '1', 'language': ''}</em><a class="headerlink" href="#translate.storage.catkeys.FIELDNAMES_HEADER_DEFAULTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Default or minimum header entries for a catkeys file</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.cpo">
<span id="cpo"></span><h2>cpo<a class="headerlink" href="#module-translate.storage.cpo" title="Permalink to this headline">¶</a></h2>
<p>Classes that hold units of .po files (pounit) or entire files (pofile).</p>
<p>Gettext-style .po (or .pot) files are used in translations for KDE, GNOME and
many other projects.</p>
<p>This uses libgettextpo from the gettext package. Any version before 0.17 will
at least cause some subtle bugs or may not work at all. Developers might want
to have a look at gettext-tools/libgettextpo/gettext-po.h from the gettext
package for the public API of the library.</p>
<dl class="function">
<dt id="translate.storage.cpo.get_libgettextpo_version">
<tt class="descclassname">translate.storage.cpo.</tt><tt class="descname">get_libgettextpo_version</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.cpo.get_libgettextpo_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the libgettextpo version</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">three-value tuple</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">libgettextpo version in the following format::
(major version, minor version, subminor version)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="translate.storage.cpo.lsep">
<tt class="descclassname">translate.storage.cpo.</tt><tt class="descname">lsep</tt><em class="property"> = ' '</em><a class="headerlink" href="#translate.storage.cpo.lsep" title="Permalink to this definition">¶</a></dt>
<dd><p>Separator for #: entries</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.csvl10n">
<span id="csvl10n"></span><h2>csvl10n<a class="headerlink" href="#module-translate.storage.csvl10n" title="Permalink to this headline">¶</a></h2>
<p>classes that hold units of comma-separated values (.csv) files (csvunit)
or entire files (csvfile) for use with localisation</p>
<dl class="class">
<dt id="translate.storage.csvl10n.csvfile">
<em class="property">class </em><tt class="descclassname">translate.storage.csvl10n.</tt><tt class="descname">csvfile</tt><big>(</big><em>inputfile=None</em>, <em>fieldnames=None</em>, <em>encoding='auto'</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a .csv file with various lines.
The default format contains three columns: location, source, target</p>
<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.csvl10n.csvfile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.csvl10n.csvfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.csvl10n.csvfile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.csvl10n.csvfile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.csvfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.csvl10n.detect_header">
<tt class="descclassname">translate.storage.csvl10n.</tt><tt class="descname">detect_header</tt><big>(</big><em>sample</em>, <em>dialect</em>, <em>fieldnames</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.detect_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if file has a header or not, also returns number of columns in first row</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.csvl10n.valid_fieldnames">
<tt class="descclassname">translate.storage.csvl10n.</tt><tt class="descname">valid_fieldnames</tt><big>(</big><em>fieldnames</em><big>)</big><a class="headerlink" href="#translate.storage.csvl10n.valid_fieldnames" title="Permalink to this definition">¶</a></dt>
<dd><p>check if fieldnames are valid</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.directory">
<span id="directory"></span><h2>directory<a class="headerlink" href="#module-translate.storage.directory" title="Permalink to this headline">¶</a></h2>
<p>This module provides functionality to work with directories.</p>
<dl class="class">
<dt id="translate.storage.directory.Directory">
<em class="property">class </em><tt class="descclassname">translate.storage.directory.</tt><tt class="descname">Directory</tt><big>(</big><em>dir=None</em><big>)</big><a class="headerlink" href="#translate.storage.directory.Directory" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a directory.</p>
<dl class="method">
<dt id="translate.storage.directory.Directory.file_iter">
<tt class="descname">file_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.directory.Directory.file_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over (dir, filename) for all files in this directory.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.directory.Directory.getfiles">
<tt class="descname">getfiles</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.directory.Directory.getfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of (dir, filename) tuples for all the file names in
this directory.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.directory.Directory.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.directory.Directory.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>List of all the units in all the files in this directory.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.directory.Directory.scanfiles">
<tt class="descname">scanfiles</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.directory.Directory.scanfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate the internal file data.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.directory.Directory.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.directory.Directory.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in all the files in this directory.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.dtd">
<span id="dtd"></span><h2>dtd<a class="headerlink" href="#module-translate.storage.dtd" title="Permalink to this headline">¶</a></h2>
<p>Classes that hold units of .dtd files (<a class="reference internal" href="#translate.storage.dtd.dtdunit" title="translate.storage.dtd.dtdunit"><tt class="xref py py-class docutils literal"><span class="pre">dtdunit</span></tt></a>) or entire files
(<a class="reference internal" href="#translate.storage.dtd.dtdfile" title="translate.storage.dtd.dtdfile"><tt class="xref py py-class docutils literal"><span class="pre">dtdfile</span></tt></a>).</p>
<p>These are specific .dtd files for localisation used by mozilla.</p>
<dl class="docutils">
<dt>Specifications</dt>
<dd><p class="first">The following information is provided by Mozilla:</p>
<p><a class="reference external" href="http://www.w3.org/TR/REC-xml/#sec-entexpand">Specification</a></p>
<p>There is a grammar for entity definitions, which isn&#8217;t really precise,
as the spec says.  There&#8217;s no formal specification for DTD files, it&#8217;s
just &#8220;whatever makes this work&#8221; basically. The whole piece is clearly not
the strongest point of the xml spec</p>
<p class="last">XML elements are allowed in entity values. A number of things that are
allowed will just break the resulting document, Mozilla forbids these
in their DTD parser.</p>
</dd>
<dt>Dialects</dt>
<dd><p class="first">There are two dialects:</p>
<ul class="simple">
<li>Regular DTD</li>
<li>Android DTD</li>
</ul>
<p class="last">Both dialects are similar, but the Android DTD uses some particular escapes
that regular DTDs don&#8217;t have.</p>
</dd>
<dt>Escaping in regular DTD</dt>
<dd><p class="first">In DTD usually there are characters escaped in the entities. In order to
ease the translation some of those escaped characters are unescaped when
reading from, or converting, the DTD, and that are escaped again when
saving, or converting to a DTD.</p>
<p>In regular DTD the following characters are usually or sometimes escaped:</p>
<ul class="simple">
<li>The % character is escaped using &amp;#037; or &amp;#37; or &amp;#x25;</li>
<li>The &#8221; character is escaped using &amp;quot;</li>
<li>The &#8216; character is escaped using &amp;apos; (partial roundtrip)</li>
<li>The &amp; character is escaped using &amp;amp;</li>
<li>The &lt; character is escaped using &amp;lt; (not yet implemented)</li>
<li>The &gt; character is escaped using &amp;gt; (not yet implemented)</li>
</ul>
<p>Besides the previous ones there are a lot of escapes for a huge number of
characters. This escapes usually have the form of &amp;#NUMBER; where NUMBER
represents the numerical code for the character.</p>
<p>There are a few particularities in DTD escaping. Some of the escapes are
not yet implemented since they are not really necessary, or because its
implementation is too hard.</p>
<p>A special case is the &#8216; escaping using &amp;apos; which doesn&#8217;t provide a full
roundtrip conversion in order to support some special Mozilla DTD files.</p>
<p class="last">Also the &#8221; character is never escaped in the case that the previous
character is = (the sequence =&#8221; is present on the string) in order to avoid
escaping the &#8221; character indicating an attribute assignment, for example in
a href attribute for an a tag in HTML (anchor tag).</p>
</dd>
<dt>Escaping in Android DTD</dt>
<dd><p class="first">It has the sames escapes as in regular DTD, plus this ones:</p>
<ul class="last simple">
<li>The &#8216; character is escaped using &amp;apos; or &#8216; or u0027</li>
<li>The &#8221; character is escaped using &amp;quot;</li>
</ul>
</dd>
</dl>
<dl class="data">
<dt id="translate.storage.dtd.accesskeysuffixes">
<tt class="descclassname">translate.storage.dtd.</tt><tt class="descname">accesskeysuffixes</tt><em class="property"> = ('.accesskey', '.accessKey', '.akey')</em><a class="headerlink" href="#translate.storage.dtd.accesskeysuffixes" title="Permalink to this definition">¶</a></dt>
<dd><p>Accesskey Suffixes: entries with this suffix may be combined with labels
ending in <tt class="xref py py-attr docutils literal"><span class="pre">labelsuffixes</span></tt> into accelerator notation</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.dtd.dtdfile">
<em class="property">class </em><tt class="descclassname">translate.storage.dtd.</tt><tt class="descname">dtdfile</tt><big>(</big><em>inputfile=None</em>, <em>android=False</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile" title="Permalink to this definition">¶</a></dt>
<dd><p>A .dtd file made up of dtdunits.</p>
<dl class="attribute">
<dt id="translate.storage.dtd.dtdfile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.dtd.dtdfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.dtd.dtdunit" title="translate.storage.dtd.dtdunit"><tt class="xref py py-class docutils literal"><span class="pre">dtdunit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.getoutput">
<tt class="descname">getoutput</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>convert the units back to source</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>makes self.id_index dictionary keyed on entities</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.dtd.dtdfile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.dtd.dtdfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.parse">
<tt class="descname">parse</tt><big>(</big><em>dtdsrc</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>read the source code of a dtd file in and include them as dtdunits in self.units</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.dtd.dtdfile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.dtd.dtdfile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.dtd.dtdunit">
<em class="property">class </em><tt class="descclassname">translate.storage.dtd.</tt><tt class="descname">dtdunit</tt><big>(</big><em>source=''</em>, <em>android=False</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit" title="Permalink to this definition">¶</a></dt>
<dd><p>An entity definition from a DTD file (and any associated comments).</p>
<dl class="method">
<dt id="translate.storage.dtd.dtdunit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the entity to the given &#8220;location&#8221;.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.dtd.dtdunit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.getlocations">
<tt class="descname">getlocations</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the entity as location (identifier).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.getnotes">
<tt class="descname">getnotes</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><tt class="xref py py-meth docutils literal"><span class="pre">getlocations()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.getoutput">
<tt class="descname">getoutput</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>convert the dtd entity back to string form</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.getsource">
<tt class="descname">getsource</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.getsource" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the unquoted source string</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.gettarget">
<tt class="descname">gettarget</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.gettarget" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the unquoted target string</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.isnull">
<tt class="descname">isnull</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.isnull" title="Permalink to this definition">¶</a></dt>
<dd><p>returns whether this dtdunit doesn&#8217;t actually have an entity definition</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.parse">
<tt class="descname">parse</tt><big>(</big><em>dtdsrc</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>read the first dtd element from the source code into this object, return linesprocessed</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.dtd.dtdunit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.setsource">
<tt class="descname">setsource</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.setsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the definition to the quoted value of source</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>target</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the definition to the quoted value of target</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.dtd.dtdunit.source">
<tt class="descname">source</tt><a class="headerlink" href="#translate.storage.dtd.dtdunit.source" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the unquoted source string</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.dtd.dtdunit.target">
<tt class="descname">target</tt><a class="headerlink" href="#translate.storage.dtd.dtdunit.target" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the unquoted target string</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.dtd.dtdunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="translate.storage.dtd.labelsuffixes">
<tt class="descclassname">translate.storage.dtd.</tt><tt class="descname">labelsuffixes</tt><em class="property"> = ('.label', '.title')</em><a class="headerlink" href="#translate.storage.dtd.labelsuffixes" title="Permalink to this definition">¶</a></dt>
<dd><p>Label suffixes: entries with this suffix are able to be comibed with accesskeys
found in in entries ending with <tt class="xref py py-attr docutils literal"><span class="pre">accesskeysuffixes</span></tt></p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.dtd.quoteforandroid">
<tt class="descclassname">translate.storage.dtd.</tt><tt class="descname">quoteforandroid</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.quoteforandroid" title="Permalink to this definition">¶</a></dt>
<dd><p>Escapes a line for Android DTD files.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.dtd.quotefordtd">
<tt class="descclassname">translate.storage.dtd.</tt><tt class="descname">quotefordtd</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.quotefordtd" title="Permalink to this definition">¶</a></dt>
<dd><p>Quotes and escapes a line for regular DTD files.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.dtd.removeinvalidamps">
<tt class="descclassname">translate.storage.dtd.</tt><tt class="descname">removeinvalidamps</tt><big>(</big><em>name</em>, <em>value</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.removeinvalidamps" title="Permalink to this definition">¶</a></dt>
<dd><p>Find and remove ampersands that are not part of an entity definition.</p>
<p>A stray &amp; in a DTD file can break an application&#8217;s ability to parse the
file. In Mozilla localisation this is very important and these can break the
parsing of files used in XUL and thus break interface rendering. Tracking
down the problem is very difficult, thus by removing potential broken
ampersand and warning the users we can ensure that the output DTD will
always be parsable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>String</em>) &#8211; Entity name</li>
<li><strong>value</strong> (<em>String</em>) &#8211; Entity text value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">String</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Entity value without bad ampersands</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="translate.storage.dtd.unquotefromandroid">
<tt class="descclassname">translate.storage.dtd.</tt><tt class="descname">unquotefromandroid</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.unquotefromandroid" title="Permalink to this definition">¶</a></dt>
<dd><p>Unquotes a quoted Android DTD definition.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.dtd.unquotefromdtd">
<tt class="descclassname">translate.storage.dtd.</tt><tt class="descname">unquotefromdtd</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.dtd.unquotefromdtd" title="Permalink to this definition">¶</a></dt>
<dd><p>unquotes a quoted dtd definition</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage._factory_classes">
<span id="factory-classes"></span><h2>_factory_classes<a class="headerlink" href="#module-translate.storage._factory_classes" title="Permalink to this headline">¶</a></h2>
<p>Py2exe can&#8217;t find stuff that we import dynamically, so we have this file
just for the sake of the Windows installer to easily pick up all the stuff
that we need and ensure they make it into the installer.</p>
</div>
<div class="section" id="module-translate.storage.factory">
<span id="factory"></span><h2>factory<a class="headerlink" href="#module-translate.storage.factory" title="Permalink to this headline">¶</a></h2>
<p>factory methods to build real storage objects that conform to base.py</p>
<dl class="data">
<dt id="translate.storage.factory.classes_str">
<tt class="descclassname">translate.storage.factory.</tt><tt class="descname">classes_str</tt><em class="property"> = {'lang': ('mozilla_lang', 'LangStore'), 'tbx': ('tbx', 'tbxfile'), 'qph': ('qph', 'QphFile'), 'xlf': ('xliff', 'xlifffile'), 'mo': ('mo', 'mofile'), '_trados_txt_tm': ('trados', 'TradosTxtTmFile'), 'tmx': ('tmx', 'tmxfile'), 'utf8': ('omegat', 'OmegaTFile'), 'pot': ('po', 'pofile'), 'ts': ('ts2', 'tsfile'), 'sdlxliff': ('xliff', 'xlifffile'), 'tab': ('omegat', 'OmegaTFileTab'), 'catkeys': ('catkeys', 'CatkeysFile'), 'xliff': ('xliff', 'xlifffile'), 'gmo': ('mo', 'mofile'), 'utx': ('utx', 'UtxFile'), 'csv': ('csvl10n', 'csvfile'), 'qm': ('qm', 'qmfile'), 'po': ('po', 'pofile'), '_wftm': ('wordfast', 'WordfastTMFile')}</em><a class="headerlink" href="#translate.storage.factory.classes_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of file extensions and the names of their associated class.</p>
<p>Used for dynamic lazy loading of modules.
_ext is a pseudo extension, that is their is no real extension by that name.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.factory.getclass">
<tt class="descclassname">translate.storage.factory.</tt><tt class="descname">getclass</tt><big>(</big><em>storefile</em>, <em>ignore=None</em>, <em>classes=None</em>, <em>classes_str={'lang': ('mozilla_lang'</em>, <em>'LangStore')</em>, <em>'tbx': ('tbx'</em>, <em>'tbxfile')</em>, <em>'qph': ('qph'</em>, <em>'QphFile')</em>, <em>'xlf': ('xliff'</em>, <em>'xlifffile')</em>, <em>'mo': ('mo'</em>, <em>'mofile')</em>, <em>'_trados_txt_tm': ('trados'</em>, <em>'TradosTxtTmFile')</em>, <em>'tmx': ('tmx'</em>, <em>'tmxfile')</em>, <em>'utf8': ('omegat'</em>, <em>'OmegaTFile')</em>, <em>'pot': ('po'</em>, <em>'pofile')</em>, <em>'ts': ('ts2'</em>, <em>'tsfile')</em>, <em>'sdlxliff': ('xliff'</em>, <em>'xlifffile')</em>, <em>'tab': ('omegat'</em>, <em>'OmegaTFileTab')</em>, <em>'catkeys': ('catkeys'</em>, <em>'CatkeysFile')</em>, <em>'xliff': ('xliff'</em>, <em>'xlifffile')</em>, <em>'gmo': ('mo'</em>, <em>'mofile')</em>, <em>'utx': ('utx'</em>, <em>'UtxFile')</em>, <em>'csv': ('csvl10n'</em>, <em>'csvfile')</em>, <em>'qm': ('qm'</em>, <em>'qmfile')</em>, <em>'po': ('po'</em>, <em>'pofile')</em>, <em>'_wftm': ('wordfast'</em>, <em>'WordfastTMFile')}</em>, <em>hiddenclasses={'txt': &lt;function _examine_txt at 0x45202a8&gt;}</em><big>)</big><a class="headerlink" href="#translate.storage.factory.getclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory that returns the applicable class for the type of file presented.
Specify ignore to ignore some part at the back of the name (like .gz).</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.factory.getobject">
<tt class="descclassname">translate.storage.factory.</tt><tt class="descname">getobject</tt><big>(</big><em>storefile</em>, <em>ignore=None</em>, <em>classes=None</em>, <em>classes_str={'lang': ('mozilla_lang'</em>, <em>'LangStore')</em>, <em>'tbx': ('tbx'</em>, <em>'tbxfile')</em>, <em>'qph': ('qph'</em>, <em>'QphFile')</em>, <em>'xlf': ('xliff'</em>, <em>'xlifffile')</em>, <em>'mo': ('mo'</em>, <em>'mofile')</em>, <em>'_trados_txt_tm': ('trados'</em>, <em>'TradosTxtTmFile')</em>, <em>'tmx': ('tmx'</em>, <em>'tmxfile')</em>, <em>'utf8': ('omegat'</em>, <em>'OmegaTFile')</em>, <em>'pot': ('po'</em>, <em>'pofile')</em>, <em>'ts': ('ts2'</em>, <em>'tsfile')</em>, <em>'sdlxliff': ('xliff'</em>, <em>'xlifffile')</em>, <em>'tab': ('omegat'</em>, <em>'OmegaTFileTab')</em>, <em>'catkeys': ('catkeys'</em>, <em>'CatkeysFile')</em>, <em>'xliff': ('xliff'</em>, <em>'xlifffile')</em>, <em>'gmo': ('mo'</em>, <em>'mofile')</em>, <em>'utx': ('utx'</em>, <em>'UtxFile')</em>, <em>'csv': ('csvl10n'</em>, <em>'csvfile')</em>, <em>'qm': ('qm'</em>, <em>'qmfile')</em>, <em>'po': ('po'</em>, <em>'pofile')</em>, <em>'_wftm': ('wordfast'</em>, <em>'WordfastTMFile')}</em>, <em>hiddenclasses={'txt': &lt;function _examine_txt at 0x45202a8&gt;}</em><big>)</big><a class="headerlink" href="#translate.storage.factory.getobject" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory that returns a usable object for the type of file presented.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>storefile</strong> (<em>file or str</em>) &#8211; File object or file name.</td>
</tr>
</tbody>
</table>
<p>Specify ignore to ignore some part at the back of the name (like .gz).</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.factory.supported_files">
<tt class="descclassname">translate.storage.factory.</tt><tt class="descname">supported_files</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.factory.supported_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns data about all supported files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of type that include (name, extensions, mimetypes)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.fpo">
<span id="fpo"></span><h2>fpo<a class="headerlink" href="#module-translate.storage.fpo" title="Permalink to this headline">¶</a></h2>
<p>Classes for the support of Gettext .po and .pot files.</p>
<p>This implementation assumes that cpo is working. This should not be used
directly, but can be used once cpo has been established to work.</p>
<dl class="data">
<dt id="translate.storage.fpo.lsep">
<tt class="descclassname">translate.storage.fpo.</tt><tt class="descname">lsep</tt><em class="property"> = ' '</em><a class="headerlink" href="#translate.storage.fpo.lsep" title="Permalink to this definition">¶</a></dt>
<dd><p>Separator for #: entries</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.fpo.pofile">
<em class="property">class </em><tt class="descclassname">translate.storage.fpo.</tt><tt class="descname">pofile</tt><big>(</big><em>inputfile=None</em>, <em>encoding=None</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile" title="Permalink to this definition">¶</a></dt>
<dd><p>A .po file containing various units</p>
<dl class="method">
<dt id="translate.storage.fpo.pofile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.changeencoding">
<tt class="descname">changeencoding</tt><big>(</big><em>newencoding</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.changeencoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: changes the encoding on the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.getheaderplural">
<tt class="descname">getheaderplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.getheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nplural and plural values from the header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the project based on information in the header.</p>
<dl class="docutils">
<dt>The project is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the &#8216;X-Project-Style&#8217; entry in the header.</li>
<li>Use &#8216;Report-Msgid-Bug-To&#8217; entry</li>
<li>Use the &#8216;X-Accelerator&#8217; entry</li>
<li>Use the Project ID</li>
<li>Analyse the file itself (not yet implemented)</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the target language based on information in the header.</p>
<dl class="docutils">
<dt>The target language is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the &#8216;Language&#8217; entry in the header.</li>
<li>Poedit&#8217;s custom headers.</li>
<li>Analysing the &#8216;Language-Team&#8217; entry.</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.header">
<tt class="descname">header</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the header element, or None. Only the first element is allowed
to be a header. Note that this could still return an empty header element,
if present.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.init_headers">
<tt class="descname">init_headers</tt><big>(</big><em>charset='UTF-8'</em>, <em>encoding='8bit'</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.init_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>sets default values for po headers</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.makeheader">
<tt class="descname">makeheader</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.makeheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header for the given filename.</p>
<p>Check .makeheaderdict() for information on parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.makeheaderdict">
<tt class="descname">makeheaderdict</tt><big>(</big><em>charset='CHARSET'</em>, <em>encoding='ENCODING'</em>, <em>project_id_version=None</em>, <em>pot_creation_date=None</em>, <em>po_revision_date=None</em>, <em>last_translator=None</em>, <em>language_team=None</em>, <em>mime_version=None</em>, <em>plural_forms=None</em>, <em>report_msgid_bugs_to=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.makeheaderdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header dictionary with useful defaults.</p>
<p>pot_creation_date can be None (current date) or a value (datetime or string)
po_revision_date can be None (form), False (=pot_creation_date), True (=now),
or a value (datetime or string)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary with the header items</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.fpo.pofile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.fpo.pofile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.mergeheaders">
<tt class="descname">mergeheaders</tt><big>(</big><em>otherstore</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.mergeheaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges another header with this header.</p>
<p>This header is assumed to be the template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.parse">
<tt class="descname">parse</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the given file or file source string.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.fpo.pofile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.parseheader">
<tt class="descname">parseheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.parseheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the PO header and returns the interpreted values as a
dictionary.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.fpo.pofile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.removeduplicates">
<tt class="descname">removeduplicates</tt><big>(</big><em>duplicatestyle='merge'</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.removeduplicates" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure each msgid is unique ; merge comments etc from duplicates into original</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project in the header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>project_style</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the new project</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>lang</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language in the header.</p>
<p>This removes any custom Poedit headers if they exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lang</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the new target language code</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.updatecontributor">
<tt class="descname">updatecontributor</tt><big>(</big><em>name</em>, <em>email=None</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.updatecontributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add contribution comments if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.updateheader">
<tt class="descname">updateheader</tt><big>(</big><em>add=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.updateheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the fields in the PO style header.</p>
<p>This will create a header if add == True.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.updateheaderplural">
<tt class="descname">updateheaderplural</tt><big>(</big><em>nplurals</em>, <em>plural</em><big>)</big><a class="headerlink" href="#translate.storage.fpo.pofile.updateheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the Plural-Form PO header.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.html">
<span id="html"></span><h2>html<a class="headerlink" href="#module-translate.storage.html" title="Permalink to this headline">¶</a></h2>
<p>module for parsing html files for translation</p>
<dl class="class">
<dt id="translate.storage.html.htmlunit">
<em class="property">class </em><tt class="descclassname">translate.storage.html.</tt><tt class="descname">htmlunit</tt><big>(</big><em>source=None</em><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A unit of translatable/localisable HTML content</p>
<dl class="method">
<dt id="translate.storage.html.htmlunit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.html.htmlunit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.getnotes">
<tt class="descname">getnotes</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><tt class="xref py py-meth docutils literal"><span class="pre">getlocations()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.html.htmlunit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>target</em><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.html.htmlunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.html.normalize_html">
<tt class="descclassname">translate.storage.html.</tt><tt class="descname">normalize_html</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#translate.storage.html.normalize_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove double spaces from HTML snippets</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.html.safe_escape">
<tt class="descclassname">translate.storage.html.</tt><tt class="descname">safe_escape</tt><big>(</big><em>html</em><big>)</big><a class="headerlink" href="#translate.storage.html.safe_escape" title="Permalink to this definition">¶</a></dt>
<dd><p>Escape &amp;, &lt; and &gt;</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.html.strip_html">
<tt class="descclassname">translate.storage.html.</tt><tt class="descname">strip_html</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#translate.storage.html.strip_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unnecessary html from the text.</p>
<p>HTML tags are deemed unnecessary if it fully encloses the translatable
text, eg. &#8216;&lt;a href=&#8221;index.html&#8221;&gt;Home Page&lt;/a&gt;&#8217;.</p>
<p>HTML tags that occurs within the normal flow of text will not be removed,
eg. &#8216;This is a link to the &lt;a href=&#8221;index.html&#8221;&gt;Home Page&lt;/a&gt;.&#8217;</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.ical">
<span id="ical"></span><h2>ical<a class="headerlink" href="#module-translate.storage.ical" title="Permalink to this headline">¶</a></h2>
<p>Class that manages iCalender files for translation.</p>
<p>iCalendar files follow the <a class="reference external" href="http://tools.ietf.org/html/rfc2445">RFC2445</a>
specification.</p>
<p>The iCalendar specification uses the following naming conventions:</p>
<ul class="simple">
<li>Component: an event, journal entry, timezone, etc</li>
<li>Property: a property of a component: summary, description, start time, etc</li>
<li>Attribute: an attribute of a property, e.g. language</li>
</ul>
<p>The following are localisable in this implementation:</p>
<ul class="simple">
<li>VEVENT component: SUMMARY, DESCRIPTION, COMMENT and LOCATION properties</li>
</ul>
<p>While other items could be localised this is not seen as important until use
cases arise.  In such a case simply adjusting the component.name and
property.name lists to include these will allow expanded localisation.</p>
<dl class="docutils">
<dt>LANGUAGE Attribute</dt>
<dd>While the iCalendar format allows items to have a language attribute this is
not used. The reason being that for most of the items that we localise they
are only allowed to occur zero or once.  Thus &#8216;summary&#8217; would ideally
be present in multiple languages in one file, the format does not allow
such multiple entries.  This is unfortunate as it prevents the creation
of a single multilingual iCalendar file.</dd>
<dt>Future Format Support</dt>
<dd>As this format used <a class="reference external" href="http://vobject.skyhouseconsulting.com/">vobject</a>
which supports various formats including
<a class="reference external" href="http://en.wikipedia.org/wiki/VCard">vCard</a> it is possible to expand
this format to understand those if needed.</dd>
</dl>
<dl class="class">
<dt id="translate.storage.ical.icalfile">
<em class="property">class </em><tt class="descclassname">translate.storage.ical.</tt><tt class="descname">icalfile</tt><big>(</big><em>inputfile=None</em>, <em>unitclass=&lt;class 'translate.storage.ical.icalunit'&gt;</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile" title="Permalink to this definition">¶</a></dt>
<dd><p>An ical file</p>
<dl class="attribute">
<dt id="translate.storage.ical.icalfile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.ical.icalfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.ical.icalunit" title="translate.storage.ical.icalunit"><tt class="xref py py-class docutils literal"><span class="pre">icalunit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ical.icalfile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.ical.icalfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.parse">
<tt class="descname">parse</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ical.icalfile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ical.icalfile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.ical.icalunit">
<em class="property">class </em><tt class="descclassname">translate.storage.ical.</tt><tt class="descname">icalunit</tt><big>(</big><em>source=None</em>, <em>encoding='UTF-8'</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit" title="Permalink to this definition">¶</a></dt>
<dd><p>An ical entry that is translatable</p>
<dl class="method">
<dt id="translate.storage.ical.icalunit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ical.icalunit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.getnotes">
<tt class="descname">getnotes</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><tt class="xref py py-meth docutils literal"><span class="pre">getlocations()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ical.icalunit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.setsource">
<tt class="descname">setsource</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.setsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>target</em><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ical.icalunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.ini">
<span id="ini"></span><h2>ini<a class="headerlink" href="#module-translate.storage.ini" title="Permalink to this headline">¶</a></h2>
<p>Class that manages .ini files for translation</p>
<p># a comment
; a comment</p>
<p>[Section]
a = a string
b : a string</p>
<dl class="class">
<dt id="translate.storage.ini.Dialect">
<em class="property">class </em><tt class="descclassname">translate.storage.ini.</tt><tt class="descname">Dialect</tt><a class="headerlink" href="#translate.storage.ini.Dialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for differentiating dialect options and functions</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.ini.inifile">
<em class="property">class </em><tt class="descclassname">translate.storage.ini.</tt><tt class="descname">inifile</tt><big>(</big><em>inputfile=None</em>, <em>unitclass=&lt;class 'translate.storage.ini.iniunit'&gt;</em>, <em>dialect='default'</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile" title="Permalink to this definition">¶</a></dt>
<dd><p>An INI file</p>
<dl class="attribute">
<dt id="translate.storage.ini.inifile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.ini.inifile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.ini.iniunit" title="translate.storage.ini.iniunit"><tt class="xref py py-class docutils literal"><span class="pre">iniunit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ini.inifile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.ini.inifile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.parse">
<tt class="descname">parse</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the given file or file source string.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ini.inifile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ini.inifile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.inifile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.ini.iniunit">
<em class="property">class </em><tt class="descclassname">translate.storage.ini.</tt><tt class="descname">iniunit</tt><big>(</big><em>source=None</em>, <em>encoding='UTF-8'</em><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A INI file entry</p>
<dl class="method">
<dt id="translate.storage.ini.iniunit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ini.iniunit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.getnotes">
<tt class="descname">getnotes</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><tt class="xref py py-meth docutils literal"><span class="pre">getlocations()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ini.iniunit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.setsource">
<tt class="descname">setsource</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.setsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>target</em><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ini.iniunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.ini.register_dialect">
<tt class="descclassname">translate.storage.ini.</tt><tt class="descname">register_dialect</tt><big>(</big><em>dialect</em><big>)</big><a class="headerlink" href="#translate.storage.ini.register_dialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator that registers the dialect.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.jsonl10n">
<span id="jsonl10n"></span><h2>jsonl10n<a class="headerlink" href="#module-translate.storage.jsonl10n" title="Permalink to this headline">¶</a></h2>
<p>Class that manages JSON data files for translation</p>
<p>JSON is an acronym for JavaScript Object Notation, it is an open standard
designed for human-readable data interchange.</p>
<p>JSON basic types:</p>
<ul class="simple">
<li>Number (integer or real)</li>
<li>String (double-quoted Unicode with backslash escaping)</li>
<li>Boolean (true or false)</li>
<li>Array (an ordered sequence of values, comma-separated and enclosed in square
brackets)</li>
<li>Object (a collection of key:value pairs, comma-separated and enclosed in
curly braces)</li>
<li>null</li>
</ul>
<p>Example:</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
     <span class="nt">&quot;firstName&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
     <span class="nt">&quot;lastName&quot;</span><span class="p">:</span> <span class="s2">&quot;Smith&quot;</span><span class="p">,</span>
     <span class="nt">&quot;age&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span>
     <span class="nt">&quot;address&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;streetAddress&quot;</span><span class="p">:</span> <span class="s2">&quot;21 2nd Street&quot;</span><span class="p">,</span>
         <span class="nt">&quot;city&quot;</span><span class="p">:</span> <span class="s2">&quot;New York&quot;</span><span class="p">,</span>
         <span class="nt">&quot;state&quot;</span><span class="p">:</span> <span class="s2">&quot;NY&quot;</span><span class="p">,</span>
         <span class="nt">&quot;postalCode&quot;</span><span class="p">:</span> <span class="s2">&quot;10021&quot;</span>
     <span class="p">},</span>
     <span class="nt">&quot;phoneNumber&quot;</span><span class="p">:</span> <span class="p">[</span>
         <span class="p">{</span>
           <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;home&quot;</span><span class="p">,</span>
           <span class="nt">&quot;number&quot;</span><span class="p">:</span> <span class="s2">&quot;212 555-1234&quot;</span>
         <span class="p">},</span>
         <span class="p">{</span>
           <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fax&quot;</span><span class="p">,</span>
           <span class="nt">&quot;number&quot;</span><span class="p">:</span> <span class="s2">&quot;646 555-4567&quot;</span>
         <span class="p">}</span>
     <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>TODO:</p>
<ul class="simple">
<li>Handle <tt class="docutils literal"><span class="pre">\u</span></tt> and other escapes in Unicode</li>
<li>Manage data type storage and conversion. True &#8211;&gt; &#8220;True&#8221; &#8211;&gt; True</li>
<li>Sort the extracted data to the order of the JSON file</li>
</ul>
<dl class="class">
<dt id="translate.storage.jsonl10n.JsonFile">
<em class="property">class </em><tt class="descclassname">translate.storage.jsonl10n.</tt><tt class="descname">JsonFile</tt><big>(</big><em>inputfile=None</em>, <em>unitclass=&lt;class 'translate.storage.jsonl10n.JsonUnit'&gt;</em>, <em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A JSON file</p>
<dl class="attribute">
<dt id="translate.storage.jsonl10n.JsonFile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.jsonl10n.JsonUnit" title="translate.storage.jsonl10n.JsonUnit"><tt class="xref py py-class docutils literal"><span class="pre">JsonUnit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.jsonl10n.JsonFile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.parse">
<tt class="descname">parse</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.JsonFile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.JsonFile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.jsonl10n.JsonUnit">
<em class="property">class </em><tt class="descclassname">translate.storage.jsonl10n.</tt><tt class="descname">JsonUnit</tt><big>(</big><em>source=None</em>, <em>ref=None</em>, <em>item=None</em>, <em>encoding='UTF-8'</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A JSON entry</p>
<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.JsonUnit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.getnotes">
<tt class="descname">getnotes</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><tt class="xref py py-meth docutils literal"><span class="pre">getlocations()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.JsonUnit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.lisa">
<span id="lisa"></span><h2>lisa<a class="headerlink" href="#module-translate.storage.lisa" title="Permalink to this headline">¶</a></h2>
<p>Parent class for LISA standards (TMX, TBX, XLIFF)</p>
<dl class="class">
<dt id="translate.storage.lisa.LISAfile">
<em class="property">class </em><tt class="descclassname">translate.storage.lisa.</tt><tt class="descname">LISAfile</tt><big>(</big><em>inputfile=None</em>, <em>sourcelanguage='en'</em>, <em>targetlanguage=None</em>, <em>unitclass=None</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile" title="Permalink to this definition">¶</a></dt>
<dd><p>A class representing a file store for one of the LISA file formats.</p>
<dl class="attribute">
<dt id="translate.storage.lisa.LISAfile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.lisa.LISAfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.lisa.LISAunit" title="translate.storage.lisa.LISAunit"><tt class="xref py py-class docutils literal"><span class="pre">LISAunit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.addheader">
<tt class="descname">addheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.addheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to be overridden to initialise headers, etc.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds and returns a new unit with the given string as first entry.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.initbody">
<tt class="descname">initbody</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.initbody" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises self.body so it never needs to be retrieved from the
XML again.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.lisa.LISAfile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.lisa.LISAfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.namespaced">
<tt class="descname">namespaced</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <tt class="docutils literal"><span class="pre">namespaced(&quot;source&quot;)</span></tt> in an XLIFF document
might return:</p>
<div class="highlight-python"><div class="highlight"><pre>{urn:oasis:names:tc:xliff:document:1.1}source
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.parse">
<tt class="descname">parse</tt><big>(</big><em>xml</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates this object from the given xml string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.lisa.LISAfile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.lisa.LISAfile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.lisa.LISAunit">
<em class="property">class </em><tt class="descclassname">translate.storage.lisa.</tt><tt class="descname">LISAunit</tt><big>(</big><em>source</em>, <em>empty=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A single unit in the file.  Provisional work is done to make several
languages possible.</p>
<dl class="method">
<dt id="translate.storage.lisa.LISAunit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.lisa.LISAunit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.createPHnodes">
<tt class="descname">createPHnodes</tt><big>(</big><em>parent</em>, <em>text</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.createPHnodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the text node in parent containing all the ph tags</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.createlanguageNode">
<tt class="descname">createlanguageNode</tt><big>(</big><em>lang</em>, <em>text</em>, <em>purpose=None</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.createlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a xml Element setup with given parameters to represent a
single language entry. Has to be overridden.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getNodeText">
<tt class="descname">getNodeText</tt><big>(</big><em>languageNode</em>, <em>xml_space='preserve'</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.getNodeText" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the term from the given <tt class="xref py py-attr docutils literal"><span class="pre">languageNode</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getlanguageNode">
<tt class="descname">getlanguageNode</tt><big>(</big><em>lang=None</em>, <em>index=None</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.getlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a <tt class="xref py py-attr docutils literal"><span class="pre">languageNode</span></tt> either by language or by index.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getlanguageNodes">
<tt class="descname">getlanguageNodes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.getlanguageNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all nodes that contain per language information.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getlocations">
<tt class="descname">getlocations</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getnotes">
<tt class="descname">getnotes</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><tt class="xref py py-meth docutils literal"><span class="pre">getlocations()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.gettarget">
<tt class="descname">gettarget</tt><big>(</big><em>lang=None</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.gettarget" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the &#8220;target&#8221; text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.namespaced">
<tt class="descname">namespaced</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <tt class="docutils literal"><span class="pre">namespaced(&quot;source&quot;)</span></tt> in an XLIFF document
might return:</p>
<div class="highlight-python"><div class="highlight"><pre>{urn:oasis:names:tc:xliff:document:1.1}source
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.lisa.LISAunit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.lisa.LISAunit.rid">
<tt class="descname">rid</tt><a class="headerlink" href="#translate.storage.lisa.LISAunit.rid" title="Permalink to this definition">¶</a></dt>
<dd><p>rid</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>text</em>, <em>lang='xx'</em>, <em>append=False</em><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the &#8220;target&#8221; string (second language), or alternatively
appends to the list</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.lisa.LISAunit.target">
<tt class="descname">target</tt><a class="headerlink" href="#translate.storage.lisa.LISAunit.target" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the &#8220;target&#8221; text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.lisa.LISAunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.lisa.LISAunit.xid">
<tt class="descname">xid</tt><a class="headerlink" href="#translate.storage.lisa.LISAunit.xid" title="Permalink to this definition">¶</a></dt>
<dd><p>xid</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.mo">
<span id="mo"></span><h2>mo<a class="headerlink" href="#module-translate.storage.mo" title="Permalink to this headline">¶</a></h2>
<p>Module for parsing Gettext .mo files for translation.</p>
<p>The coding of .mo files was produced from <a class="reference external" href="http://www.gnu.org/software/gettext/manual/gettext.html#MO-Files">Gettext documentation</a>,
Pythons msgfmt.py and by observing and testing existing .mo files in the wild.</p>
<p>The hash algorithm is implemented for MO files, this should result in
faster access of the MO file.  The hash is optional for Gettext
and is not needed for reading or writing MO files, in this implementation
it is always on and does produce sometimes different results to Gettext
in very small files.</p>
<dl class="class">
<dt id="translate.storage.mo.mofile">
<em class="property">class </em><tt class="descclassname">translate.storage.mo.</tt><tt class="descname">mofile</tt><big>(</big><em>inputfile=None</em>, <em>unitclass=&lt;class 'translate.storage.mo.mounit'&gt;</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile" title="Permalink to this definition">¶</a></dt>
<dd><p>A class representing a .mo file.</p>
<dl class="attribute">
<dt id="translate.storage.mo.mofile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.mo.mofile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.mo.mounit" title="translate.storage.mo.mounit"><tt class="xref py py-class docutils literal"><span class="pre">mounit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.getheaderplural">
<tt class="descname">getheaderplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.getheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nplural and plural values from the header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the project based on information in the header.</p>
<dl class="docutils">
<dt>The project is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the &#8216;X-Project-Style&#8217; entry in the header.</li>
<li>Use &#8216;Report-Msgid-Bug-To&#8217; entry</li>
<li>Use the &#8216;X-Accelerator&#8217; entry</li>
<li>Use the Project ID</li>
<li>Analyse the file itself (not yet implemented)</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the target language based on information in the header.</p>
<dl class="docutils">
<dt>The target language is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the &#8216;Language&#8217; entry in the header.</li>
<li>Poedit&#8217;s custom headers.</li>
<li>Analysing the &#8216;Language-Team&#8217; entry.</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.header">
<tt class="descname">header</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the header element, or None. Only the first element is allowed
to be a header. Note that this could still return an empty header element,
if present.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.init_headers">
<tt class="descname">init_headers</tt><big>(</big><em>charset='UTF-8'</em>, <em>encoding='8bit'</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.init_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>sets default values for po headers</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.makeheader">
<tt class="descname">makeheader</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.makeheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header for the given filename.</p>
<p>Check .makeheaderdict() for information on parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.makeheaderdict">
<tt class="descname">makeheaderdict</tt><big>(</big><em>charset='CHARSET'</em>, <em>encoding='ENCODING'</em>, <em>project_id_version=None</em>, <em>pot_creation_date=None</em>, <em>po_revision_date=None</em>, <em>last_translator=None</em>, <em>language_team=None</em>, <em>mime_version=None</em>, <em>plural_forms=None</em>, <em>report_msgid_bugs_to=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.makeheaderdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header dictionary with useful defaults.</p>
<p>pot_creation_date can be None (current date) or a value (datetime or string)
po_revision_date can be None (form), False (=pot_creation_date), True (=now),
or a value (datetime or string)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary with the header items</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.mo.mofile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.mo.mofile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.mergeheaders">
<tt class="descname">mergeheaders</tt><big>(</big><em>otherstore</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.mergeheaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges another header with this header.</p>
<p>This header is assumed to be the template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.parse">
<tt class="descname">parse</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parses the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mo.mofile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.parseheader">
<tt class="descname">parseheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.parseheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the PO header and returns the interpreted values as a
dictionary.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mo.mofile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project in the header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>project_style</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the new project</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>lang</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language in the header.</p>
<p>This removes any custom Poedit headers if they exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lang</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the new target language code</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.updatecontributor">
<tt class="descname">updatecontributor</tt><big>(</big><em>name</em>, <em>email=None</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.updatecontributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add contribution comments if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.updateheader">
<tt class="descname">updateheader</tt><big>(</big><em>add=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.updateheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the fields in the PO style header.</p>
<p>This will create a header if add == True.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.updateheaderplural">
<tt class="descname">updateheaderplural</tt><big>(</big><em>nplurals</em>, <em>plural</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mofile.updateheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the Plural-Form PO header.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.mo.mounit">
<em class="property">class </em><tt class="descclassname">translate.storage.mo.</tt><tt class="descname">mounit</tt><big>(</big><em>source=None</em>, <em>encoding=None</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit" title="Permalink to this definition">¶</a></dt>
<dd><p>A class representing a .mo translation message.</p>
<dl class="method">
<dt id="translate.storage.mo.mounit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mo.mounit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.getlocations">
<tt class="descname">getlocations</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.getnotes">
<tt class="descname">getnotes</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><tt class="xref py py-meth docutils literal"><span class="pre">getlocations()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Is this a header entry?</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Is this message translateable?</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mo.mounit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.setsource">
<tt class="descname">setsource</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.setsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>target</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mo.mounit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.mo.mounpack">
<tt class="descclassname">translate.storage.mo.</tt><tt class="descname">mounpack</tt><big>(</big><em>filename='messages.mo'</em><big>)</big><a class="headerlink" href="#translate.storage.mo.mounpack" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper to unpack Gettext MO files into a Python string</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.mozilla_lang">
<span id="mozilla-lang"></span><h2>mozilla_lang<a class="headerlink" href="#module-translate.storage.mozilla_lang" title="Permalink to this headline">¶</a></h2>
<p>A class to manage Mozilla .lang files.</p>
<dl class="class">
<dt id="translate.storage.mozilla_lang.LangStore">
<em class="property">class </em><tt class="descclassname">translate.storage.mozilla_lang.</tt><tt class="descname">LangStore</tt><big>(</big><em>inputfile=None</em>, <em>flavour=None</em>, <em>encoding='utf-8'</em>, <em>mark_active=False</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore" title="Permalink to this definition">¶</a></dt>
<dd><p>We extend TxtFile, since that has a lot of useful stuff for encoding</p>
<dl class="attribute">
<dt id="translate.storage.mozilla_lang.LangStore.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.mozilla_lang.LangUnit" title="translate.storage.mozilla_lang.LangUnit"><tt class="xref py py-class docutils literal"><span class="pre">LangUnit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.getoutput">
<tt class="descname">getoutput</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the units back to blocks</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.mozilla_lang.LangStore.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mozilla_lang.LangStore.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mozilla_lang.LangStore.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.mozilla_lang.LangUnit">
<em class="property">class </em><tt class="descclassname">translate.storage.mozilla_lang.</tt><tt class="descname">LangUnit</tt><big>(</big><em>source=None</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>This is just a normal unit with a weird string output</p>
<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mozilla_lang.LangUnit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.getnotes">
<tt class="descname">getnotes</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><tt class="xref py py-meth docutils literal"><span class="pre">getlocations()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mozilla_lang.LangUnit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.setsource">
<tt class="descname">setsource</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.setsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>target</em><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.odf_io">
<span id="odf-io"></span><h2>odf_io<a class="headerlink" href="#module-translate.storage.odf_io" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-translate.storage.odf_shared">
<span id="odf-shared"></span><h2>odf_shared<a class="headerlink" href="#module-translate.storage.odf_shared" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-translate.storage.omegat">
<span id="omegat"></span><h2>omegat<a class="headerlink" href="#module-translate.storage.omegat" title="Permalink to this headline">¶</a></h2>
<p>Manage the OmegaT glossary format</p>
<p>OmegaT glossary format is used by the
<a class="reference external" href="http://www.omegat.org/en/omegat.html">OmegaT</a> computer aided
translation tool.</p>
<p>It is a bilingual base class derived format with <a class="reference internal" href="#translate.storage.omegat.OmegaTFile" title="translate.storage.omegat.OmegaTFile"><tt class="xref py py-class docutils literal"><span class="pre">OmegaTFile</span></tt></a>
and <a class="reference internal" href="#translate.storage.omegat.OmegaTUnit" title="translate.storage.omegat.OmegaTUnit"><tt class="xref py py-class docutils literal"><span class="pre">OmegaTUnit</span></tt></a> providing file and unit level access.</p>
<dl class="docutils">
<dt>Format Implementation</dt>
<dd><p class="first">The OmegaT glossary format is a simple Tab Separated Value (TSV) file
with the columns: source, target, comment.</p>
<p class="last">The dialect of the TSV files is specified by <a class="reference internal" href="#translate.storage.omegat.OmegaTDialect" title="translate.storage.omegat.OmegaTDialect"><tt class="xref py py-class docutils literal"><span class="pre">OmegaTDialect</span></tt></a>.</p>
</dd>
<dt>Encoding</dt>
<dd>The files are either UTF-8 or encoded using the system default.  UTF-8
encoded files use the .utf8 extension while system encoded files use
the .tab extension.</dd>
</dl>
<dl class="data">
<dt id="translate.storage.omegat.OMEGAT_FIELDNAMES">
<tt class="descclassname">translate.storage.omegat.</tt><tt class="descname">OMEGAT_FIELDNAMES</tt><em class="property"> = ['source', 'target', 'comment']</em><a class="headerlink" href="#translate.storage.omegat.OMEGAT_FIELDNAMES" title="Permalink to this definition">¶</a></dt>
<dd><p>Field names for an OmegaT glossary unit</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.omegat.OmegaTDialect">
<em class="property">class </em><tt class="descclassname">translate.storage.omegat.</tt><tt class="descname">OmegaTDialect</tt><a class="headerlink" href="#translate.storage.omegat.OmegaTDialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Describe the properties of an OmegaT generated TAB-delimited glossary
file.</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.omegat.OmegaTFile">
<em class="property">class </em><tt class="descclassname">translate.storage.omegat.</tt><tt class="descname">OmegaTFile</tt><big>(</big><em>inputfile=None</em>, <em>unitclass=&lt;class 'translate.storage.omegat.OmegaTUnit'&gt;</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile" title="Permalink to this definition">¶</a></dt>
<dd><p>An OmegaT glossary file</p>
<dl class="attribute">
<dt id="translate.storage.omegat.OmegaTFile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.omegat.OmegaTFile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.parse">
<tt class="descname">parse</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parsese the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.omegat.OmegaTFile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.omegat.OmegaTFile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.omegat.OmegaTFileTab">
<em class="property">class </em><tt class="descclassname">translate.storage.omegat.</tt><tt class="descname">OmegaTFileTab</tt><big>(</big><em>inputfile=None</em>, <em>unitclass=&lt;class 'translate.storage.omegat.OmegaTUnit'&gt;</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab" title="Permalink to this definition">¶</a></dt>
<dd><p>An OmegaT glossary file in the default system encoding</p>
<dl class="attribute">
<dt id="translate.storage.omegat.OmegaTFileTab.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.omegat.OmegaTFileTab.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.parse">
<tt class="descname">parse</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parsese the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.omegat.OmegaTFileTab.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.omegat.OmegaTFileTab.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.omegat.OmegaTUnit">
<em class="property">class </em><tt class="descclassname">translate.storage.omegat.</tt><tt class="descname">OmegaTUnit</tt><big>(</big><em>source=None</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>An OmegaT glossary unit</p>
<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.omegat.OmegaTUnit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.omegat.OmegaTUnit.dict">
<tt class="descname">dict</tt><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a OmegaT line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.getdict">
<tt class="descname">getdict</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.getdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a OmegaT line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.getlocations">
<tt class="descname">getlocations</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.omegat.OmegaTUnit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.setdict">
<tt class="descname">setdict</tt><big>(</big><em>newdict</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.setdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dictionary of values for a OmegaT line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>newdict</strong> (<em>Dict</em>) &#8211; a new dictionary with OmegaT line elements</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.oo">
<span id="oo"></span><h2>oo<a class="headerlink" href="#module-translate.storage.oo" title="Permalink to this headline">¶</a></h2>
<p>Classes that hold units of .oo files (oounit) or entire files (oofile).</p>
<p>These are specific .oo files for localisation exported by OpenOffice.org - SDF
format (previously knows as GSI files).</p>
<p>The behaviour in terms of escaping is explained in detail in the programming
comments.</p>
<dl class="function">
<dt id="translate.storage.oo.encode_if_needed_utf8">
<tt class="descclassname">translate.storage.oo.</tt><tt class="descname">encode_if_needed_utf8</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#translate.storage.oo.encode_if_needed_utf8" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode a Unicode string the the specified encoding</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.oo.escape_help_text">
<tt class="descclassname">translate.storage.oo.</tt><tt class="descname">escape_help_text</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#translate.storage.oo.escape_help_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Escapes the help text as it would be in an SDF file.</p>
<p>&lt;, &gt;, &#8221; are only escaped in &lt;[[:lower:]]&gt; tags. Some HTML tags make it in in
lowercase so those are dealt with. Some OpenOffice.org help tags are not
escaped.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.oo.escape_text">
<tt class="descclassname">translate.storage.oo.</tt><tt class="descname">escape_text</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#translate.storage.oo.escape_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Escapes SDF text to be suitable for unit consumption.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.oo.makekey">
<tt class="descclassname">translate.storage.oo.</tt><tt class="descname">makekey</tt><big>(</big><em>ookey</em>, <em>long_keys</em><big>)</big><a class="headerlink" href="#translate.storage.oo.makekey" title="Permalink to this definition">¶</a></dt>
<dd><p>converts an oo key tuple into a unique identifier</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ookey</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#tuple" title="(in Python v2.7)"><em>tuple</em></a>) &#8211; an oo key</li>
<li><strong>long_keys</strong> (<em>Boolean</em>) &#8211; Use long keys</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">str</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">unique ascii identifier</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="translate.storage.oo.normalizefilename">
<tt class="descclassname">translate.storage.oo.</tt><tt class="descname">normalizefilename</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#translate.storage.oo.normalizefilename" title="Permalink to this definition">¶</a></dt>
<dd><p>converts any non-alphanumeric (standard roman) characters to _</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.oo.oofile">
<em class="property">class </em><tt class="descclassname">translate.storage.oo.</tt><tt class="descname">oofile</tt><big>(</big><em>input=None</em><big>)</big><a class="headerlink" href="#translate.storage.oo.oofile" title="Permalink to this definition">¶</a></dt>
<dd><p>this represents an entire .oo file</p>
<dl class="attribute">
<dt id="translate.storage.oo.oofile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.oo.oofile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.oo.oounit" title="translate.storage.oo.oounit"><tt class="xref py py-class docutils literal"><span class="pre">oounit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oofile.addline">
<tt class="descname">addline</tt><big>(</big><em>thisline</em><big>)</big><a class="headerlink" href="#translate.storage.oo.oofile.addline" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a parsed line to the file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oofile.getoutput">
<tt class="descname">getoutput</tt><big>(</big><em>skip_source=False</em>, <em>fallback_lang=None</em><big>)</big><a class="headerlink" href="#translate.storage.oo.oofile.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>converts all the lines back to tab-delimited form</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oofile.parse">
<tt class="descname">parse</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#translate.storage.oo.oofile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parses lines and adds them to the file</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.oo.ooline">
<em class="property">class </em><tt class="descclassname">translate.storage.oo.</tt><tt class="descname">ooline</tt><big>(</big><em>parts=None</em><big>)</big><a class="headerlink" href="#translate.storage.oo.ooline" title="Permalink to this definition">¶</a></dt>
<dd><p>this represents one line, one translation in an .oo file</p>
<dl class="method">
<dt id="translate.storage.oo.ooline.getkey">
<tt class="descname">getkey</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.oo.ooline.getkey" title="Permalink to this definition">¶</a></dt>
<dd><p>get the key that identifies the resource</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.ooline.getoutput">
<tt class="descname">getoutput</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.oo.ooline.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>return a line in tab-delimited form</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.ooline.getparts">
<tt class="descname">getparts</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.oo.ooline.getparts" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of parts in this line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.ooline.gettext">
<tt class="descname">gettext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.oo.ooline.gettext" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains the text column and handle escaping.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.ooline.setparts">
<tt class="descname">setparts</tt><big>(</big><em>parts</em><big>)</big><a class="headerlink" href="#translate.storage.oo.ooline.setparts" title="Permalink to this definition">¶</a></dt>
<dd><p>create a line from its tab-delimited parts</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.ooline.settext">
<tt class="descname">settext</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#translate.storage.oo.ooline.settext" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the text column and handle escaping.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.oo.ooline.text">
<tt class="descname">text</tt><a class="headerlink" href="#translate.storage.oo.ooline.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains the text column and handle escaping.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.oo.oomultifile">
<em class="property">class </em><tt class="descclassname">translate.storage.oo.</tt><tt class="descname">oomultifile</tt><big>(</big><em>filename</em>, <em>mode=None</em>, <em>multifilestyle='single'</em><big>)</big><a class="headerlink" href="#translate.storage.oo.oomultifile" title="Permalink to this definition">¶</a></dt>
<dd><p>this takes a huge GSI file and represents it as multiple smaller files...</p>
<dl class="method">
<dt id="translate.storage.oo.oomultifile.createsubfileindex">
<tt class="descname">createsubfileindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.oo.oomultifile.createsubfileindex" title="Permalink to this definition">¶</a></dt>
<dd><p>reads in all the lines and works out the subfiles</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oomultifile.getoofile">
<tt class="descname">getoofile</tt><big>(</big><em>subfile</em><big>)</big><a class="headerlink" href="#translate.storage.oo.oomultifile.getoofile" title="Permalink to this definition">¶</a></dt>
<dd><p>returns an oofile built up from the given subfile&#8217;s lines</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oomultifile.getsubfilename">
<tt class="descname">getsubfilename</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#translate.storage.oo.oomultifile.getsubfilename" title="Permalink to this definition">¶</a></dt>
<dd><p>looks up the subfile name for the line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oomultifile.getsubfilesrc">
<tt class="descname">getsubfilesrc</tt><big>(</big><em>subfile</em><big>)</big><a class="headerlink" href="#translate.storage.oo.oomultifile.getsubfilesrc" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the list of lines matching the subfile</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oomultifile.listsubfiles">
<tt class="descname">listsubfiles</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.oo.oomultifile.listsubfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of subfiles in the file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oomultifile.openinputfile">
<tt class="descname">openinputfile</tt><big>(</big><em>subfile</em><big>)</big><a class="headerlink" href="#translate.storage.oo.oomultifile.openinputfile" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a pseudo-file object for the given subfile</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oomultifile.openoutputfile">
<tt class="descname">openoutputfile</tt><big>(</big><em>subfile</em><big>)</big><a class="headerlink" href="#translate.storage.oo.oomultifile.openoutputfile" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a pseudo-file object for the given subfile</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.oo.oounit">
<em class="property">class </em><tt class="descclassname">translate.storage.oo.</tt><tt class="descname">oounit</tt><a class="headerlink" href="#translate.storage.oo.oounit" title="Permalink to this definition">¶</a></dt>
<dd><p>this represents a number of translations of a resource</p>
<dl class="method">
<dt id="translate.storage.oo.oounit.addline">
<tt class="descname">addline</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#translate.storage.oo.oounit.addline" title="Permalink to this definition">¶</a></dt>
<dd><p>add a line to the oounit</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oounit.getoutput">
<tt class="descname">getoutput</tt><big>(</big><em>skip_source=False</em>, <em>fallback_lang=None</em><big>)</big><a class="headerlink" href="#translate.storage.oo.oounit.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>return the lines in tab-delimited form</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.oo.unescape_help_text">
<tt class="descclassname">translate.storage.oo.</tt><tt class="descname">unescape_help_text</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#translate.storage.oo.unescape_help_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Unescapes normal text to be suitable for writing to the SDF file.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.oo.unescape_text">
<tt class="descclassname">translate.storage.oo.</tt><tt class="descname">unescape_text</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#translate.storage.oo.unescape_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Unescapes SDF text to be suitable for unit consumption.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.placeables">
<span id="placeables"></span><h2>placeables<a class="headerlink" href="#module-translate.storage.placeables" title="Permalink to this headline">¶</a></h2>
<p>This module implements basic functionality to support placeables.</p>
<dl class="docutils">
<dt>A placeable is used to represent things like:</dt>
<dd><ol class="first last arabic">
<li><p class="first">Substitutions</p>
<p>For example, in ODF, footnotes appear in the ODF XML
where they are defined; so if we extract a paragraph with some
footnotes, the translator will have a lot of additional XML to with;
so we separate the footnotes out into separate translation units and
mark their positions in the original text with placeables.</p>
</li>
<li><p class="first">Hiding of inline formatting data</p>
<p>The translator doesn&#8217;t want to have to deal with all the weird
formatting conventions of wherever the text came from.</p>
</li>
<li><p class="first">Marking variables</p>
<p>This is an old issue - translators translate variable names which
should remain untranslated. We can wrap placeables around variable
names to avoid this.</p>
</li>
</ol>
</dd>
</dl>
<p>The placeables model follows the XLIFF standard&#8217;s list of placeables.
Please refer to the XLIFF specification to get a better understanding.</p>
<div class="section" id="id2">
<h3>base<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<span class="target" id="module-translate.storage.placeables.base"></span><p>Contains base placeable classes with names based on XLIFF placeables. See the
XLIFF standard for more information about what the names mean.</p>
</div>
<div class="section" id="module-translate.storage.placeables.general">
<span id="general"></span><h3>general<a class="headerlink" href="#module-translate.storage.placeables.general" title="Permalink to this headline">¶</a></h3>
<p>Contains general placeable implementations. That is placeables that does not
fit into any other sub-category.</p>
<dl class="class">
<dt id="translate.storage.placeables.general.AltAttrPlaceable">
<em class="property">class </em><tt class="descclassname">translate.storage.placeables.general.</tt><tt class="descname">AltAttrPlaceable</tt><big>(</big><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable" title="Permalink to this definition">¶</a></dt>
<dd><p>Placeable for the &#8220;alt=...&#8221; attributes inside XML tags.</p>
<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.apply_to_strings">
<tt class="descname">apply_to_strings</tt><big>(</big><em>f</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <tt class="docutils literal"><span class="pre">f</span></tt> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> &#8211; Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">self.renderer</span></tt> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.delete_range">
<tt class="descname">delete_range</tt><big>(</big><em>start_index</em>, <em>end_index</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<tt class="docutils literal"><span class="pre">start_index</span></tt> and <tt class="docutils literal"><span class="pre">end_index</span></tt>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <tt class="docutils literal"><span class="pre">StringElem</span></tt> representing the removed sub-string, the
parent node from which it was deleted as well as the offset at
which it was deleted from. <tt class="docutils literal"><span class="pre">None</span></tt> is returned for the parent
value if the root was deleted. If the parent and offset values
are not <tt class="docutils literal"><span class="pre">None</span></tt>, <tt class="docutils literal"><span class="pre">parent.insert(offset,</span> <span class="pre">deleted)</span></tt>
effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.depth_first">
<tt class="descname">depth_first</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.elem_at_offset">
<tt class="descname">elem_at_offset</tt><big>(</big><em>offset</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <tt class="docutils literal"><span class="pre">StringElem</span></tt> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.elem_offset">
<tt class="descname">elem_offset</tt><big>(</big><em>elem</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <tt class="docutils literal"><span class="pre">elem</span></tt> in the current tree.</p>
<p>This cannot be reliably used if <tt class="docutils literal"><span class="pre">self.renderer</span></tt> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <tt class="docutils literal"><span class="pre">StringElemGUI.index()</span></tt> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <tt class="docutils literal"><span class="pre">e</span></tt> starts, or -1 if <tt class="docutils literal"><span class="pre">e</span></tt>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.encode">
<tt class="descname">encode</tt><big>(</big><em>encoding='ascii'</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <tt class="docutils literal"><span class="pre">unicode</span></tt> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.find">
<tt class="descname">find</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <tt class="docutils literal"><span class="pre">x</span></tt> in this string tree and return the position
at which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.find_elems_with">
<tt class="descname">find_elems_with</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <tt class="docutils literal"><span class="pre">x</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.flatten">
<tt class="descname">flatten</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the
tree&#8217;s leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.get_index_data">
<tt class="descname">get_index_data</tt><big>(</big><em>index</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <tt class="docutils literal"><span class="pre">index</span></tt> resides.</li>
<li><em>index</em>: Copy of the <tt class="docutils literal"><span class="pre">index</span></tt> parameter</li>
<li><em>offset</em>: The offset of <tt class="docutils literal"><span class="pre">index</span></tt> into <tt class="docutils literal"><span class="pre">'elem'</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.get_parent_elem">
<tt class="descname">get_parent_elem</tt><big>(</big><em>child</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<tt class="docutils literal"><span class="pre">child</span></tt> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.insert">
<tt class="descname">insert</tt><big>(</big><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree&#8217;s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.insert_between">
<tt class="descname">insert_between</tt><big>(</big><em>left</em>, <em>right</em>, <em>text</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <tt class="docutils literal"><span class="pre">StringElem</span></tt>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.isleaf">
<tt class="descname">isleaf</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <tt class="docutils literal"><span class="pre">StringElem</span></tt> tree.</p>
<p>A node is a leaf node if it is a <tt class="docutils literal"><span class="pre">StringElem</span></tt> (not a sub-class) and
contains only sub-elements of type <tt class="docutils literal"><span class="pre">str</span></tt> or <tt class="docutils literal"><span class="pre">unicode</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.iter_depth_first">
<tt class="descname">iter_depth_first</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.map">
<tt class="descname">map</tt><big>(</big><em>f</em>, <em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <tt class="docutils literal"><span class="pre">f</span></tt> to all nodes for which <tt class="docutils literal"><span class="pre">filter</span></tt> returned <tt class="docutils literal"><span class="pre">True</span></tt>
(optional).</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.parse">
<em class="property">classmethod </em><tt class="descname">parse</tt><big>(</big><em>pstr</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>A parser method to extract placeables from a string based on a regular
expression. Use this function as the <tt class="docutils literal"><span class="pre">&#64;parse()</span></tt> method of a placeable
class.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.print_tree">
<tt class="descname">print_tree</tt><big>(</big><em>indent=0</em>, <em>verbose=False</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance&#8217;s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.prune">
<tt class="descname">prune</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.regex">
<tt class="descname">regex</tt><em class="property"> = &lt;_sre.SRE_Pattern object at 0x305c5a0&gt;</em><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.regex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.remove_type">
<tt class="descname">remove_type</tt><big>(</big><em>ptype</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <tt class="docutils literal"><span class="pre">ptype</span></tt> with base <tt class="docutils literal"><span class="pre">StringElem</span></tt>s,
containing the same sub-elements. This is only applicable to
elements below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.translate">
<tt class="descname">translate</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.
This method should be either overridden in implementing sub-classes
or dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable">
<em class="property">class </em><tt class="descclassname">translate.storage.placeables.general.</tt><tt class="descname">XMLEntityPlaceable</tt><big>(</big><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable" title="Permalink to this definition">¶</a></dt>
<dd><p>Placeable handling XML entities (<tt class="docutils literal"><span class="pre">&amp;xxxxx;</span></tt>-style entities).</p>
<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.apply_to_strings">
<tt class="descname">apply_to_strings</tt><big>(</big><em>f</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <tt class="docutils literal"><span class="pre">f</span></tt> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> &#8211; Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">self.renderer</span></tt> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.delete_range">
<tt class="descname">delete_range</tt><big>(</big><em>start_index</em>, <em>end_index</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<tt class="docutils literal"><span class="pre">start_index</span></tt> and <tt class="docutils literal"><span class="pre">end_index</span></tt>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <tt class="docutils literal"><span class="pre">StringElem</span></tt> representing the removed sub-string, the
parent node from which it was deleted as well as the offset at
which it was deleted from. <tt class="docutils literal"><span class="pre">None</span></tt> is returned for the parent
value if the root was deleted. If the parent and offset values
are not <tt class="docutils literal"><span class="pre">None</span></tt>, <tt class="docutils literal"><span class="pre">parent.insert(offset,</span> <span class="pre">deleted)</span></tt>
effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.depth_first">
<tt class="descname">depth_first</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.elem_at_offset">
<tt class="descname">elem_at_offset</tt><big>(</big><em>offset</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <tt class="docutils literal"><span class="pre">StringElem</span></tt> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.elem_offset">
<tt class="descname">elem_offset</tt><big>(</big><em>elem</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <tt class="docutils literal"><span class="pre">elem</span></tt> in the current tree.</p>
<p>This cannot be reliably used if <tt class="docutils literal"><span class="pre">self.renderer</span></tt> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <tt class="docutils literal"><span class="pre">StringElemGUI.index()</span></tt> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <tt class="docutils literal"><span class="pre">e</span></tt> starts, or -1 if <tt class="docutils literal"><span class="pre">e</span></tt>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.encode">
<tt class="descname">encode</tt><big>(</big><em>encoding='ascii'</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <tt class="docutils literal"><span class="pre">unicode</span></tt> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.find">
<tt class="descname">find</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <tt class="docutils literal"><span class="pre">x</span></tt> in this string tree and return the position
at which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.find_elems_with">
<tt class="descname">find_elems_with</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <tt class="docutils literal"><span class="pre">x</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.flatten">
<tt class="descname">flatten</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the
tree&#8217;s leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.get_index_data">
<tt class="descname">get_index_data</tt><big>(</big><em>index</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <tt class="docutils literal"><span class="pre">index</span></tt> resides.</li>
<li><em>index</em>: Copy of the <tt class="docutils literal"><span class="pre">index</span></tt> parameter</li>
<li><em>offset</em>: The offset of <tt class="docutils literal"><span class="pre">index</span></tt> into <tt class="docutils literal"><span class="pre">'elem'</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.get_parent_elem">
<tt class="descname">get_parent_elem</tt><big>(</big><em>child</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<tt class="docutils literal"><span class="pre">child</span></tt> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.insert">
<tt class="descname">insert</tt><big>(</big><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree&#8217;s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.insert_between">
<tt class="descname">insert_between</tt><big>(</big><em>left</em>, <em>right</em>, <em>text</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <tt class="docutils literal"><span class="pre">StringElem</span></tt>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.isleaf">
<tt class="descname">isleaf</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <tt class="docutils literal"><span class="pre">StringElem</span></tt> tree.</p>
<p>A node is a leaf node if it is a <tt class="docutils literal"><span class="pre">StringElem</span></tt> (not a sub-class) and
contains only sub-elements of type <tt class="docutils literal"><span class="pre">str</span></tt> or <tt class="docutils literal"><span class="pre">unicode</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.iter_depth_first">
<tt class="descname">iter_depth_first</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.map">
<tt class="descname">map</tt><big>(</big><em>f</em>, <em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <tt class="docutils literal"><span class="pre">f</span></tt> to all nodes for which <tt class="docutils literal"><span class="pre">filter</span></tt> returned <tt class="docutils literal"><span class="pre">True</span></tt>
(optional).</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.parse">
<em class="property">classmethod </em><tt class="descname">parse</tt><big>(</big><em>pstr</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>A parser method to extract placeables from a string based on a regular
expression. Use this function as the <tt class="docutils literal"><span class="pre">&#64;parse()</span></tt> method of a placeable
class.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.print_tree">
<tt class="descname">print_tree</tt><big>(</big><em>indent=0</em>, <em>verbose=False</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance&#8217;s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.prune">
<tt class="descname">prune</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.regex">
<tt class="descname">regex</tt><em class="property"> = &lt;_sre.SRE_Pattern object at 0x3204940&gt;</em><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.regex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.remove_type">
<tt class="descname">remove_type</tt><big>(</big><em>ptype</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <tt class="docutils literal"><span class="pre">ptype</span></tt> with base <tt class="docutils literal"><span class="pre">StringElem</span></tt>s,
containing the same sub-elements. This is only applicable to
elements below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.translate">
<tt class="descname">translate</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.
This method should be either overridden in implementing sub-classes
or dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.general.XMLTagPlaceable">
<em class="property">class </em><tt class="descclassname">translate.storage.placeables.general.</tt><tt class="descname">XMLTagPlaceable</tt><big>(</big><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable" title="Permalink to this definition">¶</a></dt>
<dd><p>Placeable handling XML tags.</p>
<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.apply_to_strings">
<tt class="descname">apply_to_strings</tt><big>(</big><em>f</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <tt class="docutils literal"><span class="pre">f</span></tt> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> &#8211; Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">self.renderer</span></tt> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.delete_range">
<tt class="descname">delete_range</tt><big>(</big><em>start_index</em>, <em>end_index</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<tt class="docutils literal"><span class="pre">start_index</span></tt> and <tt class="docutils literal"><span class="pre">end_index</span></tt>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <tt class="docutils literal"><span class="pre">StringElem</span></tt> representing the removed sub-string, the
parent node from which it was deleted as well as the offset at
which it was deleted from. <tt class="docutils literal"><span class="pre">None</span></tt> is returned for the parent
value if the root was deleted. If the parent and offset values
are not <tt class="docutils literal"><span class="pre">None</span></tt>, <tt class="docutils literal"><span class="pre">parent.insert(offset,</span> <span class="pre">deleted)</span></tt>
effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.depth_first">
<tt class="descname">depth_first</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.elem_at_offset">
<tt class="descname">elem_at_offset</tt><big>(</big><em>offset</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <tt class="docutils literal"><span class="pre">StringElem</span></tt> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.elem_offset">
<tt class="descname">elem_offset</tt><big>(</big><em>elem</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <tt class="docutils literal"><span class="pre">elem</span></tt> in the current tree.</p>
<p>This cannot be reliably used if <tt class="docutils literal"><span class="pre">self.renderer</span></tt> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <tt class="docutils literal"><span class="pre">StringElemGUI.index()</span></tt> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <tt class="docutils literal"><span class="pre">e</span></tt> starts, or -1 if <tt class="docutils literal"><span class="pre">e</span></tt>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.encode">
<tt class="descname">encode</tt><big>(</big><em>encoding='ascii'</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <tt class="docutils literal"><span class="pre">unicode</span></tt> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.find">
<tt class="descname">find</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <tt class="docutils literal"><span class="pre">x</span></tt> in this string tree and return the position
at which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.find_elems_with">
<tt class="descname">find_elems_with</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <tt class="docutils literal"><span class="pre">x</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.flatten">
<tt class="descname">flatten</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the
tree&#8217;s leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.get_index_data">
<tt class="descname">get_index_data</tt><big>(</big><em>index</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <tt class="docutils literal"><span class="pre">index</span></tt> resides.</li>
<li><em>index</em>: Copy of the <tt class="docutils literal"><span class="pre">index</span></tt> parameter</li>
<li><em>offset</em>: The offset of <tt class="docutils literal"><span class="pre">index</span></tt> into <tt class="docutils literal"><span class="pre">'elem'</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.get_parent_elem">
<tt class="descname">get_parent_elem</tt><big>(</big><em>child</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<tt class="docutils literal"><span class="pre">child</span></tt> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.insert">
<tt class="descname">insert</tt><big>(</big><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree&#8217;s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.insert_between">
<tt class="descname">insert_between</tt><big>(</big><em>left</em>, <em>right</em>, <em>text</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <tt class="docutils literal"><span class="pre">StringElem</span></tt>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.isleaf">
<tt class="descname">isleaf</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <tt class="docutils literal"><span class="pre">StringElem</span></tt> tree.</p>
<p>A node is a leaf node if it is a <tt class="docutils literal"><span class="pre">StringElem</span></tt> (not a sub-class) and
contains only sub-elements of type <tt class="docutils literal"><span class="pre">str</span></tt> or <tt class="docutils literal"><span class="pre">unicode</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.iter_depth_first">
<tt class="descname">iter_depth_first</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.map">
<tt class="descname">map</tt><big>(</big><em>f</em>, <em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <tt class="docutils literal"><span class="pre">f</span></tt> to all nodes for which <tt class="docutils literal"><span class="pre">filter</span></tt> returned <tt class="docutils literal"><span class="pre">True</span></tt>
(optional).</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.parse">
<em class="property">classmethod </em><tt class="descname">parse</tt><big>(</big><em>pstr</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>A parser method to extract placeables from a string based on a regular
expression. Use this function as the <tt class="docutils literal"><span class="pre">&#64;parse()</span></tt> method of a placeable
class.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.print_tree">
<tt class="descname">print_tree</tt><big>(</big><em>indent=0</em>, <em>verbose=False</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance&#8217;s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.prune">
<tt class="descname">prune</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.regex">
<tt class="descname">regex</tt><em class="property"> = &lt;_sre.SRE_Pattern object at 0x326c990&gt;</em><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.regex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.remove_type">
<tt class="descname">remove_type</tt><big>(</big><em>ptype</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <tt class="docutils literal"><span class="pre">ptype</span></tt> with base <tt class="docutils literal"><span class="pre">StringElem</span></tt>s,
containing the same sub-elements. This is only applicable to
elements below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.translate">
<tt class="descname">translate</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.
This method should be either overridden in implementing sub-classes
or dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.placeables.interfaces">
<span id="interfaces"></span><h3>interfaces<a class="headerlink" href="#module-translate.storage.placeables.interfaces" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>This file contains abstract (semantic) interfaces for placeable</dt>
<dd>implementations.</dd>
</dl>
<dl class="class">
<dt id="translate.storage.placeables.interfaces.BasePlaceable">
<em class="property">class </em><tt class="descclassname">translate.storage.placeables.interfaces.</tt><tt class="descname">BasePlaceable</tt><big>(</big><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all placeables.</p>
<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.apply_to_strings">
<tt class="descname">apply_to_strings</tt><big>(</big><em>f</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <tt class="docutils literal"><span class="pre">f</span></tt> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> &#8211; Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">self.renderer</span></tt> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.delete_range">
<tt class="descname">delete_range</tt><big>(</big><em>start_index</em>, <em>end_index</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<tt class="docutils literal"><span class="pre">start_index</span></tt> and <tt class="docutils literal"><span class="pre">end_index</span></tt>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <tt class="docutils literal"><span class="pre">StringElem</span></tt> representing the removed sub-string, the
parent node from which it was deleted as well as the offset at
which it was deleted from. <tt class="docutils literal"><span class="pre">None</span></tt> is returned for the parent
value if the root was deleted. If the parent and offset values
are not <tt class="docutils literal"><span class="pre">None</span></tt>, <tt class="docutils literal"><span class="pre">parent.insert(offset,</span> <span class="pre">deleted)</span></tt>
effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.depth_first">
<tt class="descname">depth_first</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.elem_at_offset">
<tt class="descname">elem_at_offset</tt><big>(</big><em>offset</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <tt class="docutils literal"><span class="pre">StringElem</span></tt> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.elem_offset">
<tt class="descname">elem_offset</tt><big>(</big><em>elem</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <tt class="docutils literal"><span class="pre">elem</span></tt> in the current tree.</p>
<p>This cannot be reliably used if <tt class="docutils literal"><span class="pre">self.renderer</span></tt> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <tt class="docutils literal"><span class="pre">StringElemGUI.index()</span></tt> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <tt class="docutils literal"><span class="pre">e</span></tt> starts, or -1 if <tt class="docutils literal"><span class="pre">e</span></tt>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.encode">
<tt class="descname">encode</tt><big>(</big><em>encoding='ascii'</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <tt class="docutils literal"><span class="pre">unicode</span></tt> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.find">
<tt class="descname">find</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <tt class="docutils literal"><span class="pre">x</span></tt> in this string tree and return the position
at which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.find_elems_with">
<tt class="descname">find_elems_with</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <tt class="docutils literal"><span class="pre">x</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.flatten">
<tt class="descname">flatten</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the
tree&#8217;s leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.get_index_data">
<tt class="descname">get_index_data</tt><big>(</big><em>index</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <tt class="docutils literal"><span class="pre">index</span></tt> resides.</li>
<li><em>index</em>: Copy of the <tt class="docutils literal"><span class="pre">index</span></tt> parameter</li>
<li><em>offset</em>: The offset of <tt class="docutils literal"><span class="pre">index</span></tt> into <tt class="docutils literal"><span class="pre">'elem'</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.get_parent_elem">
<tt class="descname">get_parent_elem</tt><big>(</big><em>child</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<tt class="docutils literal"><span class="pre">child</span></tt> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.insert">
<tt class="descname">insert</tt><big>(</big><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree&#8217;s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.insert_between">
<tt class="descname">insert_between</tt><big>(</big><em>left</em>, <em>right</em>, <em>text</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <tt class="docutils literal"><span class="pre">StringElem</span></tt>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.isleaf">
<tt class="descname">isleaf</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <tt class="docutils literal"><span class="pre">StringElem</span></tt> tree.</p>
<p>A node is a leaf node if it is a <tt class="docutils literal"><span class="pre">StringElem</span></tt> (not a sub-class) and
contains only sub-elements of type <tt class="docutils literal"><span class="pre">str</span></tt> or <tt class="docutils literal"><span class="pre">unicode</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.iter_depth_first">
<tt class="descname">iter_depth_first</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.map">
<tt class="descname">map</tt><big>(</big><em>f</em>, <em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <tt class="docutils literal"><span class="pre">f</span></tt> to all nodes for which <tt class="docutils literal"><span class="pre">filter</span></tt> returned <tt class="docutils literal"><span class="pre">True</span></tt>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.print_tree">
<tt class="descname">print_tree</tt><big>(</big><em>indent=0</em>, <em>verbose=False</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance&#8217;s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.prune">
<tt class="descname">prune</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.remove_type">
<tt class="descname">remove_type</tt><big>(</big><em>ptype</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <tt class="docutils literal"><span class="pre">ptype</span></tt> with base <tt class="docutils literal"><span class="pre">StringElem</span></tt>s,
containing the same sub-elements. This is only applicable to
elements below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.translate">
<tt class="descname">translate</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.
This method should be either overridden in implementing sub-classes
or dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id3">
<h3>lisa<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<span class="target" id="module-translate.storage.placeables.lisa"></span></div>
<div class="section" id="module-translate.storage.placeables.parse">
<span id="parse"></span><h3>parse<a class="headerlink" href="#module-translate.storage.placeables.parse" title="Permalink to this headline">¶</a></h3>
<p>Contains the <tt class="docutils literal"><span class="pre">parse</span></tt> function that parses normal strings into StringElem-
based &#8220;rich&#8221; string element trees.</p>
<dl class="function">
<dt id="translate.storage.placeables.parse.parse">
<tt class="descclassname">translate.storage.placeables.parse.</tt><tt class="descname">parse</tt><big>(</big><em>tree</em>, <em>parse_funcs</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.parse.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse placeables from the given string or sub-tree by using the
parsing functions provided.</p>
<p>The output of this function is <strong>heavily</strong> dependent on the order of the
parsing functions. This is because of the algorithm used.</p>
<p>An over-simplification of the algorithm: the leaves in the <tt class="docutils literal"><span class="pre">StringElem</span></tt>
tree are expanded to the output of the first parsing function in
<tt class="docutils literal"><span class="pre">parse_funcs</span></tt>. The next level of recursion is then started on the new
set of leaves with the used parsing function removed from
<tt class="docutils literal"><span class="pre">parse_funcs</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tree</strong> (<em>unicode|StringElem</em>) &#8211; The string or string element sub-tree to parse.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.placeables.strelem">
<span id="strelem"></span><h3>strelem<a class="headerlink" href="#module-translate.storage.placeables.strelem" title="Permalink to this headline">¶</a></h3>
<p>Contains the base <a class="reference internal" href="#translate.storage.placeables.strelem.StringElem" title="translate.storage.placeables.strelem.StringElem"><tt class="xref py py-class docutils literal"><span class="pre">StringElem</span></tt></a> class that represents a node in a
parsed rich-string tree. It is the base class of all placeables.</p>
<dl class="class">
<dt id="translate.storage.placeables.strelem.StringElem">
<em class="property">class </em><tt class="descclassname">translate.storage.placeables.strelem.</tt><tt class="descname">StringElem</tt><big>(</big><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a sub-tree of a string parsed into a rich structure.
It is also the base class of all placeables.</p>
<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.apply_to_strings">
<tt class="descname">apply_to_strings</tt><big>(</big><em>f</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <tt class="docutils literal"><span class="pre">f</span></tt> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> &#8211; Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">self.renderer</span></tt> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.delete_range">
<tt class="descname">delete_range</tt><big>(</big><em>start_index</em>, <em>end_index</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<tt class="docutils literal"><span class="pre">start_index</span></tt> and <tt class="docutils literal"><span class="pre">end_index</span></tt>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <tt class="docutils literal"><span class="pre">StringElem</span></tt> representing the removed sub-string, the
parent node from which it was deleted as well as the offset at
which it was deleted from. <tt class="docutils literal"><span class="pre">None</span></tt> is returned for the parent
value if the root was deleted. If the parent and offset values
are not <tt class="docutils literal"><span class="pre">None</span></tt>, <tt class="docutils literal"><span class="pre">parent.insert(offset,</span> <span class="pre">deleted)</span></tt>
effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.depth_first">
<tt class="descname">depth_first</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.elem_at_offset">
<tt class="descname">elem_at_offset</tt><big>(</big><em>offset</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <tt class="docutils literal"><span class="pre">StringElem</span></tt> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.elem_offset">
<tt class="descname">elem_offset</tt><big>(</big><em>elem</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <tt class="docutils literal"><span class="pre">elem</span></tt> in the current tree.</p>
<p>This cannot be reliably used if <tt class="docutils literal"><span class="pre">self.renderer</span></tt> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <tt class="docutils literal"><span class="pre">StringElemGUI.index()</span></tt> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <tt class="docutils literal"><span class="pre">e</span></tt> starts, or -1 if <tt class="docutils literal"><span class="pre">e</span></tt>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.encode">
<tt class="descname">encode</tt><big>(</big><em>encoding='ascii'</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <tt class="docutils literal"><span class="pre">unicode</span></tt> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.find">
<tt class="descname">find</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <tt class="docutils literal"><span class="pre">x</span></tt> in this string tree and return the position
at which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.find_elems_with">
<tt class="descname">find_elems_with</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <tt class="docutils literal"><span class="pre">x</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.flatten">
<tt class="descname">flatten</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the
tree&#8217;s leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.get_index_data">
<tt class="descname">get_index_data</tt><big>(</big><em>index</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <tt class="docutils literal"><span class="pre">index</span></tt> resides.</li>
<li><em>index</em>: Copy of the <tt class="docutils literal"><span class="pre">index</span></tt> parameter</li>
<li><em>offset</em>: The offset of <tt class="docutils literal"><span class="pre">index</span></tt> into <tt class="docutils literal"><span class="pre">'elem'</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.get_parent_elem">
<tt class="descname">get_parent_elem</tt><big>(</big><em>child</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<tt class="docutils literal"><span class="pre">child</span></tt> element.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.strelem.StringElem.has_content">
<tt class="descname">has_content</tt><em class="property"> = True</em><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.has_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this string can have sub-elements.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.insert">
<tt class="descname">insert</tt><big>(</big><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree&#8217;s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.insert_between">
<tt class="descname">insert_between</tt><big>(</big><em>left</em>, <em>right</em>, <em>text</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <tt class="docutils literal"><span class="pre">StringElem</span></tt>s.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.strelem.StringElem.iseditable">
<tt class="descname">iseditable</tt><em class="property"> = True</em><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.iseditable" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this string should be changable by the user. Not used at
the moment.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.strelem.StringElem.isfragile">
<tt class="descname">isfragile</tt><em class="property"> = False</em><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.isfragile" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this element should be deleted in its entirety when partially
deleted. Only checked when <tt class="docutils literal"><span class="pre">iseditable</span> <span class="pre">=</span> <span class="pre">False</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.isleaf">
<tt class="descname">isleaf</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <tt class="docutils literal"><span class="pre">StringElem</span></tt> tree.</p>
<p>A node is a leaf node if it is a <tt class="docutils literal"><span class="pre">StringElem</span></tt> (not a sub-class) and
contains only sub-elements of type <tt class="docutils literal"><span class="pre">str</span></tt> or <tt class="docutils literal"><span class="pre">unicode</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.strelem.StringElem.istranslatable">
<tt class="descname">istranslatable</tt><em class="property"> = True</em><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this string is translatable into other languages.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.strelem.StringElem.isvisible">
<tt class="descname">isvisible</tt><em class="property"> = True</em><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.isvisible" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this string should be visible to the user. Not used at
the moment.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.iter_depth_first">
<tt class="descname">iter_depth_first</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.map">
<tt class="descname">map</tt><big>(</big><em>f</em>, <em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <tt class="docutils literal"><span class="pre">f</span></tt> to all nodes for which <tt class="docutils literal"><span class="pre">filter</span></tt> returned <tt class="docutils literal"><span class="pre">True</span></tt>
(optional).</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.placeables.strelem.StringElem.parse">
<em class="property">classmethod </em><tt class="descname">parse</tt><big>(</big><em>pstr</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse an instance of this class from the start of the given string.
This method should be implemented by any sub-class that wants to
parseable by <a class="reference internal" href="#module-translate.storage.placeables.parse" title="translate.storage.placeables.parse"><tt class="xref py py-mod docutils literal"><span class="pre">translate.storage.placeables.parse</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pstr</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; The string to parse into an instance of this class.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An instance of the current class, or <tt class="docutils literal"><span class="pre">None</span></tt> if the
string not parseable by this class.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.print_tree">
<tt class="descname">print_tree</tt><big>(</big><em>indent=0</em>, <em>verbose=False</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance&#8217;s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.prune">
<tt class="descname">prune</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.remove_type">
<tt class="descname">remove_type</tt><big>(</big><em>ptype</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <tt class="docutils literal"><span class="pre">ptype</span></tt> with base <tt class="docutils literal"><span class="pre">StringElem</span></tt>s,
containing the same sub-elements. This is only applicable to
elements below the element tree root node.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.strelem.StringElem.renderer">
<tt class="descname">renderer</tt><em class="property"> = None</em><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.renderer" title="Permalink to this definition">¶</a></dt>
<dd><p>An optional function that returns the Unicode representation of
the string.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.strelem.StringElem.sub">
<tt class="descname">sub</tt><em class="property"> = []</em><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.sub" title="Permalink to this definition">¶</a></dt>
<dd><p>The sub-elements that make up this this string.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.translate">
<tt class="descname">translate</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.
This method should be either overridden in implementing sub-classes
or dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.placeables.terminology">
<span id="terminology"></span><h3>terminology<a class="headerlink" href="#module-translate.storage.placeables.terminology" title="Permalink to this headline">¶</a></h3>
<p>Contains the placeable that represents a terminology term.</p>
<dl class="class">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable">
<em class="property">class </em><tt class="descclassname">translate.storage.placeables.terminology.</tt><tt class="descname">TerminologyPlaceable</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminology distinguished from the rest of a string by being
a placeable.</p>
<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.apply_to_strings">
<tt class="descname">apply_to_strings</tt><big>(</big><em>f</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <tt class="docutils literal"><span class="pre">f</span></tt> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> &#8211; Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">self.renderer</span></tt> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.delete_range">
<tt class="descname">delete_range</tt><big>(</big><em>start_index</em>, <em>end_index</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<tt class="docutils literal"><span class="pre">start_index</span></tt> and <tt class="docutils literal"><span class="pre">end_index</span></tt>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <tt class="docutils literal"><span class="pre">StringElem</span></tt> representing the removed sub-string, the
parent node from which it was deleted as well as the offset at
which it was deleted from. <tt class="docutils literal"><span class="pre">None</span></tt> is returned for the parent
value if the root was deleted. If the parent and offset values
are not <tt class="docutils literal"><span class="pre">None</span></tt>, <tt class="docutils literal"><span class="pre">parent.insert(offset,</span> <span class="pre">deleted)</span></tt>
effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.depth_first">
<tt class="descname">depth_first</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.elem_at_offset">
<tt class="descname">elem_at_offset</tt><big>(</big><em>offset</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <tt class="docutils literal"><span class="pre">StringElem</span></tt> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.elem_offset">
<tt class="descname">elem_offset</tt><big>(</big><em>elem</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <tt class="docutils literal"><span class="pre">elem</span></tt> in the current tree.</p>
<p>This cannot be reliably used if <tt class="docutils literal"><span class="pre">self.renderer</span></tt> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <tt class="docutils literal"><span class="pre">StringElemGUI.index()</span></tt> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <tt class="docutils literal"><span class="pre">e</span></tt> starts, or -1 if <tt class="docutils literal"><span class="pre">e</span></tt>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.encode">
<tt class="descname">encode</tt><big>(</big><em>encoding='ascii'</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <tt class="docutils literal"><span class="pre">unicode</span></tt> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.find">
<tt class="descname">find</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <tt class="docutils literal"><span class="pre">x</span></tt> in this string tree and return the position
at which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.find_elems_with">
<tt class="descname">find_elems_with</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <tt class="docutils literal"><span class="pre">x</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.flatten">
<tt class="descname">flatten</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the
tree&#8217;s leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.get_index_data">
<tt class="descname">get_index_data</tt><big>(</big><em>index</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <tt class="docutils literal"><span class="pre">index</span></tt> resides.</li>
<li><em>index</em>: Copy of the <tt class="docutils literal"><span class="pre">index</span></tt> parameter</li>
<li><em>offset</em>: The offset of <tt class="docutils literal"><span class="pre">index</span></tt> into <tt class="docutils literal"><span class="pre">'elem'</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.get_parent_elem">
<tt class="descname">get_parent_elem</tt><big>(</big><em>child</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<tt class="docutils literal"><span class="pre">child</span></tt> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.insert">
<tt class="descname">insert</tt><big>(</big><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree&#8217;s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.insert_between">
<tt class="descname">insert_between</tt><big>(</big><em>left</em>, <em>right</em>, <em>text</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <tt class="docutils literal"><span class="pre">StringElem</span></tt>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.isleaf">
<tt class="descname">isleaf</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <tt class="docutils literal"><span class="pre">StringElem</span></tt> tree.</p>
<p>A node is a leaf node if it is a <tt class="docutils literal"><span class="pre">StringElem</span></tt> (not a sub-class) and
contains only sub-elements of type <tt class="docutils literal"><span class="pre">str</span></tt> or <tt class="docutils literal"><span class="pre">unicode</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.iter_depth_first">
<tt class="descname">iter_depth_first</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.map">
<tt class="descname">map</tt><big>(</big><em>f</em>, <em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <tt class="docutils literal"><span class="pre">f</span></tt> to all nodes for which <tt class="docutils literal"><span class="pre">filter</span></tt> returned <tt class="docutils literal"><span class="pre">True</span></tt>
(optional).</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.matchers">
<tt class="descname">matchers</tt><em class="property"> = []</em><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.matchers" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of matcher objects to use to identify terminology.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.print_tree">
<tt class="descname">print_tree</tt><big>(</big><em>indent=0</em>, <em>verbose=False</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance&#8217;s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.prune">
<tt class="descname">prune</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.remove_type">
<tt class="descname">remove_type</tt><big>(</big><em>ptype</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <tt class="docutils literal"><span class="pre">ptype</span></tt> with base <tt class="docutils literal"><span class="pre">StringElem</span></tt>s,
containing the same sub-elements. This is only applicable to
elements below the element tree root node.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.translations">
<tt class="descname">translations</tt><em class="property"> = []</em><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.translations" title="Permalink to this definition">¶</a></dt>
<dd><p>The available translations for this placeable.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id4">
<h3>xliff<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<span class="target" id="module-translate.storage.placeables.xliff"></span><p>Contains XLIFF-specific placeables.</p>
<dl class="class">
<dt id="translate.storage.placeables.xliff.UnknownXML">
<em class="property">class </em><tt class="descclassname">translate.storage.placeables.xliff.</tt><tt class="descname">UnknownXML</tt><big>(</big><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>xml_node=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML" title="Permalink to this definition">¶</a></dt>
<dd><p>Placeable for unrecognized or umimplemented XML nodes. It&#8217;s main
purpose is to preserve all associated XML data.</p>
<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.apply_to_strings">
<tt class="descname">apply_to_strings</tt><big>(</big><em>f</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <tt class="docutils literal"><span class="pre">f</span></tt> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> &#8211; Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">self.renderer</span></tt> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.delete_range">
<tt class="descname">delete_range</tt><big>(</big><em>start_index</em>, <em>end_index</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<tt class="docutils literal"><span class="pre">start_index</span></tt> and <tt class="docutils literal"><span class="pre">end_index</span></tt>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <tt class="docutils literal"><span class="pre">StringElem</span></tt> representing the removed sub-string, the
parent node from which it was deleted as well as the offset at
which it was deleted from. <tt class="docutils literal"><span class="pre">None</span></tt> is returned for the parent
value if the root was deleted. If the parent and offset values
are not <tt class="docutils literal"><span class="pre">None</span></tt>, <tt class="docutils literal"><span class="pre">parent.insert(offset,</span> <span class="pre">deleted)</span></tt>
effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.depth_first">
<tt class="descname">depth_first</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.elem_at_offset">
<tt class="descname">elem_at_offset</tt><big>(</big><em>offset</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <tt class="docutils literal"><span class="pre">StringElem</span></tt> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.elem_offset">
<tt class="descname">elem_offset</tt><big>(</big><em>elem</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <tt class="docutils literal"><span class="pre">elem</span></tt> in the current tree.</p>
<p>This cannot be reliably used if <tt class="docutils literal"><span class="pre">self.renderer</span></tt> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <tt class="docutils literal"><span class="pre">StringElemGUI.index()</span></tt> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <tt class="docutils literal"><span class="pre">e</span></tt> starts, or -1 if <tt class="docutils literal"><span class="pre">e</span></tt>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.encode">
<tt class="descname">encode</tt><big>(</big><em>encoding='ascii'</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <tt class="docutils literal"><span class="pre">unicode</span></tt> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.find">
<tt class="descname">find</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <tt class="docutils literal"><span class="pre">x</span></tt> in this string tree and return the position
at which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.find_elems_with">
<tt class="descname">find_elems_with</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <tt class="docutils literal"><span class="pre">x</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.flatten">
<tt class="descname">flatten</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the
tree&#8217;s leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.get_index_data">
<tt class="descname">get_index_data</tt><big>(</big><em>index</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <tt class="docutils literal"><span class="pre">index</span></tt> resides.</li>
<li><em>index</em>: Copy of the <tt class="docutils literal"><span class="pre">index</span></tt> parameter</li>
<li><em>offset</em>: The offset of <tt class="docutils literal"><span class="pre">index</span></tt> into <tt class="docutils literal"><span class="pre">'elem'</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.get_parent_elem">
<tt class="descname">get_parent_elem</tt><big>(</big><em>child</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<tt class="docutils literal"><span class="pre">child</span></tt> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.insert">
<tt class="descname">insert</tt><big>(</big><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree&#8217;s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.insert_between">
<tt class="descname">insert_between</tt><big>(</big><em>left</em>, <em>right</em>, <em>text</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <tt class="docutils literal"><span class="pre">StringElem</span></tt>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.isleaf">
<tt class="descname">isleaf</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <tt class="docutils literal"><span class="pre">StringElem</span></tt> tree.</p>
<p>A node is a leaf node if it is a <tt class="docutils literal"><span class="pre">StringElem</span></tt> (not a sub-class) and
contains only sub-elements of type <tt class="docutils literal"><span class="pre">str</span></tt> or <tt class="docutils literal"><span class="pre">unicode</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.iter_depth_first">
<tt class="descname">iter_depth_first</tt><big>(</big><em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.map">
<tt class="descname">map</tt><big>(</big><em>f</em>, <em>filter=None</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <tt class="docutils literal"><span class="pre">f</span></tt> to all nodes for which <tt class="docutils literal"><span class="pre">filter</span></tt> returned <tt class="docutils literal"><span class="pre">True</span></tt>
(optional).</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.placeables.xliff.UnknownXML.parse">
<em class="property">classmethod </em><tt class="descname">parse</tt><big>(</big><em>pstr</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse an instance of this class from the start of the given string.
This method should be implemented by any sub-class that wants to
parseable by <a class="reference internal" href="#module-translate.storage.placeables.parse" title="translate.storage.placeables.parse"><tt class="xref py py-mod docutils literal"><span class="pre">translate.storage.placeables.parse</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pstr</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; The string to parse into an instance of this class.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An instance of the current class, or <tt class="docutils literal"><span class="pre">None</span></tt> if the
string not parseable by this class.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.print_tree">
<tt class="descname">print_tree</tt><big>(</big><em>indent=0</em>, <em>verbose=False</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance&#8217;s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.prune">
<tt class="descname">prune</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.remove_type">
<tt class="descname">remove_type</tt><big>(</big><em>ptype</em><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <tt class="docutils literal"><span class="pre">ptype</span></tt> with base <tt class="docutils literal"><span class="pre">StringElem</span></tt>s,
containing the same sub-elements. This is only applicable to
elements below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.translate">
<tt class="descname">translate</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.
This method should be either overridden in implementing sub-classes
or dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-translate.storage.php">
<span id="php"></span><h2>php<a class="headerlink" href="#module-translate.storage.php" title="Permalink to this headline">¶</a></h2>
<p>Classes that hold units of PHP localisation files <a class="reference internal" href="#translate.storage.php.phpunit" title="translate.storage.php.phpunit"><tt class="xref py py-class docutils literal"><span class="pre">phpunit</span></tt></a> or
entire files <a class="reference internal" href="#translate.storage.php.phpfile" title="translate.storage.php.phpfile"><tt class="xref py py-class docutils literal"><span class="pre">phpfile</span></tt></a>. These files are used in translating many
PHP based applications.</p>
<p>Only PHP files written with these conventions are supported:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$lang</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;vale&quot;</span><span class="p">;</span>  <span class="c1"># Array of values</span>
<span class="nv">$some_entity</span> <span class="o">=</span> <span class="s2">&quot;value&quot;</span><span class="p">;</span>  <span class="c1"># Named variables</span>
<span class="nb">define</span><span class="p">(</span><span class="s2">&quot;ENTITY&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">);</span>
<span class="nv">$lang</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;item1&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value1&#39;</span>    <span class="p">,</span>   <span class="c1">#Supports space before comma</span>
   <span class="s1">&#39;item2&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value2&#39;</span><span class="p">,</span>
<span class="p">);</span>
<span class="nv">$lang</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>    <span class="c1"># Nested arrays</span>
   <span class="s1">&#39;item1&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value1&#39;</span><span class="p">,</span>
   <span class="s1">&#39;item2&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value&#39;</span>    <span class="p">,</span>   <span class="c1">#Supports space before comma</span>
      <span class="s1">&#39;key2&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value2&#39;</span><span class="p">,</span>
   <span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Nested arrays without key for nested array are not supported:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$lang</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>The working of PHP strings and specifically the escaping conventions which
differ between single quote (&#8216;) and double quote (&#8221;) characters are
implemented as outlined in the PHP documentation for the
<a class="reference external" href="http://www.php.net/language.types.string">String type</a>.</p>
<dl class="function">
<dt id="translate.storage.php.phpdecode">
<tt class="descclassname">translate.storage.php.</tt><tt class="descname">phpdecode</tt><big>(</big><em>text</em>, <em>quotechar=&quot;'&quot;</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpdecode" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert PHP escaped string to a Python string.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.php.phpencode">
<tt class="descclassname">translate.storage.php.</tt><tt class="descname">phpencode</tt><big>(</big><em>text</em>, <em>quotechar=&quot;'&quot;</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpencode" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert Python string to PHP escaping.</p>
<p>The encoding is implemented for
<a class="reference external" href="http://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.single">&#8216;single quote&#8217;</a>
and <a class="reference external" href="http://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.double">&#8220;double quote&#8221;</a>
syntax.</p>
<p>heredoc and nowdoc are not implemented and it is not certain whether this
would ever be needed for PHP localisation needs.</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.php.phpfile">
<em class="property">class </em><tt class="descclassname">translate.storage.php.</tt><tt class="descname">phpfile</tt><big>(</big><em>inputfile=None</em>, <em>encoding='utf-8'</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a PHP file, made up of phpunits.</p>
<dl class="attribute">
<dt id="translate.storage.php.phpfile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.php.phpfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.php.phpunit" title="translate.storage.php.phpunit"><tt class="xref py py-class docutils literal"><span class="pre">phpunit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.php.phpfile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.php.phpfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.parse">
<tt class="descname">parse</tt><big>(</big><em>phpsrc</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the source of a PHP file in and include them as units.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.php.phpfile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.php.phpfile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.php.phpunit">
<em class="property">class </em><tt class="descclassname">translate.storage.php.</tt><tt class="descname">phpunit</tt><big>(</big><em>source=''</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A unit of a PHP file: a name, a value, and any comments associated.</p>
<dl class="method">
<dt id="translate.storage.php.phpunit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.php.phpunit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.getoutput">
<tt class="descname">getoutput</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the unit back into formatted lines for a php file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether this is a blank element, containing only comments.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.php.phpunit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.setsource">
<tt class="descname">setsource</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.setsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source AND the target to be equal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.php.phpunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.pocommon">
<span id="pocommon"></span><h2>pocommon<a class="headerlink" href="#module-translate.storage.pocommon" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="translate.storage.pocommon.encodingToUse">
<tt class="descclassname">translate.storage.pocommon.</tt><tt class="descname">encodingToUse</tt><big>(</big><em>encoding</em><big>)</big><a class="headerlink" href="#translate.storage.pocommon.encodingToUse" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests whether the given encoding is known in the python runtime, or returns utf-8.
This function is used to ensure that a valid encoding is always used.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.pocommon.extract_msgid_comment">
<tt class="descclassname">translate.storage.pocommon.</tt><tt class="descname">extract_msgid_comment</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#translate.storage.pocommon.extract_msgid_comment" title="Permalink to this definition">¶</a></dt>
<dd><p>The one definitive way to extract a msgid comment out of an unescaped
unicode string that might contain it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="translate.storage.pocommon.quote_plus">
<tt class="descclassname">translate.storage.pocommon.</tt><tt class="descname">quote_plus</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#translate.storage.pocommon.quote_plus" title="Permalink to this definition">¶</a></dt>
<dd><p>Quote the query fragment of a URL; replacing &#8216; &#8216; with &#8216;+&#8217;</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.pocommon.unquote_plus">
<tt class="descclassname">translate.storage.pocommon.</tt><tt class="descname">unquote_plus</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#translate.storage.pocommon.unquote_plus" title="Permalink to this definition">¶</a></dt>
<dd><p>unquote(&#8216;%7e/abc+def&#8217;) -&gt; &#8216;~/abc def&#8217;</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.poheader">
<span id="poheader"></span><h2>poheader<a class="headerlink" href="#module-translate.storage.poheader" title="Permalink to this headline">¶</a></h2>
<p>class that handles all header functions for a header in a po file</p>
<dl class="function">
<dt id="translate.storage.poheader.parseheaderstring">
<tt class="descclassname">translate.storage.poheader.</tt><tt class="descname">parseheaderstring</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#translate.storage.poheader.parseheaderstring" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses an input string with the definition of a PO header and returns
the interpreted values as a dictionary.</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.poheader.poheader">
<em class="property">class </em><tt class="descclassname">translate.storage.poheader.</tt><tt class="descname">poheader</tt><a class="headerlink" href="#translate.storage.poheader.poheader" title="Permalink to this definition">¶</a></dt>
<dd><p>This class implements functionality for manipulation of po file headers.
This class is a mix-in class and useless on its own. It must be used from all
classes which represent a po file</p>
<dl class="method">
<dt id="translate.storage.poheader.poheader.getheaderplural">
<tt class="descname">getheaderplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poheader.poheader.getheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nplural and plural values from the header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poheader.poheader.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the project based on information in the header.</p>
<dl class="docutils">
<dt>The project is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the &#8216;X-Project-Style&#8217; entry in the header.</li>
<li>Use &#8216;Report-Msgid-Bug-To&#8217; entry</li>
<li>Use the &#8216;X-Accelerator&#8217; entry</li>
<li>Use the Project ID</li>
<li>Analyse the file itself (not yet implemented)</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poheader.poheader.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the target language based on information in the header.</p>
<dl class="docutils">
<dt>The target language is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the &#8216;Language&#8217; entry in the header.</li>
<li>Poedit&#8217;s custom headers.</li>
<li>Analysing the &#8216;Language-Team&#8217; entry.</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.header">
<tt class="descname">header</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poheader.poheader.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the header element, or None. Only the first element is allowed
to be a header. Note that this could still return an empty header element,
if present.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.init_headers">
<tt class="descname">init_headers</tt><big>(</big><em>charset='UTF-8'</em>, <em>encoding='8bit'</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.poheader.poheader.init_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>sets default values for po headers</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.makeheader">
<tt class="descname">makeheader</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.poheader.poheader.makeheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header for the given filename.</p>
<p>Check .makeheaderdict() for information on parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.makeheaderdict">
<tt class="descname">makeheaderdict</tt><big>(</big><em>charset='CHARSET'</em>, <em>encoding='ENCODING'</em>, <em>project_id_version=None</em>, <em>pot_creation_date=None</em>, <em>po_revision_date=None</em>, <em>last_translator=None</em>, <em>language_team=None</em>, <em>mime_version=None</em>, <em>plural_forms=None</em>, <em>report_msgid_bugs_to=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.poheader.poheader.makeheaderdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header dictionary with useful defaults.</p>
<p>pot_creation_date can be None (current date) or a value (datetime or string)
po_revision_date can be None (form), False (=pot_creation_date), True (=now),
or a value (datetime or string)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary with the header items</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.mergeheaders">
<tt class="descname">mergeheaders</tt><big>(</big><em>otherstore</em><big>)</big><a class="headerlink" href="#translate.storage.poheader.poheader.mergeheaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges another header with this header.</p>
<p>This header is assumed to be the template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.parseheader">
<tt class="descname">parseheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poheader.poheader.parseheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the PO header and returns the interpreted values as a
dictionary.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.poheader.poheader.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project in the header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>project_style</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the new project</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>lang</em><big>)</big><a class="headerlink" href="#translate.storage.poheader.poheader.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language in the header.</p>
<p>This removes any custom Poedit headers if they exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lang</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the new target language code</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.updatecontributor">
<tt class="descname">updatecontributor</tt><big>(</big><em>name</em>, <em>email=None</em><big>)</big><a class="headerlink" href="#translate.storage.poheader.poheader.updatecontributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add contribution comments if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.updateheader">
<tt class="descname">updateheader</tt><big>(</big><em>add=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.poheader.poheader.updateheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the fields in the PO style header.</p>
<p>This will create a header if add == True.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.updateheaderplural">
<tt class="descname">updateheaderplural</tt><big>(</big><em>nplurals</em>, <em>plural</em><big>)</big><a class="headerlink" href="#translate.storage.poheader.poheader.updateheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the Plural-Form PO header.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.poheader.tzstring">
<tt class="descclassname">translate.storage.poheader.</tt><tt class="descname">tzstring</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poheader.tzstring" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the timezone as a string in the format [+-]0000, eg +0200.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="translate.storage.poheader.update">
<tt class="descclassname">translate.storage.poheader.</tt><tt class="descname">update</tt><big>(</big><em>existing</em>, <em>add=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.poheader.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update an existing header dictionary with the values in kwargs, adding new values
only if add is true.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Updated dictionary of header entries</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.poparser">
<span id="poparser"></span><h2>poparser<a class="headerlink" href="#module-translate.storage.poparser" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="translate.storage.poparser.read_obsolete_lines">
<tt class="descclassname">translate.storage.poparser.</tt><tt class="descname">read_obsolete_lines</tt><big>(</big><em>parse_state</em><big>)</big><a class="headerlink" href="#translate.storage.poparser.read_obsolete_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Read all the lines belonging to the current unit if obsolete.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.poparser.read_prevmsgid_lines">
<tt class="descclassname">translate.storage.poparser.</tt><tt class="descname">read_prevmsgid_lines</tt><big>(</big><em>parse_state</em><big>)</big><a class="headerlink" href="#translate.storage.poparser.read_prevmsgid_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Read all the lines belonging starting with #|. These lines contain
the previous msgid and msgctxt info. We strip away the leading &#8216;#| &#8216;
and read until we stop seeing #|.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.po">
<span id="po"></span><h2>po<a class="headerlink" href="#module-translate.storage.po" title="Permalink to this headline">¶</a></h2>
<p>A class loader that will load C or Python implementations of the PO class
depending on the USECPO variable.</p>
<p>Use the environment variable USECPO=2 (or 1) to choose the C implementation which
uses Gettext&#8217;s libgettextpo for high parsing speed.  Otherise the local
Python based parser is used (slower but very well tested).</p>
</div>
<div class="section" id="module-translate.storage.poxliff">
<span id="poxliff"></span><h2>poxliff<a class="headerlink" href="#module-translate.storage.poxliff" title="Permalink to this headline">¶</a></h2>
<p>XLIFF classes specifically suited for handling the PO representation in
XLIFF.</p>
<p>This way the API supports plurals as if it was a PO file, for example.</p>
<dl class="class">
<dt id="translate.storage.poxliff.PoXliffFile">
<em class="property">class </em><tt class="descclassname">translate.storage.poxliff.</tt><tt class="descname">PoXliffFile</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile" title="Permalink to this definition">¶</a></dt>
<dd><p>a file for the po variant of Xliff files</p>
<dl class="attribute">
<dt id="translate.storage.poxliff.PoXliffFile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.poxliff.PoXliffUnit" title="translate.storage.poxliff.PoXliffUnit"><tt class="xref py py-class docutils literal"><span class="pre">PoXliffUnit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.addheader">
<tt class="descname">addheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.addheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the file header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.addplural">
<tt class="descname">addplural</tt><big>(</big><em>source</em>, <em>target</em>, <em>filename</em>, <em>createifmissing=False</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.addplural" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should now be unnecessary, but is left for reference</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em>, <em>filename='NoName'</em>, <em>createifmissing=False</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>adds the given trans-unit to the last used body node if the
filename has changed it uses the slow method instead (will
create the nodes required if asked). Returns success</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.creategroup">
<tt class="descname">creategroup</tt><big>(</big><em>filename='NoName'</em>, <em>createifmissing=False</em>, <em>restype=None</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.creategroup" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a group tag into the specified file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getbodynode">
<tt class="descname">getbodynode</tt><big>(</big><em>filenode</em>, <em>createifmissing=False</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getbodynode" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the body node for the given filenode</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getdatatype">
<tt class="descname">getdatatype</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getdatatype" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the datatype of the stored file. If no filename is given,
the datatype of the first file is given.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getdate">
<tt class="descname">getdate</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getdate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the date attribute for the file.</p>
<p>If no filename is given, the date of the first file is given.
If the date attribute is not specified, None is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Date attribute of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Date or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getfilename">
<tt class="descname">getfilename</tt><big>(</big><em>filenode</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getfilename" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the name of the given file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getfilenames">
<tt class="descname">getfilenames</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getfilenames" title="Permalink to this definition">¶</a></dt>
<dd><p>returns all filenames in this XLIFF file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getfilenode">
<tt class="descname">getfilenode</tt><big>(</big><em>filename</em>, <em>createifmissing=False</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getfilenode" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the filenode with the given name</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getheadernode">
<tt class="descname">getheadernode</tt><big>(</big><em>filenode</em>, <em>createifmissing=False</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getheadernode" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the header node for the given filenode</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getheaderplural">
<tt class="descname">getheaderplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nplural and plural values from the header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.header">
<tt class="descname">header</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the header element, or None. Only the first element is allowed
to be a header. Note that this could still return an empty header element,
if present.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.init_headers">
<tt class="descname">init_headers</tt><big>(</big><em>charset='UTF-8'</em>, <em>encoding='8bit'</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.init_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>sets default values for po headers</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.makeheader">
<tt class="descname">makeheader</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.makeheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header for the given filename.</p>
<p>Check .makeheaderdict() for information on parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.makeheaderdict">
<tt class="descname">makeheaderdict</tt><big>(</big><em>charset='CHARSET'</em>, <em>encoding='ENCODING'</em>, <em>project_id_version=None</em>, <em>pot_creation_date=None</em>, <em>po_revision_date=None</em>, <em>last_translator=None</em>, <em>language_team=None</em>, <em>mime_version=None</em>, <em>plural_forms=None</em>, <em>report_msgid_bugs_to=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.makeheaderdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header dictionary with useful defaults.</p>
<p>pot_creation_date can be None (current date) or a value (datetime or string)
po_revision_date can be None (form), False (=pot_creation_date), True (=now),
or a value (datetime or string)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary with the header items</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.poxliff.PoXliffFile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.mergeheaders">
<tt class="descname">mergeheaders</tt><big>(</big><em>otherstore</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.mergeheaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges another header with this header.</p>
<p>This header is assumed to be the template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.namespaced">
<tt class="descname">namespaced</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <tt class="docutils literal"><span class="pre">namespaced(&quot;source&quot;)</span></tt> in an XLIFF document
might return:</p>
<div class="highlight-python"><div class="highlight"><pre>{urn:oasis:names:tc:xliff:document:1.1}source
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.parse">
<tt class="descname">parse</tt><big>(</big><em>xml</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates this object from the given xml string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.poxliff.PoXliffFile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.parseheader">
<tt class="descname">parseheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.parseheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the PO header and returns the interpreted values as a
dictionary.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.poxliff.PoXliffFile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the string to return the correct file object</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.removedefaultfile">
<tt class="descname">removedefaultfile</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.removedefaultfile" title="Permalink to this definition">¶</a></dt>
<dd><p>We want to remove the default file-tag as soon as possible if we
know if still present and empty.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.setfilename">
<tt class="descname">setfilename</tt><big>(</big><em>filenode</em>, <em>filename</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.setfilename" title="Permalink to this definition">¶</a></dt>
<dd><p>set the name of the given file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.switchfile">
<tt class="descname">switchfile</tt><big>(</big><em>filename</em>, <em>createifmissing=False</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.switchfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given trans-unit (will create the nodes required if asked).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Success</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.updatecontributor">
<tt class="descname">updatecontributor</tt><big>(</big><em>name</em>, <em>email=None</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.updatecontributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add contribution comments if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.updateheader">
<tt class="descname">updateheader</tt><big>(</big><em>add=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.updateheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the fields in the PO style header.</p>
<p>This will create a header if add == True.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.updateheaderplural">
<tt class="descname">updateheaderplural</tt><big>(</big><em>nplurals</em>, <em>plural</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.updateheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the Plural-Form PO header.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.poxliff.PoXliffUnit">
<em class="property">class </em><tt class="descclassname">translate.storage.poxliff.</tt><tt class="descname">PoXliffUnit</tt><big>(</big><em>source=None</em>, <em>empty=False</em>, <em>encoding='UTF-8'</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to specifically handle the plural units created from a po file.</p>
<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.addalttrans">
<tt class="descname">addalttrans</tt><big>(</big><em>txt</em>, <em>origin=None</em>, <em>lang=None</em>, <em>sourcetxt=None</em>, <em>matchquality=None</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.addalttrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an alt-trans tag and alt-trans components to the unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>txt</strong> (<em>String</em>) &#8211; Alternative translation of the source text.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a note specifically in a &#8220;note&#8221; tag</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.poxliff.PoXliffUnit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.correctorigin">
<tt class="descname">correctorigin</tt><big>(</big><em>node</em>, <em>origin</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.correctorigin" title="Permalink to this definition">¶</a></dt>
<dd><p>Check against node tag&#8217;s origin (e.g note or alt-trans)</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.createPHnodes">
<tt class="descname">createPHnodes</tt><big>(</big><em>parent</em>, <em>text</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.createPHnodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the text node in parent containing all the ph tags</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.createcontextgroup">
<tt class="descname">createcontextgroup</tt><big>(</big><em>name</em>, <em>contexts=None</em>, <em>purpose=None</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.createcontextgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the context group to the trans-unit with contexts a list with
(type, text) tuples describing each context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.createlanguageNode">
<tt class="descname">createlanguageNode</tt><big>(</big><em>lang</em>, <em>text</em>, <em>purpose</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.createlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an xml Element setup with given parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.delalttrans">
<tt class="descname">delalttrans</tt><big>(</big><em>alternative</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.delalttrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the supplied alternative from the list of alt-trans tags</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getNodeText">
<tt class="descname">getNodeText</tt><big>(</big><em>languageNode</em>, <em>xml_space='preserve'</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getNodeText" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the term from the given <tt class="xref py py-attr docutils literal"><span class="pre">languageNode</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.get_rich_target">
<tt class="descname">get_rich_target</tt><big>(</big><em>lang=None</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.get_rich_target" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the &#8220;target&#8221; text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getalttrans">
<tt class="descname">getalttrans</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getalttrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns &lt;alt-trans&gt; for the given origin as a list of units. No
origin means all alternatives.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getautomaticcomments">
<tt class="descname">getautomaticcomments</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getautomaticcomments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the automatic comments (x-po-autocomment), which corresponds
to the #. style po comments.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getcontextgroups">
<tt class="descname">getcontextgroups</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getcontextgroups" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the contexts in the context groups with the specified name</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getlanguageNode">
<tt class="descname">getlanguageNode</tt><big>(</big><em>lang=None</em>, <em>index=None</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a <tt class="xref py py-attr docutils literal"><span class="pre">languageNode</span></tt> either by language or by index.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getlanguageNodes">
<tt class="descname">getlanguageNodes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getlanguageNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>We override this to get source and target nodes.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getlocations">
<tt class="descname">getlocations</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the references (source locations)</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getrestype">
<tt class="descname">getrestype</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getrestype" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the restype attribute in the trans-unit tag</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.gettranslatorcomments">
<tt class="descname">gettranslatorcomments</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.gettranslatorcomments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the translator comments (x-po-trancomment), which corresponds
to the # style po comments.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.isapproved">
<tt class="descname">isapproved</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.isapproved" title="Permalink to this definition">¶</a></dt>
<dd><p>States whether this unit is approved.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>States whether this unit needs to be reviewed</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.markapproved">
<tt class="descname">markapproved</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.markapproved" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark this unit as approved.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<p>Adds an optional explanation as a note.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.namespaced">
<tt class="descname">namespaced</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <tt class="docutils literal"><span class="pre">namespaced(&quot;source&quot;)</span></tt> in an XLIFF document
might return:</p>
<div class="highlight-python"><div class="highlight"><pre>{urn:oasis:names:tc:xliff:document:1.1}source
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><em>origin='translator'</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.poxliff.PoXliffUnit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.poxliff.PoXliffUnit.rid">
<tt class="descname">rid</tt><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.rid" title="Permalink to this definition">¶</a></dt>
<dd><p>rid</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.poxliff.PoXliffUnit.xid">
<tt class="descname">xid</tt><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.xid" title="Permalink to this definition">¶</a></dt>
<dd><p>xid</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.project">
<span id="project"></span><h2>project<a class="headerlink" href="#module-translate.storage.project" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="translate.storage.project.Project">
<em class="property">class </em><tt class="descclassname">translate.storage.project.</tt><tt class="descname">Project</tt><big>(</big><em>projstore=None</em><big>)</big><a class="headerlink" href="#translate.storage.project.Project" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages a project store as well as the processes involved in a project
workflow.</p>
<dl class="method">
<dt id="translate.storage.project.Project.add_source">
<tt class="descname">add_source</tt><big>(</big><em>srcfile</em>, <em>src_fname=None</em><big>)</big><a class="headerlink" href="#translate.storage.project.Project.add_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy for <tt class="docutils literal"><span class="pre">self.store.append_sourcefile()</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.add_source_convert">
<tt class="descname">add_source_convert</tt><big>(</big><em>srcfile</em>, <em>src_fname=None</em>, <em>convert_options=None</em>, <em>extension=None</em><big>)</big><a class="headerlink" href="#translate.storage.project.Project.add_source_convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method that calls <a class="reference internal" href="#translate.storage.project.Project.add_source" title="translate.storage.project.Project.add_source"><tt class="xref py py-meth docutils literal"><span class="pre">add_source()</span></tt></a> and
<a class="reference internal" href="#translate.storage.project.Project.convert_forward" title="translate.storage.project.Project.convert_forward"><tt class="xref py py-meth docutils literal"><span class="pre">convert_forward()</span></tt></a> and returns the results from both.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.project.Project.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy for <tt class="docutils literal"><span class="pre">self.store.close()</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.convert_forward">
<tt class="descname">convert_forward</tt><big>(</big><em>input_fname</em>, <em>template=None</em>, <em>output_fname=None</em>, <em>**options</em><big>)</big><a class="headerlink" href="#translate.storage.project.Project.convert_forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the given input file to the next type in the process:</p>
<p>Source document (eg. ODT) -&gt; Translation file (eg. XLIFF) -&gt;
Translated document (eg. ODT).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_fname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#basestring" title="(in Python v2.7)"><em>basestring</em></a>) &#8211; The project name of the file to convert</li>
<li><strong>convert_options</strong> (<em>dict (optional)</em>) &#8211; Passed as-is to
<tt class="xref py py-meth docutils literal"><span class="pre">translate.convert.factory.convert()</span></tt>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns 2-tuple:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">the converted file object and its project name.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.export_file">
<tt class="descname">export_file</tt><big>(</big><em>fname</em>, <em>destfname</em><big>)</big><a class="headerlink" href="#translate.storage.project.Project.export_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Export the file with the specified filename to the given destination.
This method will raise
<tt class="xref py py-exc docutils literal"><span class="pre">FileNotInProjectError</span></tt>
via the call to
<a class="reference internal" href="#translate.storage.projstore.ProjectStore.get_file" title="translate.storage.projstore.ProjectStore.get_file"><tt class="xref py py-meth docutils literal"><span class="pre">get_file()</span></tt></a>
if <em>fname</em> is not found in the project.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.get_file">
<tt class="descname">get_file</tt><big>(</big><em>fname</em><big>)</big><a class="headerlink" href="#translate.storage.project.Project.get_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy for <tt class="docutils literal"><span class="pre">self.store.get_file()</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.get_proj_filename">
<tt class="descname">get_proj_filename</tt><big>(</big><em>realfname</em><big>)</big><a class="headerlink" href="#translate.storage.project.Project.get_proj_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy for <tt class="docutils literal"><span class="pre">self.store.get_proj_filename()</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.get_real_filename">
<tt class="descname">get_real_filename</tt><big>(</big><em>projfname</em><big>)</big><a class="headerlink" href="#translate.storage.project.Project.get_real_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Try and find a real file name for the given project file name.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.remove_file">
<tt class="descname">remove_file</tt><big>(</big><em>projfname</em>, <em>ftype=None</em><big>)</big><a class="headerlink" href="#translate.storage.project.Project.remove_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy for <tt class="docutils literal"><span class="pre">self.store.remove_file()</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.save">
<tt class="descname">save</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.project.Project.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy for <tt class="docutils literal"><span class="pre">self.store.save()</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.update_file">
<tt class="descname">update_file</tt><big>(</big><em>proj_fname</em>, <em>infile</em><big>)</big><a class="headerlink" href="#translate.storage.project.Project.update_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy for <tt class="docutils literal"><span class="pre">self.store.update_file()</span></tt>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.projstore">
<span id="projstore"></span><h2>projstore<a class="headerlink" href="#module-translate.storage.projstore" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="translate.storage.projstore.ProjectStore">
<em class="property">class </em><tt class="descclassname">translate.storage.projstore.</tt><tt class="descname">ProjectStore</tt><a class="headerlink" href="#translate.storage.projstore.ProjectStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic project file container.</p>
<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.append_file">
<tt class="descname">append_file</tt><big>(</big><em>afile</em>, <em>fname</em>, <em>ftype='trans'</em>, <em>delete_orig=False</em><big>)</big><a class="headerlink" href="#translate.storage.projstore.ProjectStore.append_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given file to the project with the given filename, marked
to be of type <tt class="docutils literal"><span class="pre">ftype</span></tt> (&#8216;src&#8217;, &#8216;trans&#8217;, &#8216;tgt&#8217;).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>delete_orig</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Whether or not the original (given) file should
be deleted after being appended. This is set to
<tt class="docutils literal"><span class="pre">True</span></tt> by
<tt class="xref py py-meth docutils literal"><span class="pre">convert_forward()</span></tt>
. Not used in this class.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.get_file">
<tt class="descname">get_file</tt><big>(</big><em>fname</em>, <em>mode='rb'</em><big>)</big><a class="headerlink" href="#translate.storage.projstore.ProjectStore.get_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the file with the given name from the project store.</p>
<p>The file is looked up in the <tt class="docutils literal"><span class="pre">self._files</span></tt> dictionary. The values
in this dictionary may be <tt class="docutils literal"><span class="pre">None</span></tt>, to indicate that the file is not
cacheable and needs to be retrieved in a special way. This special
way must be defined in this method of sub-classes. The value may
also be a string, which indicates that it is a real file accessible
via <tt class="docutils literal"><span class="pre">open</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The mode in which to re-open the file (if it is closed).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.get_filename_type">
<tt class="descname">get_filename_type</tt><big>(</big><em>fname</em><big>)</big><a class="headerlink" href="#translate.storage.projstore.ProjectStore.get_filename_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the type of file (&#8216;src&#8217;, &#8216;trans&#8217;, &#8216;tgt&#8217;) with the given name.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.get_proj_filename">
<tt class="descname">get_proj_filename</tt><big>(</big><em>realfname</em><big>)</big><a class="headerlink" href="#translate.storage.projstore.ProjectStore.get_proj_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Try and find a project file name for the given real file name.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.load">
<tt class="descname">load</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.projstore.ProjectStore.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the project in some way. Undefined for this (base) class.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.remove_file">
<tt class="descname">remove_file</tt><big>(</big><em>fname</em>, <em>ftype=None</em><big>)</big><a class="headerlink" href="#translate.storage.projstore.ProjectStore.remove_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the file with the given project name from the project.
If the file type (&#8216;src&#8217;, &#8216;trans&#8217; or &#8216;tgt&#8217;) is not given, it is
guessed.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.save">
<tt class="descname">save</tt><big>(</big><em>filename=None</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.projstore.ProjectStore.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the project in some way. Undefined for this (base) class.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.projstore.ProjectStore.sourcefiles">
<tt class="descname">sourcefiles</tt><a class="headerlink" href="#translate.storage.projstore.ProjectStore.sourcefiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only access to <tt class="docutils literal"><span class="pre">self._sourcefiles</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.projstore.ProjectStore.targetfiles">
<tt class="descname">targetfiles</tt><a class="headerlink" href="#translate.storage.projstore.ProjectStore.targetfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only access to <tt class="docutils literal"><span class="pre">self._targetfiles</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.projstore.ProjectStore.transfiles">
<tt class="descname">transfiles</tt><a class="headerlink" href="#translate.storage.projstore.ProjectStore.transfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only access to <tt class="docutils literal"><span class="pre">self._transfiles</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.update_file">
<tt class="descname">update_file</tt><big>(</big><em>pfname</em>, <em>infile</em><big>)</big><a class="headerlink" href="#translate.storage.projstore.ProjectStore.update_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the project file with name <tt class="docutils literal"><span class="pre">pfname</span></tt> and add the contents
from <tt class="docutils literal"><span class="pre">infile</span></tt> to the project under the same file name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the results from <a class="reference internal" href="#translate.storage.projstore.ProjectStore.append_file" title="translate.storage.projstore.ProjectStore.append_file"><tt class="xref py py-meth docutils literal"><span class="pre">ProjectStore.append_file()</span></tt></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.properties">
<span id="properties"></span><h2>properties<a class="headerlink" href="#module-translate.storage.properties" title="Permalink to this headline">¶</a></h2>
<p>Classes that hold units of .properties, and similar, files that are used in
translating Java, Mozilla, MacOS and other software.</p>
<p>The <a class="reference internal" href="#translate.storage.properties.propfile" title="translate.storage.properties.propfile"><tt class="xref py py-class docutils literal"><span class="pre">propfile</span></tt></a> class is a monolingual class with <a class="reference internal" href="#translate.storage.properties.propunit" title="translate.storage.properties.propunit"><tt class="xref py py-class docutils literal"><span class="pre">propunit</span></tt></a>
providing unit level access.</p>
<p>The .properties store has become a general key value pair class with
<a class="reference internal" href="#translate.storage.properties.Dialect" title="translate.storage.properties.Dialect"><tt class="xref py py-class docutils literal"><span class="pre">Dialect</span></tt></a> providing the ability to change the behaviour of the
parsing and handling of the various dialects.</p>
<p>Currently we support:</p>
<ul class="simple">
<li>Java .properties</li>
<li>Mozilla .properties</li>
<li>Adobe Flex files</li>
<li>MacOS X .strings files</li>
<li>Skype .lang files</li>
</ul>
<p>The following provides references and descriptions of the various
dialects supported:</p>
<dl class="docutils">
<dt>Java</dt>
<dd><p class="first">Java .properties are supported completely except for the ability to drop
pairs that are not translated.</p>
<p>The following <a class="reference external" href="http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Properties.html#load(java.io.InputStream)">.properties file description</a>
gives a good references to the .properties specification.</p>
<p>Properties file may also hold Java <a class="reference external" href="http://docs.oracle.com/javase/1.4.2/docs/api/java/text/MessageFormat.html">MessageFormat</a>
messages.  No special handling is provided in this storage class for
MessageFormat, but this may be implemented in future.</p>
<p class="last">All delimiter types, comments, line continuations and spaces handling in
delimeters are supported.</p>
</dd>
<dt>Mozilla</dt>
<dd>Mozilla files use &#8216;=&#8217; as a delimiter, are UTF-8 encoded and thus don&#8217;t
need u escaping.  Any U values will be converted to correct Unicode
characters.</dd>
<dt>Strings</dt>
<dd>Mac OS X strings files are implemented using
<a class="reference external" href="https://developer.apple.com/library/mac/#documentation/MacOSX/Conceptual/BPInternational/Articles/StringsFiles.html">these</a>
<a class="reference external" href="https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/LoadingResources/Strings/Strings.html">two</a>
articles as references.</dd>
<dt>Flex</dt>
<dd>Adobe Flex files seem to be normal .properties files but in UTF-8 just like
Mozilla files. This
<a class="reference external" href="http://livedocs.adobe.com/flex/3/html/help.html?content=l10n_3.html">page</a>
provides the information used to implement the dialect.</dd>
<dt>Skype</dt>
<dd>Skype .lang files seem to be UTF-16 encoded .properties files.</dd>
</dl>
<p>A simple summary of what is permissible follows.</p>
<p>Comments supported:</p>
<div class="highlight-properties"><div class="highlight"><pre># a comment
! a comment
// a comment (only at the beginning of a line)
/* a comment (not across multiple lines) */
</pre></div>
</div>
<p>Name and Value pairs:</p>
<div class="highlight-properties"><div class="highlight"><pre># Delimiters
key = value
key : value
key value

# Space in key and around value
\ key\ = \ value

# Note that the b and c are escaped for reST rendering
b = a string with escape sequences \t \n \r \\ \&quot; \&#39; \ (space) \u0123
c = a string with a continuation line \
    continuation line

# Special cases
# key with no value
key
# value no key (extractable in prop2po but not mergeable in po2prop)
=value

# .strings specific
&quot;key&quot; = &quot;value&quot;;
</pre></div>
</div>
<dl class="class">
<dt id="translate.storage.properties.Dialect">
<em class="property">class </em><tt class="descclassname">translate.storage.properties.</tt><tt class="descname">Dialect</tt><a class="headerlink" href="#translate.storage.properties.Dialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Settings for the various behaviours in key=value files.</p>
<dl class="classmethod">
<dt id="translate.storage.properties.Dialect.encode">
<em class="property">classmethod </em><tt class="descname">encode</tt><big>(</big><em>string</em>, <em>encoding=None</em><big>)</big><a class="headerlink" href="#translate.storage.properties.Dialect.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.Dialect.find_delimiter">
<em class="property">classmethod </em><tt class="descname">find_delimiter</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#translate.storage.properties.Dialect.find_delimiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the delimiter</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.Dialect.key_strip">
<em class="property">classmethod </em><tt class="descname">key_strip</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#translate.storage.properties.Dialect.key_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the key</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.Dialect.value_strip">
<em class="property">classmethod </em><tt class="descname">value_strip</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.properties.Dialect.value_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the value</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="translate.storage.properties.accesskeysuffixes">
<tt class="descclassname">translate.storage.properties.</tt><tt class="descname">accesskeysuffixes</tt><em class="property"> = ('.accesskey', '.accessKey', '.akey')</em><a class="headerlink" href="#translate.storage.properties.accesskeysuffixes" title="Permalink to this definition">¶</a></dt>
<dd><p>Accesskey Suffixes: entries with this suffix may be combined with labels
ending in <tt class="xref py py-attr docutils literal"><span class="pre">labelsuffixes</span></tt> into accelerator notation</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.properties.find_delimeter">
<tt class="descclassname">translate.storage.properties.</tt><tt class="descname">find_delimeter</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.properties.find_delimeter" title="Permalink to this definition">¶</a></dt>
<dd><p>Misspelled function that is kept around in case someone relies on it.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 1.7.0: </span>Use <tt class="xref py py-func docutils literal"><span class="pre">find_delimiter()</span></tt> instead</p>
</div>
</dd></dl>

<dl class="function">
<dt id="translate.storage.properties.is_comment_end">
<tt class="descclassname">translate.storage.properties.</tt><tt class="descname">is_comment_end</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#translate.storage.properties.is_comment_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether a <em>line</em> ends a new multi-line comment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; A properties line</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if line ends a new multi-line comment</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="translate.storage.properties.is_comment_one_line">
<tt class="descclassname">translate.storage.properties.</tt><tt class="descname">is_comment_one_line</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#translate.storage.properties.is_comment_one_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether a <em>line</em> is a one-line comment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; A properties line</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if line is a one-line comment</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="translate.storage.properties.is_comment_start">
<tt class="descclassname">translate.storage.properties.</tt><tt class="descname">is_comment_start</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#translate.storage.properties.is_comment_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether a <em>line</em> starts a new multi-line comment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#unicode" title="(in Python v2.7)"><em>unicode</em></a>) &#8211; A properties line</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if line starts a new multi-line comment</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="translate.storage.properties.is_line_continuation">
<tt class="descclassname">translate.storage.properties.</tt><tt class="descname">is_line_continuation</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#translate.storage.properties.is_line_continuation" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether <em>line</em> has a line continuation marker.</p>
<p>.properties files can be terminated with a backslash () indicating
that the &#8216;value&#8217; continues on the next line.  Continuation is only
valid if there are an odd number of backslashses (an even number
would result in a set of N/2 slashes not an escape)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; A properties line</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Does <em>line</em> end with a line continuation</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="translate.storage.properties.labelsuffixes">
<tt class="descclassname">translate.storage.properties.</tt><tt class="descname">labelsuffixes</tt><em class="property"> = ('.label', '.title')</em><a class="headerlink" href="#translate.storage.properties.labelsuffixes" title="Permalink to this definition">¶</a></dt>
<dd><p>Label suffixes: entries with this suffix are able to be comibed with accesskeys
found in in entries ending with <tt class="xref py py-attr docutils literal"><span class="pre">accesskeysuffixes</span></tt></p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.propfile">
<em class="property">class </em><tt class="descclassname">translate.storage.properties.</tt><tt class="descname">propfile</tt><big>(</big><em>inputfile=None</em>, <em>personality='java'</em>, <em>encoding=None</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile" title="Permalink to this definition">¶</a></dt>
<dd><p>this class represents a .properties file, made up of propunits</p>
<dl class="attribute">
<dt id="translate.storage.properties.propfile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.properties.propfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.properties.propunit" title="translate.storage.properties.propunit"><tt class="xref py py-class docutils literal"><span class="pre">propunit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.properties.propfile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.properties.propfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.parse">
<tt class="descname">parse</tt><big>(</big><em>propsrc</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the source of a properties file in and include them
as units.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.propfile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.propfile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.propunit">
<em class="property">class </em><tt class="descclassname">translate.storage.properties.</tt><tt class="descname">propunit</tt><big>(</big><em>source=''</em>, <em>personality='java'</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit" title="Permalink to this definition">¶</a></dt>
<dd><p>An element of a properties file i.e. a name and value, and any
comments associated.</p>
<dl class="method">
<dt id="translate.storage.properties.propunit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.propunit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.getoutput">
<tt class="descname">getoutput</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the element back into formatted lines for a
.properties file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>returns whether this is a blank element, containing only
comments.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.propunit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.properties.propunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.properties.register_dialect">
<tt class="descclassname">translate.storage.properties.</tt><tt class="descname">register_dialect</tt><big>(</big><em>dialect</em><big>)</big><a class="headerlink" href="#translate.storage.properties.register_dialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator that registers the dialect.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.pypo">
<span id="pypo"></span><h2>pypo<a class="headerlink" href="#module-translate.storage.pypo" title="Permalink to this headline">¶</a></h2>
<p>Classes that hold units of Gettext .po files (pounit) or entire
files (pofile).</p>
<dl class="function">
<dt id="translate.storage.pypo.escapeforpo">
<tt class="descclassname">translate.storage.pypo.</tt><tt class="descname">escapeforpo</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.escapeforpo" title="Permalink to this definition">¶</a></dt>
<dd><p>Escapes a line for po format. assumes no 
occurs in the line.</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param line:</th><td class="field-body">unescaped text</td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="translate.storage.pypo.extractpoline">
<tt class="descclassname">translate.storage.pypo.</tt><tt class="descname">extractpoline</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.extractpoline" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove quote and unescape line from po file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>line</strong> &#8211; a quoted line from a po file (msgid or msgstr)</td>
</tr>
</tbody>
</table>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 1.10: </span>Replaced by <a class="reference internal" href="#translate.storage.pypo.unescape" title="translate.storage.pypo.unescape"><tt class="xref py py-func docutils literal"><span class="pre">unescape()</span></tt></a>. <a class="reference internal" href="#translate.storage.pypo.extractpoline" title="translate.storage.pypo.extractpoline"><tt class="xref py py-func docutils literal"><span class="pre">extractpoline()</span></tt></a> is kept to allow
tests of correctness, and in case of external users.</p>
</div>
</dd></dl>

<dl class="data">
<dt id="translate.storage.pypo.lsep">
<tt class="descclassname">translate.storage.pypo.</tt><tt class="descname">lsep</tt><em class="property"> = '\n#: '</em><a class="headerlink" href="#translate.storage.pypo.lsep" title="Permalink to this definition">¶</a></dt>
<dd><p>Separator for #: entries</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.pypo.pofile">
<em class="property">class </em><tt class="descclassname">translate.storage.pypo.</tt><tt class="descname">pofile</tt><big>(</big><em>inputfile=None</em>, <em>encoding=None</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile" title="Permalink to this definition">¶</a></dt>
<dd><p>A .po file containing various units</p>
<dl class="method">
<dt id="translate.storage.pypo.pofile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.decode">
<tt class="descname">decode</tt><big>(</big><em>lines</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>decode any non-unicode strings in lines with self._encoding</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.encode">
<tt class="descname">encode</tt><big>(</big><em>lines</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>encode any unicode strings in lines in self._encoding</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.getheaderplural">
<tt class="descname">getheaderplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.getheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nplural and plural values from the header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the project based on information in the header.</p>
<dl class="docutils">
<dt>The project is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the &#8216;X-Project-Style&#8217; entry in the header.</li>
<li>Use &#8216;Report-Msgid-Bug-To&#8217; entry</li>
<li>Use the &#8216;X-Accelerator&#8217; entry</li>
<li>Use the Project ID</li>
<li>Analyse the file itself (not yet implemented)</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the target language based on information in the header.</p>
<dl class="docutils">
<dt>The target language is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the &#8216;Language&#8217; entry in the header.</li>
<li>Poedit&#8217;s custom headers.</li>
<li>Analysing the &#8216;Language-Team&#8217; entry.</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.header">
<tt class="descname">header</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the header element, or None. Only the first element is allowed
to be a header. Note that this could still return an empty header element,
if present.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.init_headers">
<tt class="descname">init_headers</tt><big>(</big><em>charset='UTF-8'</em>, <em>encoding='8bit'</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.init_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>sets default values for po headers</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.makeheader">
<tt class="descname">makeheader</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.makeheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header for the given filename.</p>
<p>Check .makeheaderdict() for information on parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.makeheaderdict">
<tt class="descname">makeheaderdict</tt><big>(</big><em>charset='CHARSET'</em>, <em>encoding='ENCODING'</em>, <em>project_id_version=None</em>, <em>pot_creation_date=None</em>, <em>po_revision_date=None</em>, <em>last_translator=None</em>, <em>language_team=None</em>, <em>mime_version=None</em>, <em>plural_forms=None</em>, <em>report_msgid_bugs_to=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.makeheaderdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header dictionary with useful defaults.</p>
<p>pot_creation_date can be None (current date) or a value (datetime or string)
po_revision_date can be None (form), False (=pot_creation_date), True (=now),
or a value (datetime or string)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary with the header items</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.pypo.pofile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.pypo.pofile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.mergeheaders">
<tt class="descname">mergeheaders</tt><big>(</big><em>otherstore</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.mergeheaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges another header with this header.</p>
<p>This header is assumed to be the template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.parse">
<tt class="descname">parse</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the given file or file source string.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.pypo.pofile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.parseheader">
<tt class="descname">parseheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.parseheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the PO header and returns the interpreted values as a
dictionary.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.pypo.pofile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.removeduplicates">
<tt class="descname">removeduplicates</tt><big>(</big><em>duplicatestyle='merge'</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.removeduplicates" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure each msgid is unique ; merge comments etc from
duplicates into original</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project in the header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>project_style</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the new project</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>lang</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language in the header.</p>
<p>This removes any custom Poedit headers if they exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lang</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the new target language code</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.updatecontributor">
<tt class="descname">updatecontributor</tt><big>(</big><em>name</em>, <em>email=None</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.updatecontributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add contribution comments if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.updateheader">
<tt class="descname">updateheader</tt><big>(</big><em>add=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.updateheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the fields in the PO style header.</p>
<p>This will create a header if add == True.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.updateheaderplural">
<tt class="descname">updateheaderplural</tt><big>(</big><em>nplurals</em>, <em>plural</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.pofile.updateheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the Plural-Form PO header.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.pypo.quoteforpo">
<tt class="descclassname">translate.storage.pypo.</tt><tt class="descname">quoteforpo</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.quoteforpo" title="Permalink to this definition">¶</a></dt>
<dd><p>Quotes the given text for a PO file, returning quoted and
escaped lines</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.pypo.unescape">
<tt class="descclassname">translate.storage.pypo.</tt><tt class="descname">unescape</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#translate.storage.pypo.unescape" title="Permalink to this definition">¶</a></dt>
<dd><p>Unescape the given line.</p>
<p>Quotes on either side should already have been removed.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.qm">
<span id="qm"></span><h2>qm<a class="headerlink" href="#module-translate.storage.qm" title="Permalink to this headline">¶</a></h2>
<p>Module for parsing Qt .qm files.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Based on documentation from Gettext&#8217;s .qm implementation
(see <em>write-qt.c</em>) and on observation of the output of lrelease.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Certain deprecated section tags are not implemented.  These will break
and print out the missing tag.  They are easy to implement and should
follow the structure in 03 (Translation).  We could find no examples
that use these so we&#8217;d rather leave it unimplemented until we
actually have test data.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Many .qm files are unable to be parsed as they do not have the source
text.  We assume that since they use a hash table to lookup the
data there is actually no need for the source text.  It seems however
that in Qt4&#8217;s lrelease all data is included in the resultant .qm file.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We can only parse, not create, a .qm file.  The main issue is that we
need to implement the hashing algorithm (which seems to be identical to the
Gettext hash algorithm).  Unlike Gettext it seems that the hash is
required, but that has not been validated.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The code can parse files correctly.  But it could be cleaned up to be
more readable, especially the part that breaks the file into sections.</p>
</div>
<p><a class="reference external" href="http://qt.gitorious.org/+kde-developers/qt/kde-qt/blobs/master/tools/linguist/shared/qm.cpp">http://qt.gitorious.org/+kde-developers/qt/kde-qt/blobs/master/tools/linguist/shared/qm.cpp</a>
<a class="reference external" href="http://qt.gitorious.org/+kde-developers/qt/kde-qt/blobs/master/tools/linguist/shared/numerus.cpp">Plural information</a>
<a class="reference external" href="http://docs.huihoo.com/qt/4.5/qlocale.html#Language-enum">QLocale languages</a></p>
<dl class="class">
<dt id="translate.storage.qm.qmfile">
<em class="property">class </em><tt class="descclassname">translate.storage.qm.</tt><tt class="descname">qmfile</tt><big>(</big><em>inputfile=None</em>, <em>unitclass=&lt;class 'translate.storage.qm.qmunit'&gt;</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile" title="Permalink to this definition">¶</a></dt>
<dd><p>A class representing a .qm file.</p>
<dl class="attribute">
<dt id="translate.storage.qm.qmfile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.qm.qmfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.qm.qmunit" title="translate.storage.qm.qmunit"><tt class="xref py py-class docutils literal"><span class="pre">qmunit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.qm.qmfile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.qm.qmfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.parse">
<tt class="descname">parse</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the given file or file source string.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qm.qmfile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qm.qmfile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.qm.qmunit">
<em class="property">class </em><tt class="descclassname">translate.storage.qm.</tt><tt class="descname">qmunit</tt><big>(</big><em>source=None</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A class representing a .qm translation message.</p>
<dl class="method">
<dt id="translate.storage.qm.qmunit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qm.qmunit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.getlocations">
<tt class="descname">getlocations</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.getnotes">
<tt class="descname">getnotes</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><tt class="xref py py-meth docutils literal"><span class="pre">getlocations()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qm.qmunit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.setsource">
<tt class="descname">setsource</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.setsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>target</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.qm.qmunpack">
<tt class="descclassname">translate.storage.qm.</tt><tt class="descname">qmunpack</tt><big>(</big><em>file_='messages.qm'</em><big>)</big><a class="headerlink" href="#translate.storage.qm.qmunpack" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper to unpack Qt .qm files into a Python string</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.qph">
<span id="qph"></span><h2>qph<a class="headerlink" href="#module-translate.storage.qph" title="Permalink to this headline">¶</a></h2>
<p>Module for handling Qt Linguist Phrase Book (.qph) files.</p>
<p>Extract from the <a class="reference external" href="http://doc.trolltech.com/4.3/linguist-translators.html">Qt Linguist Manual: Translators</a>:
.qph Qt Phrase Book Files are human-readable XML files containing standard
phrases and their translations. These files are created and updated by Qt
Linguist and may be used by any number of projects and applications.</p>
<p>A DTD to define the format does not seem to exist, but the following <a class="reference external" href="http://qt.gitorious.org/qt/qt/blobs/4.7/tools/linguist/shared/qph.cpp">code</a>
provides the reference implementation for the Qt Linguist product.</p>
<dl class="class">
<dt id="translate.storage.qph.QphFile">
<em class="property">class </em><tt class="descclassname">translate.storage.qph.</tt><tt class="descname">QphFile</tt><big>(</big><em>inputfile=None</em>, <em>sourcelanguage='en'</em>, <em>targetlanguage=None</em>, <em>unitclass=None</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing a QPH file store.</p>
<dl class="attribute">
<dt id="translate.storage.qph.QphFile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.qph.QphFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.qph.QphUnit" title="translate.storage.qph.QphUnit"><tt class="xref py py-class docutils literal"><span class="pre">QphUnit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.addheader">
<tt class="descname">addheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.addheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to be overridden to initialise headers, etc.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds and returns a new unit with the given string as first entry.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this .qph file.</p>
<p>We don&#8217;t implement setsourcelanguage as users really shouldn&#8217;t be
altering the source language in .qph files, it should be set correctly
by the extraction tools.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">ISO code e.g. af, fr, pt_BR</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this .qph file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">ISO code e.g. af, fr, pt_BR</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.initbody">
<tt class="descname">initbody</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.initbody" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises self.body so it never needs to be retrieved from the
XML again.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.qph.QphFile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.qph.QphFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.namespaced">
<tt class="descname">namespaced</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <tt class="docutils literal"><span class="pre">namespaced(&quot;source&quot;)</span></tt> in an XLIFF document
might return:</p>
<div class="highlight-python"><div class="highlight"><pre>{urn:oasis:names:tc:xliff:document:1.1}source
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.parse">
<tt class="descname">parse</tt><big>(</big><em>xml</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates this object from the given xml string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qph.QphFile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qph.QphFile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this .qph file to <em>targetlanguage</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>targetlanguage</strong> (<em>String</em>) &#8211; ISO code e.g. af, fr, pt_BR</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.qph.QphUnit">
<em class="property">class </em><tt class="descclassname">translate.storage.qph.</tt><tt class="descname">QphUnit</tt><big>(</big><em>source</em>, <em>empty=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A single term in the qph file.</p>
<dl class="method">
<dt id="translate.storage.qph.QphUnit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a note specifically in a &#8220;definition&#8221; tag</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qph.QphUnit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.createPHnodes">
<tt class="descname">createPHnodes</tt><big>(</big><em>parent</em>, <em>text</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.createPHnodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the text node in parent containing all the ph tags</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.createlanguageNode">
<tt class="descname">createlanguageNode</tt><big>(</big><em>lang</em>, <em>text</em>, <em>purpose</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.createlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an xml Element setup with given parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.getNodeText">
<tt class="descname">getNodeText</tt><big>(</big><em>languageNode</em>, <em>xml_space='preserve'</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.getNodeText" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the term from the given <tt class="xref py py-attr docutils literal"><span class="pre">languageNode</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.getlanguageNode">
<tt class="descname">getlanguageNode</tt><big>(</big><em>lang=None</em>, <em>index=None</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.getlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a <tt class="xref py py-attr docutils literal"><span class="pre">languageNode</span></tt> either by language or by index.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.getlanguageNodes">
<tt class="descname">getlanguageNodes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.getlanguageNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>We override this to get source and target nodes.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.getlocations">
<tt class="descname">getlocations</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.gettarget">
<tt class="descname">gettarget</tt><big>(</big><em>lang=None</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.gettarget" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the &#8220;target&#8221; text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.namespaced">
<tt class="descname">namespaced</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <tt class="docutils literal"><span class="pre">namespaced(&quot;source&quot;)</span></tt> in an XLIFF document
might return:</p>
<div class="highlight-python"><div class="highlight"><pre>{urn:oasis:names:tc:xliff:document:1.1}source
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qph.QphUnit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.qph.QphUnit.rid">
<tt class="descname">rid</tt><a class="headerlink" href="#translate.storage.qph.QphUnit.rid" title="Permalink to this definition">¶</a></dt>
<dd><p>rid</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>text</em>, <em>lang='xx'</em>, <em>append=False</em><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the &#8220;target&#8221; string (second language), or alternatively
appends to the list</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.qph.QphUnit.target">
<tt class="descname">target</tt><a class="headerlink" href="#translate.storage.qph.QphUnit.target" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the &#8220;target&#8221; text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.qph.QphUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.qph.QphUnit.xid">
<tt class="descname">xid</tt><a class="headerlink" href="#translate.storage.qph.QphUnit.xid" title="Permalink to this definition">¶</a></dt>
<dd><p>xid</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.rc">
<span id="rc"></span><h2>rc<a class="headerlink" href="#module-translate.storage.rc" title="Permalink to this headline">¶</a></h2>
<p>Classes that hold units of .rc files (<a class="reference internal" href="#translate.storage.rc.rcunit" title="translate.storage.rc.rcunit"><tt class="xref py py-class docutils literal"><span class="pre">rcunit</span></tt></a>) or entire files
(<a class="reference internal" href="#translate.storage.rc.rcfile" title="translate.storage.rc.rcfile"><tt class="xref py py-class docutils literal"><span class="pre">rcfile</span></tt></a>) used in translating Windows Resources.</p>
<dl class="function">
<dt id="translate.storage.rc.escape_to_python">
<tt class="descclassname">translate.storage.rc.</tt><tt class="descname">escape_to_python</tt><big>(</big><em>string</em><big>)</big><a class="headerlink" href="#translate.storage.rc.escape_to_python" title="Permalink to this definition">¶</a></dt>
<dd><p>Escape a given .rc string into a valid Python string.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.rc.escape_to_rc">
<tt class="descclassname">translate.storage.rc.</tt><tt class="descname">escape_to_rc</tt><big>(</big><em>string</em><big>)</big><a class="headerlink" href="#translate.storage.rc.escape_to_rc" title="Permalink to this definition">¶</a></dt>
<dd><p>Escape a given Python string into a valid .rc string.</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.rc.rcfile">
<em class="property">class </em><tt class="descclassname">translate.storage.rc.</tt><tt class="descname">rcfile</tt><big>(</big><em>inputfile=None</em>, <em>lang=None</em>, <em>sublang=None</em>, <em>encoding='cp1252'</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a .rc file, made up of rcunits.</p>
<dl class="attribute">
<dt id="translate.storage.rc.rcfile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.rc.rcfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.rc.rcunit" title="translate.storage.rc.rcunit"><tt class="xref py py-class docutils literal"><span class="pre">rcunit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.rc.rcfile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.rc.rcfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.parse">
<tt class="descname">parse</tt><big>(</big><em>rcsrc</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the source of a .rc file in and include them as units.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.rc.rcfile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.rc.rcfile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.rc.rcunit">
<em class="property">class </em><tt class="descclassname">translate.storage.rc.</tt><tt class="descname">rcunit</tt><big>(</big><em>source=''</em>, <em>encoding='cp1252'</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A unit of an rc file</p>
<dl class="method">
<dt id="translate.storage.rc.rcunit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.rc.rcunit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.getoutput">
<tt class="descname">getoutput</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the element back into formatted lines for a .rc file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether this is a blank element, containing only comments.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.rc.rcunit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.setsource">
<tt class="descname">setsource</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.setsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the source AND the target to be equal</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>target</em><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This also sets the <tt class="docutils literal"><span class="pre">.source</span></tt> attribute!</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.rc.rcunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.statistics">
<span id="statistics"></span><h2>statistics<a class="headerlink" href="#module-translate.storage.statistics" title="Permalink to this headline">¶</a></h2>
<p>Module to provide statistics and related functionality.</p>
<dl class="class">
<dt id="translate.storage.statistics.Statistics">
<em class="property">class </em><tt class="descclassname">translate.storage.statistics.</tt><tt class="descname">Statistics</tt><big>(</big><em>sourcelanguage='en'</em>, <em>targetlanguage='en'</em>, <em>checkerstyle=None</em><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages statistics for storage objects.</p>
<dl class="method">
<dt id="translate.storage.statistics.Statistics.classifyunit">
<tt class="descname">classifyunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.classifyunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the classes that the unit belongs to.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> &#8211; the unit to classify</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.classifyunits">
<tt class="descname">classifyunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.classifyunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a dictionary of which units fall into which classifications.</p>
<p>This method iterates over all units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.countwords">
<tt class="descname">countwords</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.countwords" title="Permalink to this definition">¶</a></dt>
<dd><p>Counts the source and target words in each of the units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.fuzzy_unitcount">
<tt class="descname">fuzzy_unitcount</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.fuzzy_unitcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of fuzzy units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.fuzzy_units">
<tt class="descname">fuzzy_units</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.fuzzy_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of fuzzy units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.get_source_text">
<tt class="descname">get_source_text</tt><big>(</big><em>units</em><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.get_source_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Joins the unit source strings in a single string of text.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all units in this object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.reclassifyunit">
<tt class="descname">reclassifyunit</tt><big>(</big><em>item</em><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.reclassifyunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the classification of a unit in self.classification.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>item</strong> &#8211; an integer that is an index in .getunits().</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.source_wordcount">
<tt class="descname">source_wordcount</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.source_wordcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of words in the source text.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.translated_unitcount">
<tt class="descname">translated_unitcount</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.translated_unitcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of translated units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.translated_units">
<tt class="descname">translated_units</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.translated_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of translated units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.translated_wordcount">
<tt class="descname">translated_wordcount</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.translated_wordcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of translated words in this object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.untranslated_unitcount">
<tt class="descname">untranslated_unitcount</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.untranslated_unitcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of untranslated units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.untranslated_units">
<tt class="descname">untranslated_units</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.untranslated_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of untranslated units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.untranslated_wordcount">
<tt class="descname">untranslated_wordcount</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.untranslated_wordcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of untranslated words in this object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.wordcount">
<tt class="descname">wordcount</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#translate.storage.statistics.Statistics.wordcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of words in the given text.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.statsdb">
<span id="statsdb"></span><h2>statsdb<a class="headerlink" href="#module-translate.storage.statsdb" title="Permalink to this headline">¶</a></h2>
<p>Module to provide a cache of statistics in a database.</p>
<dl class="class">
<dt id="translate.storage.statsdb.StatsCache">
<em class="property">class </em><tt class="descclassname">translate.storage.statsdb.</tt><tt class="descname">StatsCache</tt><a class="headerlink" href="#translate.storage.statsdb.StatsCache" title="Permalink to this definition">¶</a></dt>
<dd><p>An object instantiated as a singleton for each statsfile that provides
access to the database cache from a pool of StatsCache objects.</p>
<dl class="attribute">
<dt id="translate.storage.statsdb.StatsCache.con">
<tt class="descname">con</tt><em class="property"> = None</em><a class="headerlink" href="#translate.storage.statsdb.StatsCache.con" title="Permalink to this definition">¶</a></dt>
<dd><p>This cache&#8217;s connection</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.statsdb.StatsCache.cur">
<tt class="descname">cur</tt><em class="property"> = None</em><a class="headerlink" href="#translate.storage.statsdb.StatsCache.cur" title="Permalink to this definition">¶</a></dt>
<dd><p>The current cursor</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statsdb.StatsCache.filechecks">
<tt class="descname">filechecks</tt><big>(</big><em>filename</em>, <em>checker</em>, <em>store=None</em><big>)</big><a class="headerlink" href="#translate.storage.statsdb.StatsCache.filechecks" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the error statistics for the given file if possible,
otherwise delegates to cachestorechecks().</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statsdb.StatsCache.filestatestats">
<tt class="descname">filestatestats</tt><big>(</big><em>filename</em>, <em>store=None</em>, <em>extended=False</em><big>)</big><a class="headerlink" href="#translate.storage.statsdb.StatsCache.filestatestats" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of unit stats mapping sets of unit
indices with those states</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statsdb.StatsCache.filestats">
<tt class="descname">filestats</tt><big>(</big><em>filename</em>, <em>checker</em>, <em>store=None</em>, <em>extended=False</em><big>)</big><a class="headerlink" href="#translate.storage.statsdb.StatsCache.filestats" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of property names mapping sets of unit
indices with those properties.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statsdb.StatsCache.filetotals">
<tt class="descname">filetotals</tt><big>(</big><em>filename</em>, <em>store=None</em>, <em>extended=False</em><big>)</big><a class="headerlink" href="#translate.storage.statsdb.StatsCache.filetotals" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the statistics for the given file if possible, otherwise
delegates to cachestore().</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statsdb.StatsCache.unitstats">
<tt class="descname">unitstats</tt><big>(</big><em>filename</em>, <em>_lang=None</em>, <em>store=None</em><big>)</big><a class="headerlink" href="#translate.storage.statsdb.StatsCache.unitstats" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of property names mapping to arrays which
map unit indices to property values.</p>
<p>Please note that this is different from filestats, since filestats
supplies sets of unit indices with a given property, whereas this
method supplies arrays which map unit indices to given values.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.statsdb.emptyfiletotals">
<tt class="descclassname">translate.storage.statsdb.</tt><tt class="descname">emptyfiletotals</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.statsdb.emptyfiletotals" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary with all statistics initalised to 0.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.statsdb.statefordb">
<tt class="descclassname">translate.storage.statsdb.</tt><tt class="descname">statefordb</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.statsdb.statefordb" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the numeric database state for the unit.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.statsdb.transaction">
<tt class="descclassname">translate.storage.statsdb.</tt><tt class="descname">transaction</tt><big>(</big><em>f</em><big>)</big><a class="headerlink" href="#translate.storage.statsdb.transaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies f to commit database changes if it executes without exceptions.
Otherwise it rolls back the database.</p>
<p>ALL publicly accessible methods in StatsCache MUST be decorated with this
decorator.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.statsdb.wordsinunit">
<tt class="descclassname">translate.storage.statsdb.</tt><tt class="descname">wordsinunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.statsdb.wordsinunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Counts the words in the unit&#8217;s source and target, taking plurals into
account. The target words are only counted if the unit is translated.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.subtitles">
<span id="subtitles"></span><h2>subtitles<a class="headerlink" href="#module-translate.storage.subtitles" title="Permalink to this headline">¶</a></h2>
<p>Class that manages subtitle files for translation.</p>
<p>This class makes use of the subtitle functionality of <tt class="docutils literal"><span class="pre">gaupol</span></tt>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">gaupol/agents/open.py::open_main</p>
</div>
<p>A patch to gaupol is required to open utf-8 files successfully.</p>
<dl class="class">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile">
<em class="property">class </em><tt class="descclassname">translate.storage.subtitles.</tt><tt class="descname">AdvSubStationAlphaFile</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile" title="Permalink to this definition">¶</a></dt>
<dd><p>specialized class for SubRipFile&#8217;s only</p>
<dl class="attribute">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.subtitles.SubtitleUnit" title="translate.storage.subtitles.SubtitleUnit"><tt class="xref py py-class docutils literal"><span class="pre">SubtitleUnit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.subtitles.MicroDVDFile">
<em class="property">class </em><tt class="descclassname">translate.storage.subtitles.</tt><tt class="descname">MicroDVDFile</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile" title="Permalink to this definition">¶</a></dt>
<dd><p>specialized class for SubRipFile&#8217;s only</p>
<dl class="attribute">
<dt id="translate.storage.subtitles.MicroDVDFile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.subtitles.SubtitleUnit" title="translate.storage.subtitles.SubtitleUnit"><tt class="xref py py-class docutils literal"><span class="pre">SubtitleUnit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.subtitles.MicroDVDFile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.MicroDVDFile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.MicroDVDFile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.subtitles.SubRipFile">
<em class="property">class </em><tt class="descclassname">translate.storage.subtitles.</tt><tt class="descname">SubRipFile</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile" title="Permalink to this definition">¶</a></dt>
<dd><p>specialized class for SubRipFile&#8217;s only</p>
<dl class="attribute">
<dt id="translate.storage.subtitles.SubRipFile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.subtitles.SubtitleUnit" title="translate.storage.subtitles.SubtitleUnit"><tt class="xref py py-class docutils literal"><span class="pre">SubtitleUnit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.subtitles.SubRipFile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubRipFile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubRipFile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.subtitles.SubStationAlphaFile">
<em class="property">class </em><tt class="descclassname">translate.storage.subtitles.</tt><tt class="descname">SubStationAlphaFile</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile" title="Permalink to this definition">¶</a></dt>
<dd><p>specialized class for SubRipFile&#8217;s only</p>
<dl class="attribute">
<dt id="translate.storage.subtitles.SubStationAlphaFile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.subtitles.SubtitleUnit" title="translate.storage.subtitles.SubtitleUnit"><tt class="xref py py-class docutils literal"><span class="pre">SubtitleUnit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.subtitles.SubStationAlphaFile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubStationAlphaFile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubStationAlphaFile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.subtitles.SubtitleFile">
<em class="property">class </em><tt class="descclassname">translate.storage.subtitles.</tt><tt class="descname">SubtitleFile</tt><big>(</big><em>inputfile=None</em>, <em>unitclass=&lt;class 'translate.storage.subtitles.SubtitleUnit'&gt;</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A subtitle file</p>
<dl class="attribute">
<dt id="translate.storage.subtitles.SubtitleFile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.subtitles.SubtitleUnit" title="translate.storage.subtitles.SubtitleUnit"><tt class="xref py py-class docutils literal"><span class="pre">SubtitleUnit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.subtitles.SubtitleFile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubtitleFile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubtitleFile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.subtitles.SubtitleUnit">
<em class="property">class </em><tt class="descclassname">translate.storage.subtitles.</tt><tt class="descname">SubtitleUnit</tt><big>(</big><em>source=None</em>, <em>encoding='utf_8'</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A subtitle entry that is translatable</p>
<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubtitleUnit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubtitleUnit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.setsource">
<tt class="descname">setsource</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.setsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>target</em><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.symbian">
<span id="symbian"></span><h2>symbian<a class="headerlink" href="#module-translate.storage.symbian" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-translate.storage.tbx">
<span id="tbx"></span><h2>tbx<a class="headerlink" href="#module-translate.storage.tbx" title="Permalink to this headline">¶</a></h2>
<p>module for handling TBX glossary files</p>
<dl class="class">
<dt id="translate.storage.tbx.tbxfile">
<em class="property">class </em><tt class="descclassname">translate.storage.tbx.</tt><tt class="descname">tbxfile</tt><big>(</big><em>inputfile=None</em>, <em>sourcelanguage='en'</em>, <em>targetlanguage=None</em>, <em>unitclass=None</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing a TBX file store.</p>
<dl class="attribute">
<dt id="translate.storage.tbx.tbxfile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.tbx.tbxfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.tbx.tbxunit" title="translate.storage.tbx.tbxunit"><tt class="xref py py-class docutils literal"><span class="pre">tbxunit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.addheader">
<tt class="descname">addheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.addheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise headers with TBX specific things.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds and returns a new unit with the given string as first entry.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.initbody">
<tt class="descname">initbody</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.initbody" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises self.body so it never needs to be retrieved from the
XML again.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tbx.tbxfile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.tbx.tbxfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.namespaced">
<tt class="descname">namespaced</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <tt class="docutils literal"><span class="pre">namespaced(&quot;source&quot;)</span></tt> in an XLIFF document
might return:</p>
<div class="highlight-python"><div class="highlight"><pre>{urn:oasis:names:tc:xliff:document:1.1}source
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.parse">
<tt class="descname">parse</tt><big>(</big><em>xml</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates this object from the given xml string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tbx.tbxfile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tbx.tbxfile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.tbx.tbxunit">
<em class="property">class </em><tt class="descclassname">translate.storage.tbx.</tt><tt class="descname">tbxunit</tt><big>(</big><em>source</em>, <em>empty=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A single term in the TBX file.
Provisional work is done to make several languages possible.</p>
<dl class="method">
<dt id="translate.storage.tbx.tbxunit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tbx.tbxunit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.createPHnodes">
<tt class="descname">createPHnodes</tt><big>(</big><em>parent</em>, <em>text</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.createPHnodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the text node in parent containing all the ph tags</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.createlanguageNode">
<tt class="descname">createlanguageNode</tt><big>(</big><em>lang</em>, <em>text</em>, <em>purpose</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.createlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a langset xml Element setup with given parameters</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.getNodeText">
<tt class="descname">getNodeText</tt><big>(</big><em>languageNode</em>, <em>xml_space='preserve'</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.getNodeText" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the term from the given <tt class="xref py py-attr docutils literal"><span class="pre">languageNode</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.getlanguageNode">
<tt class="descname">getlanguageNode</tt><big>(</big><em>lang=None</em>, <em>index=None</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.getlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a <tt class="xref py py-attr docutils literal"><span class="pre">languageNode</span></tt> either by language or by index.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.getlanguageNodes">
<tt class="descname">getlanguageNodes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.getlanguageNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all nodes that contain per language information.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.getlocations">
<tt class="descname">getlocations</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.getnotes">
<tt class="descname">getnotes</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><tt class="xref py py-meth docutils literal"><span class="pre">getlocations()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.gettarget">
<tt class="descname">gettarget</tt><big>(</big><em>lang=None</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.gettarget" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the &#8220;target&#8221; text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.namespaced">
<tt class="descname">namespaced</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <tt class="docutils literal"><span class="pre">namespaced(&quot;source&quot;)</span></tt> in an XLIFF document
might return:</p>
<div class="highlight-python"><div class="highlight"><pre>{urn:oasis:names:tc:xliff:document:1.1}source
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tbx.tbxunit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tbx.tbxunit.rid">
<tt class="descname">rid</tt><a class="headerlink" href="#translate.storage.tbx.tbxunit.rid" title="Permalink to this definition">¶</a></dt>
<dd><p>rid</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>text</em>, <em>lang='xx'</em>, <em>append=False</em><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the &#8220;target&#8221; string (second language), or alternatively
appends to the list</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tbx.tbxunit.target">
<tt class="descname">target</tt><a class="headerlink" href="#translate.storage.tbx.tbxunit.target" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the &#8220;target&#8221; text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tbx.tbxunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tbx.tbxunit.xid">
<tt class="descname">xid</tt><a class="headerlink" href="#translate.storage.tbx.tbxunit.xid" title="Permalink to this definition">¶</a></dt>
<dd><p>xid</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.tiki">
<span id="tiki"></span><h2>tiki<a class="headerlink" href="#module-translate.storage.tiki" title="Permalink to this headline">¶</a></h2>
<p>Class that manages TikiWiki files for translation.  Tiki files are &lt;strike&gt;ugly and
inconsistent&lt;/strike&gt; formatted as a single large PHP array with several special
sections identified by comments.  Example current as of 2008-12-01:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
  <span class="c1">// Many comments at the top</span>
  <span class="nv">$lang</span><span class="o">=</span><span class="k">Array</span><span class="p">(</span>
  <span class="c1">// ### Start of unused words</span>
  <span class="s2">&quot;aaa&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;zzz&quot;</span><span class="p">,</span>
  <span class="c1">// ### end of unused words</span>

  <span class="c1">// ### start of untranslated words</span>
  <span class="c1">// &quot;bbb&quot; =&gt; &quot;yyy&quot;,</span>
  <span class="c1">// ### end of untranslated words</span>

  <span class="c1">// ### start of possibly untranslated words</span>
  <span class="s2">&quot;ccc&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
  <span class="c1">// ### end of possibly untranslated words</span>

  <span class="s2">&quot;ddd&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;www&quot;</span><span class="p">,</span>
  <span class="s2">&quot;###end###&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;###end###&quot;</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>In addition there are several auto-generated //-style comments scattered through the
page and array, some of which matter when being parsed.</p>
<p>This has all been gleaned from the
<a class="reference external" href="http://tikiwiki.svn.sourceforge.net/viewvc/tikiwiki/trunk/get_strings.php?view=markup">TikiWiki source</a>.
As far as I know no detailed documentation exists for the tiki language.php files.</p>
<dl class="class">
<dt id="translate.storage.tiki.TikiStore">
<em class="property">class </em><tt class="descclassname">translate.storage.tiki.</tt><tt class="descname">TikiStore</tt><big>(</big><em>inputfile=None</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a tiki language.php file.</p>
<dl class="attribute">
<dt id="translate.storage.tiki.TikiStore.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.tiki.TikiStore.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tiki.TikiStore.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.tiki.TikiStore.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.parse">
<tt class="descname">parse</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the given input into source units.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>input</strong> &#8211; the source, either a string or filehandle</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tiki.TikiStore.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tiki.TikiStore.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiStore.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.tiki.TikiUnit">
<em class="property">class </em><tt class="descclassname">translate.storage.tiki.</tt><tt class="descname">TikiUnit</tt><big>(</big><em>source=None</em>, <em>encoding='UTF-8'</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A tiki unit entry.</p>
<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Location is defined by the comments in the file. This function will only
set valid locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>location</strong> &#8211; Where the string is located in the file.  Must be a valid location.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tiki.TikiUnit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.getlocations">
<tt class="descname">getlocations</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the a list of the location(s) of the string.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.getnotes">
<tt class="descname">getnotes</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><tt class="xref py py-meth docutils literal"><span class="pre">getlocations()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tiki.TikiUnit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.setsource">
<tt class="descname">setsource</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.setsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>target</em><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tiki.TikiUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.tmdb">
<span id="tmdb"></span><h2>tmdb<a class="headerlink" href="#module-translate.storage.tmdb" title="Permalink to this headline">¶</a></h2>
<p>Module to provide a translation memory database.</p>
</div>
<div class="section" id="module-translate.storage.tmx">
<span id="tmx"></span><h2>tmx<a class="headerlink" href="#module-translate.storage.tmx" title="Permalink to this headline">¶</a></h2>
<p>module for parsing TMX translation memeory files</p>
<dl class="class">
<dt id="translate.storage.tmx.tmxfile">
<em class="property">class </em><tt class="descclassname">translate.storage.tmx.</tt><tt class="descname">tmxfile</tt><big>(</big><em>inputfile=None</em>, <em>sourcelanguage='en'</em>, <em>targetlanguage=None</em>, <em>unitclass=None</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing a TMX file store.</p>
<dl class="attribute">
<dt id="translate.storage.tmx.tmxfile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.tmx.tmxfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.tmx.tmxunit" title="translate.storage.tmx.tmxunit"><tt class="xref py py-class docutils literal"><span class="pre">tmxunit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds and returns a new unit with the given string as first entry.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.addtranslation">
<tt class="descname">addtranslation</tt><big>(</big><em>source</em>, <em>srclang</em>, <em>translation</em>, <em>translang</em>, <em>comment=None</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.addtranslation" title="Permalink to this definition">¶</a></dt>
<dd><p>addtranslation method for testing old unit tests</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.initbody">
<tt class="descname">initbody</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.initbody" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises self.body so it never needs to be retrieved from the
XML again.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tmx.tmxfile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.tmx.tmxfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.namespaced">
<tt class="descname">namespaced</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <tt class="docutils literal"><span class="pre">namespaced(&quot;source&quot;)</span></tt> in an XLIFF document
might return:</p>
<div class="highlight-python"><div class="highlight"><pre>{urn:oasis:names:tc:xliff:document:1.1}source
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.parse">
<tt class="descname">parse</tt><big>(</big><em>xml</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates this object from the given xml string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tmx.tmxfile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tmx.tmxfile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.translate">
<tt class="descname">translate</tt><big>(</big><em>sourcetext</em>, <em>sourcelang=None</em>, <em>targetlang=None</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>method to test old unit tests</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.tmx.tmxunit">
<em class="property">class </em><tt class="descclassname">translate.storage.tmx.</tt><tt class="descname">tmxunit</tt><big>(</big><em>source</em>, <em>empty=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A single unit in the TMX file.</p>
<dl class="method">
<dt id="translate.storage.tmx.tmxunit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a note specifically in a &#8220;note&#8221; tag.</p>
<p>The origin parameter is ignored</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tmx.tmxunit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a copy of the translation unit.</p>
<p>We don&#8217;t want to make a deep copy - this could duplicate the whole XML
tree. For now we just serialise and reparse the unit&#8217;s XML.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.createPHnodes">
<tt class="descname">createPHnodes</tt><big>(</big><em>parent</em>, <em>text</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.createPHnodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the text node in parent containing all the ph tags</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.createlanguageNode">
<tt class="descname">createlanguageNode</tt><big>(</big><em>lang</em>, <em>text</em>, <em>purpose</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.createlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a langset xml Element setup with given parameters</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.getNodeText">
<tt class="descname">getNodeText</tt><big>(</big><em>languageNode</em>, <em>xml_space='preserve'</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.getNodeText" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the term from the given <tt class="xref py py-attr docutils literal"><span class="pre">languageNode</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the identifier for this unit. The optional tuid property is
used if available, otherwise we inherit .getid(). Note that the tuid
property is only mandated to be unique from TMX 2.0.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.getlanguageNode">
<tt class="descname">getlanguageNode</tt><big>(</big><em>lang=None</em>, <em>index=None</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.getlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a <tt class="xref py py-attr docutils literal"><span class="pre">languageNode</span></tt> either by language or by index.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.getlanguageNodes">
<tt class="descname">getlanguageNodes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.getlanguageNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all nodes that contain per language information.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.getlocations">
<tt class="descname">getlocations</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.gettarget">
<tt class="descname">gettarget</tt><big>(</big><em>lang=None</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.gettarget" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the &#8220;target&#8221; text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.namespaced">
<tt class="descname">namespaced</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <tt class="docutils literal"><span class="pre">namespaced(&quot;source&quot;)</span></tt> in an XLIFF document
might return:</p>
<div class="highlight-python"><div class="highlight"><pre>{urn:oasis:names:tc:xliff:document:1.1}source
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tmx.tmxunit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tmx.tmxunit.rid">
<tt class="descname">rid</tt><a class="headerlink" href="#translate.storage.tmx.tmxunit.rid" title="Permalink to this definition">¶</a></dt>
<dd><p>rid</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>text</em>, <em>lang='xx'</em>, <em>append=False</em><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the &#8220;target&#8221; string (second language), or alternatively
appends to the list</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tmx.tmxunit.target">
<tt class="descname">target</tt><a class="headerlink" href="#translate.storage.tmx.tmxunit.target" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the &#8220;target&#8221; text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.tmx.tmxunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tmx.tmxunit.xid">
<tt class="descname">xid</tt><a class="headerlink" href="#translate.storage.tmx.tmxunit.xid" title="Permalink to this definition">¶</a></dt>
<dd><p>xid</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.trados">
<span id="trados"></span><h2>trados<a class="headerlink" href="#module-translate.storage.trados" title="Permalink to this headline">¶</a></h2>
<p>Manage the Trados .txt Translation Memory format</p>
<p>A Trados file looks like this:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;TrU&gt;</span>
<span class="nt">&lt;CrD&gt;</span>18012000, 13:18:35
<span class="nt">&lt;CrU&gt;</span>CAROL-ANN
<span class="nt">&lt;UsC&gt;</span>0
<span class="nt">&lt;Seg</span> <span class="na">L=</span><span class="s">EN_GB</span><span class="nt">&gt;</span>Association for Road Safety \endash  Conference
<span class="nt">&lt;Seg</span> <span class="na">L=</span><span class="s">DE_DE</span><span class="nt">&gt;</span>Tagung der Gesellschaft für Verkehrssicherheit
<span class="nt">&lt;/TrU&gt;</span>
<span class="nt">&lt;TrU&gt;</span>
<span class="nt">&lt;CrD&gt;</span>18012000, 13:19:14
<span class="nt">&lt;CrU&gt;</span>CAROL-ANN
<span class="nt">&lt;UsC&gt;</span>0
<span class="nt">&lt;Seg</span> <span class="na">L=</span><span class="s">EN_GB</span><span class="nt">&gt;</span>Road Safety Education in our Schools
<span class="nt">&lt;Seg</span> <span class="na">L=</span><span class="s">DE_DE</span><span class="nt">&gt;</span>Verkehrserziehung an Schulen
<span class="nt">&lt;/TrU&gt;</span>
</pre></div>
</div>
<dl class="data">
<dt id="translate.storage.trados.RTF_ESCAPES">
<tt class="descclassname">translate.storage.trados.</tt><tt class="descname">RTF_ESCAPES</tt><em class="property"> = {u'\\lquote': u'\u2018', u'\\ldblquote': u'\u201c', u'\\_': u'\u2011', u'\\rquote': u'\u2019', u'\\bullet': u'\u2022', u'\\rdblquote': u'\u201d', u'\\endash': u'\u2013', u'\\emspace': u'\u2003', u'\\~': u'\xa0', u'\\emdash': u'\u2014', u'\\enspace': u'\u2002', u'\\-': u'\xad'}</em><a class="headerlink" href="#translate.storage.trados.RTF_ESCAPES" title="Permalink to this definition">¶</a></dt>
<dd><p>RTF control to Unicode map. See
<a class="reference external" href="http://msdn.microsoft.com/en-us/library/aa140283(v=office.10).aspx">http://msdn.microsoft.com/en-us/library/aa140283(v=office.10).aspx</a></p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.trados.TRADOS_TIMEFORMAT">
<tt class="descclassname">translate.storage.trados.</tt><tt class="descname">TRADOS_TIMEFORMAT</tt><em class="property"> = '%d%m%Y, %H:%M:%S'</em><a class="headerlink" href="#translate.storage.trados.TRADOS_TIMEFORMAT" title="Permalink to this definition">¶</a></dt>
<dd><p>Time format used by Trados .txt</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.trados.TradosTxtDate">
<em class="property">class </em><tt class="descclassname">translate.storage.trados.</tt><tt class="descname">TradosTxtDate</tt><big>(</big><em>newtime=None</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages the timestamps in the Trados .txt format of DDMMYYY, hh:mm:ss</p>
<dl class="method">
<dt id="translate.storage.trados.TradosTxtDate.get_time">
<tt class="descname">get_time</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtDate.get_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time_struct object</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtDate.get_timestring">
<tt class="descname">get_timestring</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtDate.get_timestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time in the Trados time format</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtDate.set_time">
<tt class="descname">set_time</tt><big>(</big><em>newtime</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtDate.set_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the time_struct object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>newtime</strong> (<em>time.time_struct</em>) &#8211; a new time object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtDate.set_timestring">
<tt class="descname">set_timestring</tt><big>(</big><em>timestring</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtDate.set_timestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the time_struct object using a Trados time formated string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timestring</strong> (<em>String</em>) &#8211; A Trados time string (DDMMYYYY, hh:mm:ss)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.trados.TradosTxtDate.time">
<tt class="descname">time</tt><a class="headerlink" href="#translate.storage.trados.TradosTxtDate.time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time_struct object</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.trados.TradosTxtDate.timestring">
<tt class="descname">timestring</tt><a class="headerlink" href="#translate.storage.trados.TradosTxtDate.timestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time in the Trados time format</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.trados.TradosTxtTmFile">
<em class="property">class </em><tt class="descclassname">translate.storage.trados.</tt><tt class="descname">TradosTxtTmFile</tt><big>(</big><em>inputfile=None</em>, <em>unitclass=&lt;class 'translate.storage.trados.TradosUnit'&gt;</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A Trados translation memory file</p>
<dl class="attribute">
<dt id="translate.storage.trados.TradosTxtTmFile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.trados.TradosTxtTmFile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.trados.TradosTxtTmFile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.trados.TradosTxtTmFile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.trados.escape">
<tt class="descclassname">translate.storage.trados.</tt><tt class="descname">escape</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#translate.storage.trados.escape" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert Unicode string to Trodas escapes</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.trados.unescape">
<tt class="descclassname">translate.storage.trados.</tt><tt class="descname">unescape</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#translate.storage.trados.unescape" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert Trados text to normal Unicode string</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.ts2">
<span id="ts2"></span><h2>ts2<a class="headerlink" href="#module-translate.storage.ts2" title="Permalink to this headline">¶</a></h2>
<p>Module for handling Qt linguist (.ts) files.</p>
<p>This will eventually replace the older ts.py which only supports the older
format. While converters haven&#8217;t been updated to use this module, we retain
both.</p>
<p><a class="reference external" href="http://doc.qt.digia.com/4.3/linguist-ts-file-format.html">TS file format 4.3</a>,
<a class="reference external" href="http://qt-project.org/doc/qt-4.8/linguist-ts-file-format.html">4.8</a>,
<a class="reference external" href="http://qt-project.org/doc/qt-5.0/qtlinguist/linguist-ts-file-format.html">5.0</a>.
<a class="reference external" href="http://svn.ez.no/svn/ezcomponents/trunk/Translation/docs/linguist-format.txt">Example</a>.</p>
<p><a class="reference external" href="http://qt-project.org/doc/qt-5.0/qtcore/qstring.html#arg">Specification of the valid variable entries</a>,
<a class="reference external" href="http://qt-project.org/doc/qt-5.0/qtcore/qstring.html#arg-2">2</a></p>
<dl class="class">
<dt id="translate.storage.ts2.tsfile">
<em class="property">class </em><tt class="descclassname">translate.storage.ts2.</tt><tt class="descname">tsfile</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing a TS file store.</p>
<dl class="attribute">
<dt id="translate.storage.ts2.tsfile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.ts2.tsfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.ts2.tsunit" title="translate.storage.ts2.tsunit"><tt class="xref py py-class docutils literal"><span class="pre">tsunit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.addheader">
<tt class="descname">addheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.addheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to be overridden to initialise headers, etc.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds and returns a new unit with the given string as first entry.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em>, <em>new=True</em>, <em>contextname=None</em>, <em>createifmissing=True</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given unit to the last used body node (current context).</p>
<p>If the contextname is specified, switch to that context (creating it
if allowed by createifmissing).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this .ts file.</p>
<p>The &#8216;sourcelanguage&#8217; attribute was only added to the TS format in
Qt v4.5. We return &#8216;en&#8217; if there is no sourcelanguage set.</p>
<p>We don&#8217;t implement setsourcelanguage as users really shouldn&#8217;t be
altering the source language in .ts files, it should be set correctly
by the extraction tools.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">ISO code e.g. af, fr, pt_BR</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this .ts file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">ISO code e.g. af, fr, pt_BR</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.initbody">
<tt class="descname">initbody</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.initbody" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises self.body.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ts2.tsfile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.ts2.tsfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.namespaced">
<tt class="descname">namespaced</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <tt class="docutils literal"><span class="pre">namespaced(&quot;source&quot;)</span></tt> in an XLIFF document
might return:</p>
<div class="highlight-python"><div class="highlight"><pre>{urn:oasis:names:tc:xliff:document:1.1}source
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.parse">
<tt class="descname">parse</tt><big>(</big><em>xml</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates this object from the given xml string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ts2.tsfile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ts2.tsfile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this .ts file to <em>targetlanguage</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>targetlanguage</strong> (<em>String</em>) &#8211; ISO code e.g. af, fr, pt_BR</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.ts2.tsunit">
<em class="property">class </em><tt class="descclassname">translate.storage.ts2.</tt><tt class="descname">tsunit</tt><big>(</big><em>source</em>, <em>empty=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A single term in the TS file.</p>
<dl class="method">
<dt id="translate.storage.ts2.tsunit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a note specifically in the appropriate <em>comment</em> tag</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ts2.tsunit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.createPHnodes">
<tt class="descname">createPHnodes</tt><big>(</big><em>parent</em>, <em>text</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.createPHnodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the text node in parent containing all the ph tags</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.createlanguageNode">
<tt class="descname">createlanguageNode</tt><big>(</big><em>lang</em>, <em>text</em>, <em>purpose</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.createlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an xml Element setup with given parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.getNodeText">
<tt class="descname">getNodeText</tt><big>(</big><em>languageNode</em>, <em>xml_space='preserve'</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.getNodeText" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the term from the given <tt class="xref py py-attr docutils literal"><span class="pre">languageNode</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.getlanguageNode">
<tt class="descname">getlanguageNode</tt><big>(</big><em>lang=None</em>, <em>index=None</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.getlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a <tt class="xref py py-attr docutils literal"><span class="pre">languageNode</span></tt> either by language or by index.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.getlanguageNodes">
<tt class="descname">getlanguageNodes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.getlanguageNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>We override this to get source and target nodes.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>States whether this unit needs to be reviewed</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.namespaced">
<tt class="descname">namespaced</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <tt class="docutils literal"><span class="pre">namespaced(&quot;source&quot;)</span></tt> in an XLIFF document
might return:</p>
<div class="highlight-python"><div class="highlight"><pre>{urn:oasis:names:tc:xliff:document:1.1}source
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ts2.tsunit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ts2.tsunit.rid">
<tt class="descname">rid</tt><a class="headerlink" href="#translate.storage.ts2.tsunit.rid" title="Permalink to this definition">¶</a></dt>
<dd><p>rid</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ts2.tsunit.statemap">
<tt class="descname">statemap</tt><em class="property"> = {'': 100, None: 100, 'obsolete': -100, 'unfinished': 30}</em><a class="headerlink" href="#translate.storage.ts2.tsunit.statemap" title="Permalink to this definition">¶</a></dt>
<dd><p>This maps the unit &#8220;type&#8221; attribute to state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.ts2.tsunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ts2.tsunit.xid">
<tt class="descname">xid</tt><a class="headerlink" href="#translate.storage.ts2.tsunit.xid" title="Permalink to this definition">¶</a></dt>
<dd><p>xid</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.ts">
<span id="ts"></span><h2>ts<a class="headerlink" href="#module-translate.storage.ts" title="Permalink to this headline">¶</a></h2>
<p>Module for parsing Qt .ts files for translation.</p>
<p>Currently this module supports the old format of .ts files. Some applictaions
use the newer .ts format which are documented here:
<a class="reference external" href="http://doc.qt.digia.com/4.3/linguist-ts-file-format.html">TS file format 4.3</a>,
<a class="reference external" href="http://svn.ez.no/svn/ezcomponents/trunk/Translation/docs/linguist-format.txt">Example</a></p>
<p><a class="reference external" href="http://qt-project.org/doc/qt-5.0/qtcore/qstring.html#arg">Specification of the valid variable entries</a>,
<a class="reference external" href="http://qt-project.org/doc/qt-5.0/qtcore/qstring.html#arg-2">2</a></p>
</div>
<div class="section" id="module-translate.storage.txt">
<span id="txt"></span><h2>txt<a class="headerlink" href="#module-translate.storage.txt" title="Permalink to this headline">¶</a></h2>
<p>This class implements the functionality for handling plain text files, or
similar wiki type files.</p>
<dl class="docutils">
<dt>Supported formats are</dt>
<dd><ul class="first last simple">
<li>Plain text</li>
<li>dokuwiki</li>
<li>MediaWiki</li>
</ul>
</dd>
</dl>
<dl class="class">
<dt id="translate.storage.txt.TxtFile">
<em class="property">class </em><tt class="descclassname">translate.storage.txt.</tt><tt class="descname">TxtFile</tt><big>(</big><em>inputfile=None</em>, <em>flavour=None</em>, <em>encoding='utf-8'</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a text file, made up of txtunits</p>
<dl class="attribute">
<dt id="translate.storage.txt.TxtFile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.txt.TxtFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.txt.TxtUnit" title="translate.storage.txt.TxtUnit"><tt class="xref py py-class docutils literal"><span class="pre">TxtUnit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.getoutput">
<tt class="descname">getoutput</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the units back to blocks</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.txt.TxtFile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.txt.TxtFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.parse">
<tt class="descname">parse</tt><big>(</big><em>lines</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in text lines and create txtunits from the blocks of text</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.txt.TxtFile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.txt.TxtFile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.txt.TxtUnit">
<em class="property">class </em><tt class="descclassname">translate.storage.txt.</tt><tt class="descname">TxtUnit</tt><big>(</big><em>source=''</em>, <em>encoding='utf-8'</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a block of text from a text file</p>
<dl class="method">
<dt id="translate.storage.txt.TxtUnit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.txt.TxtUnit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.getnotes">
<tt class="descname">getnotes</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><tt class="xref py py-meth docutils literal"><span class="pre">getlocations()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.getsource">
<tt class="descname">getsource</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.getsource" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the unquoted source string</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.gettarget">
<tt class="descname">gettarget</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.gettarget" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the unquoted target string</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.txt.TxtUnit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.setsource">
<tt class="descname">setsource</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.setsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the definition to the quoted value of source</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>target</em><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the definition to the quoted value of target</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.txt.TxtUnit.source">
<tt class="descname">source</tt><a class="headerlink" href="#translate.storage.txt.TxtUnit.source" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the unquoted source string</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.txt.TxtUnit.target">
<tt class="descname">target</tt><a class="headerlink" href="#translate.storage.txt.TxtUnit.target" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the unquoted target string</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.txt.TxtUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.utx">
<span id="utx"></span><h2>utx<a class="headerlink" href="#module-translate.storage.utx" title="Permalink to this headline">¶</a></h2>
<p>Manage the Universal Terminology eXchange (UTX) format</p>
<p>UTX is a format for terminology exchange, designed it seems with Machine
Translation (MT) as it&#8217;s primary consumer.  The format is created by
the Asia-Pacific Association for Machine Translation (AAMT).</p>
<p>It is a bilingual base class derived format with <a class="reference internal" href="#translate.storage.utx.UtxFile" title="translate.storage.utx.UtxFile"><tt class="xref py py-class docutils literal"><span class="pre">UtxFile</span></tt></a>
and <a class="reference internal" href="#translate.storage.utx.UtxUnit" title="translate.storage.utx.UtxUnit"><tt class="xref py py-class docutils literal"><span class="pre">UtxUnit</span></tt></a> providing file and unit level access.</p>
<p>The format can manage monolingual dictionaries but these classes don&#8217;t
implement that.</p>
<dl class="docutils">
<dt>Specification</dt>
<dd>The format is implemented according to UTX v1.0 (No longer available from
their website. The current <a class="reference external" href="http://www.aamt.info/english/utx/#Download">UTX version</a> may be downloaded instead).</dd>
<dt>Format Implementation</dt>
<dd>The UTX format is a Tab Seperated Value (TSV) file in UTF-8.  The
first two lines are headers with subsequent lines containing a
single source target definition.</dd>
<dt>Encoding</dt>
<dd>The files are UTF-8 encoded with no BOM and CR+LF line terminators.</dd>
</dl>
<dl class="class">
<dt id="translate.storage.utx.UtxDialect">
<em class="property">class </em><tt class="descclassname">translate.storage.utx.</tt><tt class="descname">UtxDialect</tt><a class="headerlink" href="#translate.storage.utx.UtxDialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Describe the properties of an UTX generated TAB-delimited dictionary
file.</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.utx.UtxFile">
<em class="property">class </em><tt class="descclassname">translate.storage.utx.</tt><tt class="descname">UtxFile</tt><big>(</big><em>inputfile=None</em>, <em>unitclass=&lt;class 'translate.storage.utx.UtxUnit'&gt;</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A UTX dictionary file</p>
<dl class="attribute">
<dt id="translate.storage.utx.UtxFile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.utx.UtxFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.utx.UtxFile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.utx.UtxFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.parse">
<tt class="descname">parse</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parsese the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.utx.UtxFile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.utx.UtxFile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.utx.UtxHeader">
<em class="property">class </em><tt class="descclassname">translate.storage.utx.</tt><tt class="descname">UtxHeader</tt><a class="headerlink" href="#translate.storage.utx.UtxHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>A UTX header entry</p>
<dl class="docutils">
<dt>A UTX header is a single line that looks like this::</dt>
<dd>#UTX-S &lt;version&gt;; &lt; source language &gt;/&lt; target language&gt;;
&lt;date created&gt;; &lt;optional fields (creator, license, etc.)&gt;</dd>
<dt>Where::</dt>
<dd><ul class="first last simple">
<li>UTX-S version is currently 1.00.</li>
<li>Source language/target language: ISO 639, 3166 formats.
In the case of monolingual dictionary, target language should be
omitted.</li>
<li>Date created: ISO 8601 format</li>
<li>Optional fields (creator, license, etc.)</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="translate.storage.utx.UtxUnit">
<em class="property">class </em><tt class="descclassname">translate.storage.utx.</tt><tt class="descname">UtxUnit</tt><big>(</big><em>source=None</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A UTX dictionary unit</p>
<dl class="method">
<dt id="translate.storage.utx.UtxUnit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.utx.UtxUnit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.utx.UtxUnit.dict">
<tt class="descname">dict</tt><a class="headerlink" href="#translate.storage.utx.UtxUnit.dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a UTX line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.getdict">
<tt class="descname">getdict</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.getdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a UTX line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.getlocations">
<tt class="descname">getlocations</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.utx.UtxUnit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.setdict">
<tt class="descname">setdict</tt><big>(</big><em>newdict</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.setdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dictionary of values for a UTX line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>newdict</strong> (<em>Dict</em>) &#8211; a new dictionary with UTX line elements</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.utx.UtxUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.versioncontrol">
<span id="versioncontrol"></span><h2>versioncontrol<a class="headerlink" href="#module-translate.storage.versioncontrol" title="Permalink to this headline">¶</a></h2>
<p>This module manages interaction with version control systems.</p>
<p>To implement support for a new version control system, inherit from
<a class="reference internal" href="#translate.storage.versioncontrol.GenericRevisionControlSystem" title="translate.storage.versioncontrol.GenericRevisionControlSystem"><tt class="xref py py-class docutils literal"><span class="pre">GenericRevisionControlSystem</span></tt></a>.</p>
<dl class="docutils">
<dt>TODO:</dt>
<dd><ul class="first last simple">
<li>Add authentication handling</li>
<li><a class="reference internal" href="#translate.storage.versioncontrol.commitdirectory" title="translate.storage.versioncontrol.commitdirectory"><tt class="xref py py-func docutils literal"><span class="pre">commitdirectory()</span></tt></a> should do a single commit instead of one for
each file</li>
<li>Maybe implement some caching for <a class="reference internal" href="#translate.storage.versioncontrol.get_versioned_object" title="translate.storage.versioncontrol.get_versioned_object"><tt class="xref py py-func docutils literal"><span class="pre">get_versioned_object()</span></tt></a> - check
profiler</li>
</ul>
</dd>
</dl>
<dl class="data">
<dt id="translate.storage.versioncontrol.DEFAULT_RCS">
<tt class="descclassname">translate.storage.versioncontrol.</tt><tt class="descname">DEFAULT_RCS</tt><em class="property"> = ['svn', 'cvs', 'darcs', 'git', 'bzr', 'hg']</em><a class="headerlink" href="#translate.storage.versioncontrol.DEFAULT_RCS" title="Permalink to this definition">¶</a></dt>
<dd><p>the names of all supported revision control systems</p>
<p>modules of the same name containing a class with the same name are expected
to be defined below &#8216;translate.storage.versioncontrol&#8217;</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.versioncontrol.GenericRevisionControlSystem">
<em class="property">class </em><tt class="descclassname">translate.storage.versioncontrol.</tt><tt class="descname">GenericRevisionControlSystem</tt><big>(</big><em>location</em>, <em>oldest_parent=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.GenericRevisionControlSystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>The super class for all version control classes.</p>
<p>Always inherit from this class to implement another RC interface.</p>
<p>At least the two attributes <a class="reference internal" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.RCS_METADIR" title="translate.storage.versioncontrol.GenericRevisionControlSystem.RCS_METADIR"><tt class="xref py py-attr docutils literal"><span class="pre">RCS_METADIR</span></tt></a> and <a class="reference internal" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.SCAN_PARENTS" title="translate.storage.versioncontrol.GenericRevisionControlSystem.SCAN_PARENTS"><tt class="xref py py-attr docutils literal"><span class="pre">SCAN_PARENTS</span></tt></a>
must be overriden by all implementations that derive from this class.</p>
<dl class="docutils">
<dt>By default, all implementations can rely on the following attributes:</dt>
<dd><ul class="first last simple">
<li><tt class="xref py py-attr docutils literal"><span class="pre">root_dir</span></tt>: the parent of the metadata directory of the
working copy</li>
<li><tt class="xref py py-attr docutils literal"><span class="pre">location_abs</span></tt>: the absolute path of the RCS object</li>
<li><tt class="xref py py-attr docutils literal"><span class="pre">location_rel</span></tt>: the path of the RCS object relative
to <tt class="xref py py-attr docutils literal"><span class="pre">root_dir</span></tt></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="translate.storage.versioncontrol.GenericRevisionControlSystem.RCS_METADIR">
<tt class="descname">RCS_METADIR</tt><em class="property"> = None</em><a class="headerlink" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.RCS_METADIR" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the metadata directory of the RCS</p>
<p>e.g.: for Subversion -&gt; &#8221;.svn&#8221;</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.versioncontrol.GenericRevisionControlSystem.SCAN_PARENTS">
<tt class="descname">SCAN_PARENTS</tt><em class="property"> = None</em><a class="headerlink" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.SCAN_PARENTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to check the parent directories for the metadata directory of
the RCS working copy</p>
<p>Some revision control systems store their metadata directory only
in the base of the working copy (e.g. bzr, GIT and Darcs)
use <tt class="docutils literal"><span class="pre">True</span></tt> for these RCS</p>
<p>Other RCS store a metadata directory in every single directory of
the working copy (e.g. Subversion and CVS)
use <tt class="docutils literal"><span class="pre">False</span></tt> for these RCS</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.GenericRevisionControlSystem.add">
<tt class="descname">add</tt><big>(</big><em>files</em>, <em>message=None</em>, <em>author=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy to be overridden by real implementations</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.GenericRevisionControlSystem.commit">
<tt class="descname">commit</tt><big>(</big><em>message=None</em>, <em>author=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy to be overridden by real implementations</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.GenericRevisionControlSystem.getcleanfile">
<tt class="descname">getcleanfile</tt><big>(</big><em>revision=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.getcleanfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy to be overridden by real implementations</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.GenericRevisionControlSystem.update">
<tt class="descname">update</tt><big>(</big><em>revision=None</em>, <em>needs_revert=True</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy to be overridden by real implementations</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.commitdirectory">
<tt class="descclassname">translate.storage.versioncontrol.</tt><tt class="descname">commitdirectory</tt><big>(</big><em>directory</em>, <em>message=None</em>, <em>author=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.commitdirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit all files below the given directory.</p>
<p>Files that are just symlinked into the directory are supported, too</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.get_available_version_control_systems">
<tt class="descclassname">translate.storage.versioncontrol.</tt><tt class="descname">get_available_version_control_systems</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.get_available_version_control_systems" title="Permalink to this definition">¶</a></dt>
<dd><p>return the class objects of all locally available version control
systems</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.get_versioned_object">
<tt class="descclassname">translate.storage.versioncontrol.</tt><tt class="descname">get_versioned_object</tt><big>(</big><em>location</em>, <em>versioning_systems=None</em>, <em>follow_symlinks=True</em>, <em>oldest_parent=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.get_versioned_object" title="Permalink to this definition">¶</a></dt>
<dd><p>return a versioned object for the given file</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.get_versioned_objects_recursive">
<tt class="descclassname">translate.storage.versioncontrol.</tt><tt class="descname">get_versioned_objects_recursive</tt><big>(</big><em>location</em>, <em>versioning_systems=None</em>, <em>follow_symlinks=True</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.get_versioned_objects_recursive" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of objects, each pointing to a file below this directory</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.run_command">
<tt class="descclassname">translate.storage.versioncontrol.</tt><tt class="descname">run_command</tt><big>(</big><em>command</em>, <em>cwd=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.run_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a command (array of program name and arguments) and returns the
exitcode, the output and the error as a tuple.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>command</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; list of arguments to be joined for a program call</li>
<li><strong>cwd</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; optional directory where the command should be executed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.updatedirectory">
<tt class="descclassname">translate.storage.versioncontrol.</tt><tt class="descname">updatedirectory</tt><big>(</big><em>directory</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.updatedirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Update all files below the given directory.</p>
<p>Files that are just symlinked into the directory are supported, too</p>
</dd></dl>

<div class="section" id="module-translate.storage.versioncontrol.bzr">
<span id="bzr"></span><h3>bzr<a class="headerlink" href="#module-translate.storage.versioncontrol.bzr" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="translate.storage.versioncontrol.bzr.bzr">
<em class="property">class </em><tt class="descclassname">translate.storage.versioncontrol.bzr.</tt><tt class="descname">bzr</tt><big>(</big><em>location</em>, <em>oldest_parent=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.bzr.bzr" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage items under revision control of bzr.</p>
<dl class="method">
<dt id="translate.storage.versioncontrol.bzr.bzr.add">
<tt class="descname">add</tt><big>(</big><em>files</em>, <em>message=None</em>, <em>author=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.bzr.bzr.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and commit files.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.bzr.bzr.commit">
<tt class="descname">commit</tt><big>(</big><em>message=None</em>, <em>author=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.bzr.bzr.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits the file and supplies the given commit message if present</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.bzr.bzr.getcleanfile">
<tt class="descname">getcleanfile</tt><big>(</big><em>revision=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.bzr.bzr.getcleanfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a clean version of a file from the bzr repository</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.bzr.bzr.update">
<tt class="descname">update</tt><big>(</big><em>revision=None</em>, <em>needs_revert=True</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.bzr.bzr.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Does a clean update of the given path</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.bzr.get_version">
<tt class="descclassname">translate.storage.versioncontrol.bzr.</tt><tt class="descname">get_version</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.bzr.get_version" title="Permalink to this definition">¶</a></dt>
<dd><p>return a tuple of (major, minor) for the installed bazaar client</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.bzr.is_available">
<tt class="descclassname">translate.storage.versioncontrol.bzr.</tt><tt class="descname">is_available</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.bzr.is_available" title="Permalink to this definition">¶</a></dt>
<dd><p>check if bzr is installed</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.versioncontrol.cvs">
<span id="cvs"></span><h3>cvs<a class="headerlink" href="#module-translate.storage.versioncontrol.cvs" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="translate.storage.versioncontrol.cvs.cvs">
<em class="property">class </em><tt class="descclassname">translate.storage.versioncontrol.cvs.</tt><tt class="descname">cvs</tt><big>(</big><em>location</em>, <em>oldest_parent=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.cvs.cvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage items under revision control of CVS.</p>
<dl class="method">
<dt id="translate.storage.versioncontrol.cvs.cvs.add">
<tt class="descname">add</tt><big>(</big><em>files</em>, <em>message=None</em>, <em>author=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.cvs.cvs.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and commit the new files.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.cvs.cvs.commit">
<tt class="descname">commit</tt><big>(</big><em>message=None</em>, <em>author=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.cvs.cvs.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits the file and supplies the given commit message if present</p>
<p>the &#8216;author&#8217; parameter is not suitable for CVS, thus it is ignored</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.cvs.cvs.getcleanfile">
<tt class="descname">getcleanfile</tt><big>(</big><em>revision=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.cvs.cvs.getcleanfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the content of the file for the given revision</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.cvs.cvs.update">
<tt class="descname">update</tt><big>(</big><em>revision=None</em>, <em>needs_revert=True</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.cvs.cvs.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Does a clean update of the given path</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.cvs.is_available">
<tt class="descclassname">translate.storage.versioncontrol.cvs.</tt><tt class="descname">is_available</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.cvs.is_available" title="Permalink to this definition">¶</a></dt>
<dd><p>check if cvs is installed</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.versioncontrol.darcs">
<span id="darcs"></span><h3>darcs<a class="headerlink" href="#module-translate.storage.versioncontrol.darcs" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="translate.storage.versioncontrol.darcs.darcs">
<em class="property">class </em><tt class="descclassname">translate.storage.versioncontrol.darcs.</tt><tt class="descname">darcs</tt><big>(</big><em>location</em>, <em>oldest_parent=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.darcs.darcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage items under revision control of darcs.</p>
<dl class="method">
<dt id="translate.storage.versioncontrol.darcs.darcs.add">
<tt class="descname">add</tt><big>(</big><em>files</em>, <em>message=None</em>, <em>author=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.darcs.darcs.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and commit files.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.darcs.darcs.commit">
<tt class="descname">commit</tt><big>(</big><em>message=None</em>, <em>author=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.darcs.darcs.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits the file and supplies the given commit message if present</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.darcs.darcs.getcleanfile">
<tt class="descname">getcleanfile</tt><big>(</big><em>revision=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.darcs.darcs.getcleanfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a clean version of a file from the darcs repository</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>revision</strong> &#8211; ignored for darcs</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.darcs.darcs.update">
<tt class="descname">update</tt><big>(</big><em>revision=None</em>, <em>needs_revert=True</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.darcs.darcs.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Does a clean update of the given path</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>revision</strong> &#8211; ignored for darcs</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.darcs.is_available">
<tt class="descclassname">translate.storage.versioncontrol.darcs.</tt><tt class="descname">is_available</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.darcs.is_available" title="Permalink to this definition">¶</a></dt>
<dd><p>check if darcs is installed</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.versioncontrol.git">
<span id="git"></span><h3>git<a class="headerlink" href="#module-translate.storage.versioncontrol.git" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="translate.storage.versioncontrol.git.git">
<em class="property">class </em><tt class="descclassname">translate.storage.versioncontrol.git.</tt><tt class="descname">git</tt><big>(</big><em>location</em>, <em>oldest_parent=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.git.git" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage items under revision control of git.</p>
<dl class="method">
<dt id="translate.storage.versioncontrol.git.git.add">
<tt class="descname">add</tt><big>(</big><em>files</em>, <em>message=None</em>, <em>author=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.git.git.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and commit the new files.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.git.git.commit">
<tt class="descname">commit</tt><big>(</big><em>message=None</em>, <em>author=None</em>, <em>add=True</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.git.git.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits the file and supplies the given commit message if present</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.git.git.getcleanfile">
<tt class="descname">getcleanfile</tt><big>(</big><em>revision=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.git.git.getcleanfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a clean version of a file from the git repository</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.git.git.update">
<tt class="descname">update</tt><big>(</big><em>revision=None</em>, <em>needs_revert=True</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.git.git.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Does a clean update of the given path</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.git.is_available">
<tt class="descclassname">translate.storage.versioncontrol.git.</tt><tt class="descname">is_available</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.git.is_available" title="Permalink to this definition">¶</a></dt>
<dd><p>check if git is installed</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.versioncontrol.hg">
<span id="hg"></span><h3>hg<a class="headerlink" href="#module-translate.storage.versioncontrol.hg" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="translate.storage.versioncontrol.hg.get_version">
<tt class="descclassname">translate.storage.versioncontrol.hg.</tt><tt class="descname">get_version</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.hg.get_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple of (major, minor) for the installed mercurial client.</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.versioncontrol.hg.hg">
<em class="property">class </em><tt class="descclassname">translate.storage.versioncontrol.hg.</tt><tt class="descname">hg</tt><big>(</big><em>location</em>, <em>oldest_parent=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.hg.hg" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage items under revision control of mercurial.</p>
<dl class="method">
<dt id="translate.storage.versioncontrol.hg.hg.add">
<tt class="descname">add</tt><big>(</big><em>files</em>, <em>message=None</em>, <em>author=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.hg.hg.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and commit the new files.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.hg.hg.commit">
<tt class="descname">commit</tt><big>(</big><em>message=None</em>, <em>author=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.hg.hg.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits the file and supplies the given commit message if present</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.hg.hg.getcleanfile">
<tt class="descname">getcleanfile</tt><big>(</big><em>revision=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.hg.hg.getcleanfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a clean version of a file from the hg repository</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.hg.hg.update">
<tt class="descname">update</tt><big>(</big><em>revision=None</em>, <em>needs_revert=True</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.hg.hg.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Does a clean update of the given path</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>revision</strong> &#8211; ignored for hg</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.hg.is_available">
<tt class="descclassname">translate.storage.versioncontrol.hg.</tt><tt class="descname">is_available</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.hg.is_available" title="Permalink to this definition">¶</a></dt>
<dd><p>check if hg is installed</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.versioncontrol.svn">
<span id="svn"></span><h3>svn<a class="headerlink" href="#module-translate.storage.versioncontrol.svn" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="translate.storage.versioncontrol.svn.get_version">
<tt class="descclassname">translate.storage.versioncontrol.svn.</tt><tt class="descname">get_version</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.svn.get_version" title="Permalink to this definition">¶</a></dt>
<dd><p>return a tuple of (major, minor) for the installed subversion client</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.svn.is_available">
<tt class="descclassname">translate.storage.versioncontrol.svn.</tt><tt class="descname">is_available</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.svn.is_available" title="Permalink to this definition">¶</a></dt>
<dd><p>check if svn is installed</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.versioncontrol.svn.svn">
<em class="property">class </em><tt class="descclassname">translate.storage.versioncontrol.svn.</tt><tt class="descname">svn</tt><big>(</big><em>location</em>, <em>oldest_parent=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.svn.svn" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage items under revision control of Subversion.</p>
<dl class="method">
<dt id="translate.storage.versioncontrol.svn.svn.add">
<tt class="descname">add</tt><big>(</big><em>files</em>, <em>message=None</em>, <em>author=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.svn.svn.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and commit the new files.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.svn.svn.commit">
<tt class="descname">commit</tt><big>(</big><em>message=None</em>, <em>author=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.svn.svn.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>commit the file and return the given message if present</p>
<p>the &#8216;author&#8217; parameter is used for revision property &#8216;translate:author&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.svn.svn.getcleanfile">
<tt class="descname">getcleanfile</tt><big>(</big><em>revision=None</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.svn.svn.getcleanfile" title="Permalink to this definition">¶</a></dt>
<dd><p>return the content of the &#8216;head&#8217; revision of the file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.svn.svn.update">
<tt class="descname">update</tt><big>(</big><em>revision=None</em>, <em>needs_revert=True</em><big>)</big><a class="headerlink" href="#translate.storage.versioncontrol.svn.svn.update" title="Permalink to this definition">¶</a></dt>
<dd><p>update the working copy - remove local modifications if necessary</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-translate.storage.wordfast">
<span id="wordfast"></span><h2>wordfast<a class="headerlink" href="#module-translate.storage.wordfast" title="Permalink to this headline">¶</a></h2>
<p>Manage the Wordfast Translation Memory format</p>
<p>Wordfast TM format is the Translation Memory format used by the
<a class="reference external" href="http://www.wordfast.net/">Wordfast</a> computer aided translation tool.</p>
<p>It is a bilingual base class derived format with <a class="reference internal" href="#translate.storage.wordfast.WordfastTMFile" title="translate.storage.wordfast.WordfastTMFile"><tt class="xref py py-class docutils literal"><span class="pre">WordfastTMFile</span></tt></a>
and <a class="reference internal" href="#translate.storage.wordfast.WordfastUnit" title="translate.storage.wordfast.WordfastUnit"><tt class="xref py py-class docutils literal"><span class="pre">WordfastUnit</span></tt></a> providing file and unit level access.</p>
<p>Wordfast is a computer aided translation tool.  It is an application
built on top of Microsoft Word and is implemented as a rather
sophisticated set of macros.  Understanding that helps us understand
many of the seemingly strange choices around this format including:
encoding, escaping and file naming.</p>
<dl class="docutils">
<dt>Implementation</dt>
<dd><p class="first">The implementation covers the full requirements of a Wordfast TM file.
The files are simple Tab Separated Value (TSV) files that can be read
by Microsoft Excel and other spreadsheet programs.  They use the .txt
extension which does make it more difficult to automatically identify
such files.</p>
<p class="last">The dialect of the TSV files is specified by <a class="reference internal" href="#translate.storage.wordfast.WordfastDialect" title="translate.storage.wordfast.WordfastDialect"><tt class="xref py py-class docutils literal"><span class="pre">WordfastDialect</span></tt></a>.</p>
</dd>
<dt>Encoding</dt>
<dd><p class="first">The files are UTF-16 or ISO-8859-1 (Latin1) encoded.  These choices
are most likely because Microsoft Word is the base editing tool for
Wordfast.</p>
<p class="last">The format is tab separated so we are able to detect UTF-16 vs Latin-1
by searching for the occurance of a UTF-16 tab character and then
continuing with the parsing.</p>
</dd>
<dt>Timestamps</dt>
<dd><a class="reference internal" href="#translate.storage.wordfast.WordfastTime" title="translate.storage.wordfast.WordfastTime"><tt class="xref py py-class docutils literal"><span class="pre">WordfastTime</span></tt></a> allows for the correct management of the Wordfast
YYYYMMDD~HHMMSS timestamps.  However, timestamps on individual units are
not updated when edited.</dd>
<dt>Header</dt>
<dd><a class="reference internal" href="#translate.storage.wordfast.WordfastHeader" title="translate.storage.wordfast.WordfastHeader"><tt class="xref py py-class docutils literal"><span class="pre">WordfastHeader</span></tt></a> provides header management support.  The header
functionality is fully implemented through observing the behaviour of the
files in real use cases, input from the Wordfast programmers and
public documentation.</dd>
<dt>Escaping</dt>
<dd><p class="first">Wordfast TM implements a form of escaping that covers two aspects:</p>
<ol class="last arabic simple">
<li>Placeable: bold, formating, etc.  These are left as is and ignored.  It
is up to the editor and future placeable implementation to manage these.</li>
<li>Escapes: items that may confuse Excel or translators are escaped as
<tt class="docutils literal"><span class="pre">&amp;'XX;</span></tt>. These are fully implemented and are converted to and from
Unicode.  By observing behaviour and reading documentation we where able
to observe all possible escapes. Unfortunately the escaping differs
slightly between Windows and Mac version.  This might cause errors in
future.  Functions allow for <tt class="docutils literal"><span class="pre">&lt;_wf_to_char&gt;</span></tt> and back to Wordfast
escape (<tt class="docutils literal"><span class="pre">&lt;_char_to_wf&gt;</span></tt>).</li>
</ol>
</dd>
<dt>Extended Attributes</dt>
<dd>The last 4 columns allow users to define and manage extended attributes.
These are left as is and are not directly managed byour implemenation.</dd>
</dl>
<dl class="data">
<dt id="translate.storage.wordfast.TAB_UTF16">
<tt class="descclassname">translate.storage.wordfast.</tt><tt class="descname">TAB_UTF16</tt><em class="property"> = '\x00\t'</em><a class="headerlink" href="#translate.storage.wordfast.TAB_UTF16" title="Permalink to this definition">¶</a></dt>
<dd><p>The tab t character as it would appear in UTF-16 encoding</p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.wordfast.WF_ESCAPE_MAP">
<tt class="descclassname">translate.storage.wordfast.</tt><tt class="descname">WF_ESCAPE_MAP</tt><em class="property"> = ((&quot;&amp;'26;&quot;, u'&amp;'), (&quot;&amp;'82;&quot;, u'\u201a'), (&quot;&amp;'85;&quot;, u'\u2026'), (&quot;&amp;'91;&quot;, u'\u2018'), (&quot;&amp;'92;&quot;, u'\u2019'), (&quot;&amp;'93;&quot;, u'\u201c'), (&quot;&amp;'94;&quot;, u'\u201d'), (&quot;&amp;'96;&quot;, u'\u2013'), (&quot;&amp;'97;&quot;, u'\u2014'), (&quot;&amp;'99;&quot;, u'\u2122'), (&quot;&amp;'A0;&quot;, u'\xa0'), (&quot;&amp;'A9;&quot;, u'\xa9'), (&quot;&amp;'AE;&quot;, u'\xae'), (&quot;&amp;'BC;&quot;, u'\xbc'), (&quot;&amp;'BD;&quot;, u'\xbd'), (&quot;&amp;'BE;&quot;, u'\xbe'), (&quot;&amp;'A8;&quot;, u'\xae'), (&quot;&amp;'AA;&quot;, u'\u2122'), (&quot;&amp;'C7;&quot;, u'\xab'), (&quot;&amp;'C8;&quot;, u'\xbb'), (&quot;&amp;'C9;&quot;, u'\u2026'), (&quot;&amp;'CA;&quot;, u'\xa0'), (&quot;&amp;'D0;&quot;, u'\u2013'), (&quot;&amp;'D1;&quot;, u'\u2014'), (&quot;&amp;'D2;&quot;, u'\u201c'), (&quot;&amp;'D3;&quot;, u'\u201d'), (&quot;&amp;'D4;&quot;, u'\u2018'), (&quot;&amp;'D5;&quot;, u'\u2019'), (&quot;&amp;'E2;&quot;, u'\u201a'), (&quot;&amp;'E3;&quot;, u'\u201e'))</em><a class="headerlink" href="#translate.storage.wordfast.WF_ESCAPE_MAP" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping of Wordfast &amp;&#8217;XX; escapes to correct Unicode characters</p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.wordfast.WF_FIELDNAMES">
<tt class="descclassname">translate.storage.wordfast.</tt><tt class="descname">WF_FIELDNAMES</tt><em class="property"> = ['date', 'user', 'reuse', 'src-lang', 'source', 'target-lang', 'target', 'attr1', 'attr2', 'attr3', 'attr4']</em><a class="headerlink" href="#translate.storage.wordfast.WF_FIELDNAMES" title="Permalink to this definition">¶</a></dt>
<dd><p>Field names for a Wordfast TU</p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.wordfast.WF_FIELDNAMES_HEADER">
<tt class="descclassname">translate.storage.wordfast.</tt><tt class="descname">WF_FIELDNAMES_HEADER</tt><em class="property"> = ['date', 'userlist', 'tucount', 'src-lang', 'version', 'target-lang', 'license', 'attr1list', 'attr2list', 'attr3list', 'attr4list', 'attr5list']</em><a class="headerlink" href="#translate.storage.wordfast.WF_FIELDNAMES_HEADER" title="Permalink to this definition">¶</a></dt>
<dd><p>Field names for the Wordfast header</p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.wordfast.WF_FIELDNAMES_HEADER_DEFAULTS">
<tt class="descclassname">translate.storage.wordfast.</tt><tt class="descname">WF_FIELDNAMES_HEADER_DEFAULTS</tt><em class="property"> = {'date': '%19000101~121212', 'src-lang': '%EN-US', 'license': '%---00000001', 'attr3list': '', 'target-lang': '', 'attr1list': '', 'attr2list': '', 'userlist': '%User ID,TT,TT Translate-Toolkit', 'attr4list': '', 'version': '%Wordfast TM v.5.51w9/00', 'tucount': '%TU=00000001'}</em><a class="headerlink" href="#translate.storage.wordfast.WF_FIELDNAMES_HEADER_DEFAULTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Default or minimum header entries for a Wordfast file</p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.wordfast.WF_TIMEFORMAT">
<tt class="descclassname">translate.storage.wordfast.</tt><tt class="descname">WF_TIMEFORMAT</tt><em class="property"> = '%Y%m%d~%H%M%S'</em><a class="headerlink" href="#translate.storage.wordfast.WF_TIMEFORMAT" title="Permalink to this definition">¶</a></dt>
<dd><p>Time format used by Wordfast</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.wordfast.WordfastDialect">
<em class="property">class </em><tt class="descclassname">translate.storage.wordfast.</tt><tt class="descname">WordfastDialect</tt><a class="headerlink" href="#translate.storage.wordfast.WordfastDialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Describe the properties of a Wordfast generated TAB-delimited file.</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.wordfast.WordfastHeader">
<em class="property">class </em><tt class="descclassname">translate.storage.wordfast.</tt><tt class="descname">WordfastHeader</tt><big>(</big><em>header=None</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>A wordfast translation memory header</p>
<dl class="method">
<dt id="translate.storage.wordfast.WordfastHeader.getheader">
<tt class="descname">getheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastHeader.getheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the header dictionary</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.wordfast.WordfastHeader.header">
<tt class="descname">header</tt><a class="headerlink" href="#translate.storage.wordfast.WordfastHeader.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the header dictionary</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.wordfast.WordfastTMFile">
<em class="property">class </em><tt class="descclassname">translate.storage.wordfast.</tt><tt class="descname">WordfastTMFile</tt><big>(</big><em>inputfile=None</em>, <em>unitclass=&lt;class 'translate.storage.wordfast.WordfastUnit'&gt;</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A Wordfast translation memory file</p>
<dl class="attribute">
<dt id="translate.storage.wordfast.WordfastTMFile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.addunit">
<tt class="descname">addunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object&#8217;s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt>) &#8211; The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.getids">
<tt class="descname">getids</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.getsourcelanguage">
<tt class="descname">getsourcelanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.gettargetlanguage">
<tt class="descname">gettargetlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.wordfast.WordfastTMFile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.parse">
<tt class="descname">parse</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parsese the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.wordfast.WordfastTMFile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.wordfast.WordfastTMFile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.setsourcelanguage">
<tt class="descname">setsourcelanguage</tt><big>(</big><em>sourcelanguage</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.settargetlanguage">
<tt class="descname">settargetlanguage</tt><big>(</big><em>targetlanguage</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.wordfast.WordfastTime">
<em class="property">class </em><tt class="descclassname">translate.storage.wordfast.</tt><tt class="descname">WordfastTime</tt><big>(</big><em>newtime=None</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages time stamps in the Wordfast format of YYYYMMDD~hhmmss</p>
<dl class="method">
<dt id="translate.storage.wordfast.WordfastTime.get_time">
<tt class="descname">get_time</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTime.get_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time_struct object</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTime.get_timestring">
<tt class="descname">get_timestring</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTime.get_timestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time in the Wordfast time format</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTime.set_time">
<tt class="descname">set_time</tt><big>(</big><em>newtime</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTime.set_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the time_struct object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>newtime</strong> (<em>time.time_struct</em>) &#8211; a new time object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTime.set_timestring">
<tt class="descname">set_timestring</tt><big>(</big><em>timestring</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastTime.set_timestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the time_sturct object using a Wordfast time formated string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timestring</strong> (<em>String</em>) &#8211; A Wordfast time string (YYYMMDD~hhmmss)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.wordfast.WordfastTime.time">
<tt class="descname">time</tt><a class="headerlink" href="#translate.storage.wordfast.WordfastTime.time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time_struct object</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.wordfast.WordfastTime.timestring">
<tt class="descname">timestring</tt><a class="headerlink" href="#translate.storage.wordfast.WordfastTime.timestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time in the Wordfast time format</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.wordfast.WordfastUnit">
<em class="property">class </em><tt class="descclassname">translate.storage.wordfast.</tt><tt class="descname">WordfastUnit</tt><big>(</big><em>source=None</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A Wordfast translation memory unit</p>
<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; A single word to id the error.</li>
<li><strong>errortext</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.addlocation">
<tt class="descname">addlocation</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Usually just a sentence or two.</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- &#8216;translator&#8217;
- &#8216;developer&#8217;, &#8216;programmer&#8217;, &#8216;source code&#8217; (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.wordfast.WordfastUnit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.wordfast.WordfastUnit.dict">
<tt class="descname">dict</tt><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a Wordfast line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.getdict">
<tt class="descname">getdict</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.getdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a Wordfast line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.getid">
<tt class="descname">getid</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.getlocations">
<tt class="descname">getlocations</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn&#8217;t be implemented if the format doesn&#8217;t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.getnotes">
<tt class="descname">getnotes</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><tt class="xref py py-meth docutils literal"><span class="pre">getlocations()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.isfuzzy">
<tt class="descname">isfuzzy</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.istranslatable">
<tt class="descname">istranslatable</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.markfuzzy">
<tt class="descname">markfuzzy</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> &#8211; Defaults to True.</li>
<li><strong>explanation</strong> &#8211; Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.merge">
<tt class="descname">merge</tt><big>(</big><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.multistring_to_rich">
<tt class="descname">multistring_to_rich</tt><big>(</big><em>mulstring</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of &#8220;rich&#8221; string trees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="s">u&#39;foo&#39;</span><span class="p">,</span> <span class="s">u&#39;bar&#39;</span><span class="p">,</span> <span class="s">u&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator&#8217;s notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.wordfast.WordfastUnit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a &#8220;rich&#8221; string tree to a <tt class="docutils literal"><span class="pre">multistring</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s">&#39; &#39;</span><span class="p">]),</span> <span class="s">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.setdict">
<tt class="descname">setdict</tt><big>(</big><em>newdict</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.setdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dictionary of values for a Wordfast line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>newdict</strong> (<em>Dict</em>) &#8211; a new dictionary with Wordfast line elements</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.setid">
<tt class="descname">setid</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other
unit properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.workflow">
<span id="workflow"></span><h2>workflow<a class="headerlink" href="#module-translate.storage.workflow" title="Permalink to this headline">¶</a></h2>
<p>A workflow is defined by a set of states that a translation unit can be in and
the (allowed) transitions between these states. A state is defined by a range
between -128 and 127, indicating its level of &#8220;completeness&#8221;. The range is
closed at the beginning and open at the end. That is, if a workflow contains
states A, B and C where A &lt; B &lt; C, a unit with state number n is in state A if
A &lt;= n &lt; B, state B if B &lt;= n &lt; C or state C if C &lt;= n &lt; MAX.</p>
<p>A value of 0 is typically the &#8220;empty&#8221; or &#8220;new&#8221; state with negative values
reserved for states like &#8220;obsolete&#8221; or &#8220;do not use&#8221;.</p>
<p>Format specific workflows should be defined in such a way that the numeric
state values correspond to similar states. For example state 0 should be
&#8220;untranslated&#8221; in PO and &#8220;new&#8221; or &#8220;empty&#8221; in XLIFF, state 100 should be
&#8220;translated&#8221; in PO and &#8220;final&#8221; in XLIFF. This allows formats to implicitly
define similar states.</p>
<dl class="class">
<dt id="translate.storage.workflow.StateEnum">
<em class="property">class </em><tt class="descclassname">translate.storage.workflow.</tt><tt class="descname">StateEnum</tt><a class="headerlink" href="#translate.storage.workflow.StateEnum" title="Permalink to this definition">¶</a></dt>
<dd><p>Only contains the constants for default states.</p>
</dd></dl>

</div>
<div class="section" id="id13">
<h2>xliff<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-translate.storage.xliff"></span><p>Module for handling XLIFF files for translation.</p>
<p>The official recommendation is to use the extention .xlf for XLIFF files.</p>
<dl class="class">
<dt id="translate.storage.xliff.xlifffile">
<em class="property">class </em><tt class="descclassname">translate.storage.xliff.</tt><tt class="descname">xlifffile</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing a XLIFF file store.</p>
<dl class="attribute">
<dt id="translate.storage.xliff.xlifffile.UnitClass">
<tt class="descname">UnitClass</tt><a class="headerlink" href="#translate.storage.xliff.xlifffile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.xliff.xliffunit" title="translate.storage.xliff.xliffunit"><tt class="xref py py-class docutils literal"><span class="pre">xliffunit</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.add_unit_to_index">
<tt class="descname">add_unit_to_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.addheader">
<tt class="descname">addheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.addheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the file header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.addsourceunit">
<tt class="descname">addsourceunit</tt><big>(</big><em>source</em>, <em>filename='NoName'</em>, <em>createifmissing=False</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>adds the given trans-unit to the last used body node if the
filename has changed it uses the slow method instead (will
create the nodes required if asked). Returns success</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.createfilenode">
<tt class="descname">createfilenode</tt><big>(</big><em>filename</em>, <em>sourcelanguage=None</em>, <em>targetlanguage=None</em>, <em>datatype='plaintext'</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.createfilenode" title="Permalink to this definition">¶</a></dt>
<dd><p>creates a filenode with the given filename. All parameters
are needed for XLIFF compliance.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.creategroup">
<tt class="descname">creategroup</tt><big>(</big><em>filename='NoName'</em>, <em>createifmissing=False</em>, <em>restype=None</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.creategroup" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a group tag into the specified file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.findid">
<tt class="descname">findid</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.findunit">
<tt class="descname">findunit</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.findunits">
<tt class="descname">findunits</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">TranslationUnit</span></tt> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getbodynode">
<tt class="descname">getbodynode</tt><big>(</big><em>filenode</em>, <em>createifmissing=False</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.getbodynode" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the body node for the given filenode</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getdatatype">
<tt class="descname">getdatatype</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.getdatatype" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the datatype of the stored file. If no filename is given,
the datatype of the first file is given.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getdate">
<tt class="descname">getdate</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.getdate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the date attribute for the file.</p>
<p>If no filename is given, the date of the first file is given.
If the date attribute is not specified, None is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Date attribute of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Date or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getfilename">
<tt class="descname">getfilename</tt><big>(</big><em>filenode</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.getfilename" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the name of the given file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getfilenames">
<tt class="descname">getfilenames</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.getfilenames" title="Permalink to this definition">¶</a></dt>
<dd><p>returns all filenames in this XLIFF file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getfilenode">
<tt class="descname">getfilenode</tt><big>(</big><em>filename</em>, <em>createifmissing=False</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.getfilenode" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the filenode with the given name</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getheadernode">
<tt class="descname">getheadernode</tt><big>(</big><em>filenode</em>, <em>createifmissing=False</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.getheadernode" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the header node for the given filenode</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getprojectstyle">
<tt class="descname">getprojectstyle</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.isempty">
<tt class="descname">isempty</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn&#8217;t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.makeindex">
<tt class="descname">makeindex</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.xliff.xlifffile.merge_on">
<tt class="descname">merge_on</tt><a class="headerlink" href="#translate.storage.xliff.xlifffile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.namespaced">
<tt class="descname">namespaced</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <tt class="docutils literal"><span class="pre">namespaced(&quot;source&quot;)</span></tt> in an XLIFF document
might return:</p>
<div class="highlight-python"><div class="highlight"><pre>{urn:oasis:names:tc:xliff:document:1.1}source
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.parse">
<tt class="descname">parse</tt><big>(</big><em>xml</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates this object from the given xml string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.xliff.xlifffile.parsefile">
<em class="property">classmethod </em><tt class="descname">parsefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.xliff.xlifffile.parsestring">
<em class="property">classmethod </em><tt class="descname">parsestring</tt><big>(</big><em>storestring</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the string to return the correct file object</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.remove_unit_from_index">
<tt class="descname">remove_unit_from_index</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.removedefaultfile">
<tt class="descname">removedefaultfile</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.removedefaultfile" title="Permalink to this definition">¶</a></dt>
<dd><p>We want to remove the default file-tag as soon as possible if we
know if still present and empty.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.require_index">
<tt class="descname">require_index</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if
available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.savefile">
<tt class="descname">savefile</tt><big>(</big><em>storefile</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.setfilename">
<tt class="descname">setfilename</tt><big>(</big><em>filenode</em>, <em>filename</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.setfilename" title="Permalink to this definition">¶</a></dt>
<dd><p>set the name of the given file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.setprojectstyle">
<tt class="descname">setprojectstyle</tt><big>(</big><em>project_style</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.xliff.xlifffile.suggestions_in_format">
<tt class="descname">suggestions_in_format</tt><em class="property"> = True</em><a class="headerlink" href="#translate.storage.xliff.xlifffile.suggestions_in_format" title="Permalink to this definition">¶</a></dt>
<dd><p>xliff units have alttrans tags which can be used to store suggestions</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.switchfile">
<tt class="descname">switchfile</tt><big>(</big><em>filename</em>, <em>createifmissing=False</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.switchfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given trans-unit (will create the nodes required if asked).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Success</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.translate">
<tt class="descname">translate</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xlifffile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.xliff.xliffunit">
<em class="property">class </em><tt class="descclassname">translate.storage.xliff.</tt><tt class="descname">xliffunit</tt><big>(</big><em>source</em>, <em>empty=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A single term in the xliff file.</p>
<dl class="method">
<dt id="translate.storage.xliff.xliffunit.addalttrans">
<tt class="descname">addalttrans</tt><big>(</big><em>txt</em>, <em>origin=None</em>, <em>lang=None</em>, <em>sourcetxt=None</em>, <em>matchquality=None</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.addalttrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an alt-trans tag and alt-trans components to the unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>txt</strong> (<em>String</em>) &#8211; Alternative translation of the source text.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.adderror">
<tt class="descname">adderror</tt><big>(</big><em>errorname</em>, <em>errortext</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.addlocations">
<tt class="descname">addlocations</tt><big>(</big><em>location</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn&#8217;t need to implement this, but should rather
implement <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.addlocation()</span></tt>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.addnote">
<tt class="descname">addnote</tt><big>(</big><em>text</em>, <em>origin=None</em>, <em>position='append'</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a note specifically in a &#8220;note&#8221; tag</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.xliff.xliffunit.buildfromunit">
<em class="property">classmethod </em><tt class="descname">buildfromunit</tt><big>(</big><em>unit</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.correctorigin">
<tt class="descname">correctorigin</tt><big>(</big><em>node</em>, <em>origin</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.correctorigin" title="Permalink to this definition">¶</a></dt>
<dd><p>Check against node tag&#8217;s origin (e.g note or alt-trans)</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.createPHnodes">
<tt class="descname">createPHnodes</tt><big>(</big><em>parent</em>, <em>text</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.createPHnodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the text node in parent containing all the ph tags</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.createcontextgroup">
<tt class="descname">createcontextgroup</tt><big>(</big><em>name</em>, <em>contexts=None</em>, <em>purpose=None</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.createcontextgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the context group to the trans-unit with contexts a list with
(type, text) tuples describing each context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.createlanguageNode">
<tt class="descname">createlanguageNode</tt><big>(</big><em>lang</em>, <em>text</em>, <em>purpose</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.createlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an xml Element setup with given parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.delalttrans">
<tt class="descname">delalttrans</tt><big>(</big><em>alternative</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.delalttrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the supplied alternative from the list of alt-trans tags</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getNodeText">
<tt class="descname">getNodeText</tt><big>(</big><em>languageNode</em>, <em>xml_space='preserve'</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.getNodeText" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the term from the given <tt class="xref py py-attr docutils literal"><span class="pre">languageNode</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.get_rich_target">
<tt class="descname">get_rich_target</tt><big>(</big><em>lang=None</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.get_rich_target" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the &#8220;target&#8221; text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getalttrans">
<tt class="descname">getalttrans</tt><big>(</big><em>origin=None</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.getalttrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns &lt;alt-trans&gt; for the given origin as a list of units. No
origin means all alternatives.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getcontext">
<tt class="descname">getcontext</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getcontextgroups">
<tt class="descname">getcontextgroups</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.getcontextgroups" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the contexts in the context groups with the specified name</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.geterrors">
<tt class="descname">geterrors</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getlanguageNode">
<tt class="descname">getlanguageNode</tt><big>(</big><em>lang=None</em>, <em>index=None</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.getlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a <tt class="xref py py-attr docutils literal"><span class="pre">languageNode</span></tt> either by language or by index.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getlanguageNodes">
<tt class="descname">getlanguageNodes</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.getlanguageNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>We override this to get source and target nodes.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getrestype">
<tt class="descname">getrestype</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.getrestype" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the restype attribute in the trans-unit tag</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.gettarget">
<tt class="descname">gettarget</tt><big>(</big><em>lang=None</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.gettarget" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the &#8220;target&#8221; text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.gettargetlen">
<tt class="descname">gettargetlen</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.hasplural">
<tt class="descname">hasplural</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.infer_state">
<tt class="descname">infer_state</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.isapproved">
<tt class="descname">isapproved</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.isapproved" title="Permalink to this definition">¶</a></dt>
<dd><p>States whether this unit is approved.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.isblank">
<tt class="descname">isblank</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.isheader">
<tt class="descname">isheader</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.isobsolete">
<tt class="descname">isobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.isreview">
<tt class="descname">isreview</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>States whether this unit needs to be reviewed</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.istranslated">
<tt class="descname">istranslated</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.makeobsolete">
<tt class="descname">makeobsolete</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.markapproved">
<tt class="descname">markapproved</tt><big>(</big><em>value=True</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.markapproved" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark this unit as approved.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.markreviewneeded">
<tt class="descname">markreviewneeded</tt><big>(</big><em>needsreview=True</em>, <em>explanation=None</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<p>Adds an optional explanation as a note.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.xliff.xliffunit.multistring_to_rich">
<em class="property">classmethod </em><tt class="descname">multistring_to_rich</tt><big>(</big><em>mstr</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Override <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.multistring_to_rich()</span></tt> which is used
by the <tt class="docutils literal"><span class="pre">rich_source</span></tt> and <tt class="docutils literal"><span class="pre">rich_target</span></tt> properties.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.namespaced">
<tt class="descname">namespaced</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <tt class="docutils literal"><span class="pre">namespaced(&quot;source&quot;)</span></tt> in an XLIFF document
might return:</p>
<div class="highlight-python"><div class="highlight"><pre>{urn:oasis:names:tc:xliff:document:1.1}source
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.removenotes">
<tt class="descname">removenotes</tt><big>(</big><em>origin='translator'</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.xliff.xliffunit.rich_target">
<tt class="descname">rich_target</tt><a class="headerlink" href="#translate.storage.xliff.xliffunit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the &#8220;target&#8221; text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.xliff.xliffunit.rich_to_multistring">
<em class="property">classmethod </em><tt class="descname">rich_to_multistring</tt><big>(</big><em>elem_list</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Override <tt class="xref py py-meth docutils literal"><span class="pre">TranslationUnit.rich_to_multistring()</span></tt> which is used
by the <tt class="docutils literal"><span class="pre">rich_source</span></tt> and <tt class="docutils literal"><span class="pre">rich_target</span></tt> properties.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.xliff.xliffunit.rid">
<tt class="descname">rid</tt><a class="headerlink" href="#translate.storage.xliff.xliffunit.rid" title="Permalink to this definition">¶</a></dt>
<dd><p>rid</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.setcontext">
<tt class="descname">setcontext</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.settarget">
<tt class="descname">settarget</tt><big>(</big><em>text</em>, <em>lang='xx'</em>, <em>append=False</em><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the target string to the given value.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.xliff.xliffunit.target">
<tt class="descname">target</tt><a class="headerlink" href="#translate.storage.xliff.xliffunit.target" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the &#8220;target&#8221; text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.xliff.xliffunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.xliff.xliffunit.xid">
<tt class="descname">xid</tt><a class="headerlink" href="#translate.storage.xliff.xliffunit.xid" title="Permalink to this definition">¶</a></dt>
<dd><p>xid</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.xml_extract">
<span id="xml-extract"></span><h2>xml_extract<a class="headerlink" href="#module-translate.storage.xml_extract" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-translate.storage.xml_extract.extract">
<span id="extract"></span><h3>extract<a class="headerlink" href="#module-translate.storage.xml_extract.extract" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="translate.storage.xml_extract.extract.ParseState">
<em class="property">class </em><tt class="descclassname">translate.storage.xml_extract.extract.</tt><tt class="descname">ParseState</tt><big>(</big><em>no_translate_content_elements</em>, <em>inline_elements={}</em>, <em>nsmap={}</em><big>)</big><a class="headerlink" href="#translate.storage.xml_extract.extract.ParseState" title="Permalink to this definition">¶</a></dt>
<dd><p>Maintain constants and variables used during the walking of a
DOM tree (via the function apply).</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.xml_extract.extract.Translatable">
<em class="property">class </em><tt class="descclassname">translate.storage.xml_extract.extract.</tt><tt class="descname">Translatable</tt><big>(</big><em>placeable_name</em>, <em>xpath</em>, <em>dom_node</em>, <em>source</em><big>)</big><a class="headerlink" href="#translate.storage.xml_extract.extract.Translatable" title="Permalink to this definition">¶</a></dt>
<dd><p>A node corresponds to a translatable element. A node may
have children, which correspond to placeables.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.xml_extract.extract.build_store">
<tt class="descclassname">translate.storage.xml_extract.extract.</tt><tt class="descname">build_store</tt><big>(</big><em>odf_file</em>, <em>store</em>, <em>parse_state</em>, <em>store_adder=None</em><big>)</big><a class="headerlink" href="#translate.storage.xml_extract.extract.build_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function for loading xml_filename</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.xml_extract.generate">
<span id="generate"></span><h3>generate<a class="headerlink" href="#module-translate.storage.xml_extract.generate" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="translate.storage.xml_extract.generate.find_dom_root">
<tt class="descclassname">translate.storage.xml_extract.generate.</tt><tt class="descname">find_dom_root</tt><big>(</big><em>parent_dom_node</em>, <em>dom_node</em><big>)</big><a class="headerlink" href="#translate.storage.xml_extract.generate.find_dom_root" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.xml_extract.generate.find_placeable_dom_tree_roots" title="translate.storage.xml_extract.generate.find_placeable_dom_tree_roots"><tt class="xref py py-meth docutils literal"><span class="pre">find_placeable_dom_tree_roots()</span></tt></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="translate.storage.xml_extract.generate.find_placeable_dom_tree_roots">
<tt class="descclassname">translate.storage.xml_extract.generate.</tt><tt class="descname">find_placeable_dom_tree_roots</tt><big>(</big><em>unit_node</em><big>)</big><a class="headerlink" href="#translate.storage.xml_extract.generate.find_placeable_dom_tree_roots" title="Permalink to this definition">¶</a></dt>
<dd><p>For an inline placeable, find the root DOM node for the placeable in its
parent.</p>
<p>Consider the diagram. In this pseudo-ODF example, there is an inline span
element. However, the span is contained in other tags (which we never process).
When splicing the template DOM tree (that is, the DOM which comes from
the XML document we&#8217;re using to generate a translated XML document), we&#8217;ll
need to move DOM sub-trees around and we need the roots of these sub-trees:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;p&gt; This is text \/                &lt;- Paragraph containing an inline placeable
                 &lt;blah&gt;            &lt;- Inline placeable&#39;s root (which we want to find)
                 ...               &lt;- Any number of intermediate DOM nodes
                 &lt;span&gt; bold text  &lt;- The inline placeable&#39;s Translatable
                                      holds a reference to this DOM node
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="translate.storage.xml_extract.generate.replace_dom_text">
<tt class="descclassname">translate.storage.xml_extract.generate.</tt><tt class="descname">replace_dom_text</tt><big>(</big><em>make_parse_state</em><big>)</big><a class="headerlink" href="#translate.storage.xml_extract.generate.replace_dom_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a function:</p>
<div class="highlight-python"><div class="highlight"><pre>action: etree_Element x base.TranslationUnit -&gt; None
</pre></div>
</div>
<p>which takes a dom_node and a translation unit. The dom_node is rearranged
according to rearrangement of placeables in unit.target (relative to their
positions in unit.source).</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.xml_extract.misc">
<span id="misc"></span><h3>misc<a class="headerlink" href="#module-translate.storage.xml_extract.misc" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="translate.storage.xml_extract.misc.compose_mappings">
<tt class="descclassname">translate.storage.xml_extract.misc.</tt><tt class="descname">compose_mappings</tt><big>(</big><em>left</em>, <em>right</em><big>)</big><a class="headerlink" href="#translate.storage.xml_extract.misc.compose_mappings" title="Permalink to this definition">¶</a></dt>
<dd><p>Given two mappings left: A -&gt; B and right: B -&gt; C, create a
hash result_map: A -&gt; C. Only values in left (i.e. things from B)
which have corresponding keys in right will have their keys mapped
to values in right.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.xml_extract.misc.parse_tag">
<tt class="descclassname">translate.storage.xml_extract.misc.</tt><tt class="descname">parse_tag</tt><big>(</big><em>full_tag</em><big>)</big><a class="headerlink" href="#translate.storage.xml_extract.misc.parse_tag" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_tag</span><span class="p">(</span><span class="s">&#39;{urn:oasis:names:tc:opendocument:xmlns:office:1.0}document-content&#39;</span><span class="p">)</span>
<span class="go">(&#39;urn:oasis:names:tc:opendocument:xmlns:office:1.0&#39;, &#39;document-content&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="translate.storage.xml_extract.misc.reduce_tree">
<tt class="descclassname">translate.storage.xml_extract.misc.</tt><tt class="descname">reduce_tree</tt><big>(</big><em>f</em>, <em>parent_unit_node</em>, <em>unit_node</em>, <em>get_children</em>, <em>*state</em><big>)</big><a class="headerlink" href="#translate.storage.xml_extract.misc.reduce_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumerate a tree, applying f to in a pre-order fashion to each node.</p>
<p>parent_unit_node contains the parent of unit_node. For the root of the tree,
parent_unit_node == unit_node.</p>
<p>get_children is a single argument function applied to a unit_node to
get a list/iterator to its children.</p>
<p>state is used by f to modify state information relating to whatever f does
to the tree.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.xml_extract.unit_tree">
<span id="unit-tree"></span><h3>unit_tree<a class="headerlink" href="#module-translate.storage.xml_extract.unit_tree" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="translate.storage.xml_extract.unit_tree.build_unit_tree">
<tt class="descclassname">translate.storage.xml_extract.unit_tree.</tt><tt class="descname">build_unit_tree</tt><big>(</big><em>store</em><big>)</big><a class="headerlink" href="#translate.storage.xml_extract.unit_tree.build_unit_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumerate a translation store and build a tree with XPath components as nodes
and where a node contains a unit if a path from the root of the tree to the node
containing the unit, is equal to the XPath of the unit.</p>
<p>The tree looks something like this:</p>
<div class="highlight-python"><div class="highlight"><pre>root
   `- (&#39;document-content&#39;, 1)
      `- (&#39;body&#39;, 2)
         |- (&#39;text&#39;, 1)
         |  `- (&#39;p&#39;, 1)
         |     `- &lt;reference to a unit&gt;
         |- (&#39;text&#39;, 2)
         |  `- (&#39;p&#39;, 1)
         |     `- &lt;reference to a unit&gt;
         `- (&#39;text&#39;, 3)
            `- (&#39;p&#39;, 1)
               `- &lt;reference to a unit&gt;
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.xml_extract.xpath_breadcrumb">
<span id="xpath-breadcrumb"></span><h3>xpath_breadcrumb<a class="headerlink" href="#module-translate.storage.xml_extract.xpath_breadcrumb" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="translate.storage.xml_extract.xpath_breadcrumb.XPathBreadcrumb">
<em class="property">class </em><tt class="descclassname">translate.storage.xml_extract.xpath_breadcrumb.</tt><tt class="descname">XPathBreadcrumb</tt><a class="headerlink" href="#translate.storage.xml_extract.xpath_breadcrumb.XPathBreadcrumb" title="Permalink to this definition">¶</a></dt>
<dd><p>A class which is used to build XPath-like paths as a DOM tree is
walked. It keeps track of the number of times which it has seen
a certain tag, so that it will correctly create indices for tags.</p>
<p>Initially, the path is empty. Thus
&gt;&gt;&gt; xb = XPathBreadcrumb()
&gt;&gt;&gt; xb.xpath
&#8220;&#8221;</p>
<p>Suppose we walk down a DOM node for the tag &lt;foo&gt; and we want to
record this, we simply do
&gt;&gt;&gt; xb.start_tag(&#8216;foo&#8217;)</p>
<p>Now, the path is no longer empty. Thus
&gt;&gt;&gt; xb.xpath
foo[0]</p>
<p>Now suppose there are two &lt;bar&gt; tags under the tag &lt;foo&gt; (that is
&lt;foo&gt;&lt;bar&gt;&lt;/bar&gt;&lt;bar&gt;&lt;/bar&gt;&lt;foo&gt;), then the breadcrumb will keep
track of the number of times it sees &lt;bar&gt;. Thus</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">xb</span><span class="o">.</span><span class="n">start_tag</span><span class="p">(</span><span class="s">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xb</span><span class="o">.</span><span class="n">xpath</span>
<span class="go">foo[0]/bar[0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xb</span><span class="o">.</span><span class="n">end_tag</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xb</span><span class="o">.</span><span class="n">xpath</span>
<span class="go">foo[0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xb</span><span class="o">.</span><span class="n">start_tag</span><span class="p">(</span><span class="s">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xb</span><span class="o">.</span><span class="n">xpath</span>
<span class="go">foo[0]/bar[1]</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="module-translate.storage.xml_name">
<span id="xml-name"></span><h2>xml_name<a class="headerlink" href="#module-translate.storage.xml_name" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="translate.storage.xml_name.XmlNamer">
<em class="property">class </em><tt class="descclassname">translate.storage.xml_name.</tt><tt class="descname">XmlNamer</tt><big>(</big><em>dom_node</em><big>)</big><a class="headerlink" href="#translate.storage.xml_name.XmlNamer" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize me with a DOM node or a DOM document node (the
toplevel node you get when parsing an XML file). Then use me
to generate fully qualified XML names.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">xml</span> <span class="o">=</span> <span class="s">&#39;&lt;office:document-styles xmlns:office=&quot;urn:oasis:names:tc:opendocument:xmlns:office:1.0&quot;&gt;&lt;/office&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lxml</span> <span class="kn">import</span> <span class="n">etree</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">namer</span> <span class="o">=</span> <span class="n">XmlNamer</span><span class="p">(</span><span class="n">etree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">xml</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">namer</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s">&#39;office&#39;</span><span class="p">,</span> <span class="s">&#39;blah&#39;</span><span class="p">)</span>
<span class="go">{urn:oasis:names:tc:opendocument:xmlns:office:1.0}blah</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">namer</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s">&#39;office:blah&#39;</span><span class="p">)</span>
<span class="go">{urn:oasis:names:tc:opendocument:xmlns:office:1.0}blah</span>
</pre></div>
</div>
<p>I can also give you XmlNamespace objects if you give me the abbreviated
namespace name. These are useful if you need to reference a namespace
continuously.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">office_ns</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">namespace</span><span class="p">(</span><span class="s">&#39;office&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">office_ns</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">{urn:oasis:names:tc:opendocument:xmlns:office:1.0}foo</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.zip">
<span id="zip"></span><h2>zip<a class="headerlink" href="#module-translate.storage.zip" title="Permalink to this headline">¶</a></h2>
<p>This module provides functionality to work with zip files.</p>
<dl class="class">
<dt id="translate.storage.zip.ZIPFile">
<em class="property">class </em><tt class="descclassname">translate.storage.zip.</tt><tt class="descname">ZIPFile</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#translate.storage.zip.ZIPFile" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a ZIP file like a directory.</p>
<dl class="method">
<dt id="translate.storage.zip.ZIPFile.file_iter">
<tt class="descname">file_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.zip.ZIPFile.file_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over (dir, filename) for all files in this directory.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.zip.ZIPFile.getfiles">
<tt class="descname">getfiles</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.zip.ZIPFile.getfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of (dir, filename) tuples for all the file names in
this directory.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.zip.ZIPFile.getunits">
<tt class="descname">getunits</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.zip.ZIPFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>List of all the units in all the files in this directory.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.zip.ZIPFile.scanfiles">
<tt class="descname">scanfiles</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.zip.ZIPFile.scanfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate the internal file data.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.zip.ZIPFile.unit_iter">
<tt class="descname">unit_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#translate.storage.zip.ZIPFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in all the files in this zip file.</p>
</dd></dl>

</dd></dl>

</div>
</div>


</div>
<hr>

<footer class="footer">
  <div class="container">
    <p class="pull-right"><a href="#">Back to top ↑</a></p>
    <ul class="unstyled muted">
      <li><small>
        &copy; 2002-2014, Translate.<br/>
      </small></li>
      <li><small>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.
      </small></li>
    </ul>
  </div>
</footer>
  </body>
</html>