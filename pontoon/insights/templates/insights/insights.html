{% extends "base.html" %}
{% import 'heading.html' as Heading %}
{% import "insights/widgets/tooltip.html" as Tooltip %}

{% block title %}Insights{% endblock %}

{% block class %}insights{% endblock %}

{% block heading %}
  {{ Heading.heading(title='Insights', subtitle=(start_date|format_datetime("date")) + " - " + end_date|format_datetime("date")) }}
{% endblock %}

{% block bottom %}
  <section id="main">
    <div class="container">
      <div id="insights">
        <section class="team-pretranslation-quality">
          <figure class="block">
            <h3 class="controls">
              Team pretranslation quality
              {{ Tooltip.display(intro='Approval rate of pretranslations for each team.') }}
            </h3>
            <div class="chart-wrapper">
              <canvas
                id="team-pretranslation-quality-chart"
                data-dataset="{{ team_pretranslation_quality.dataset }}"
                data-dates="{{ team_pretranslation_quality.dates }}"
              >
              </canvas>
            </div>
            <div
              id="team-pretranslation-quality-chart-legend"
              class="legend"
              width="240"
            ></div>
          </figure>
        </section>
        <section class="project-pretranslation-quality">
          <figure class="block">
            <h3 class="controls">
              Project pretranslation quality
              {{ Tooltip.display(intro='Approval rate of pretranslations for each project.') }}
            </h3>
            <div class="chart-wrapper">
              <canvas
                id="project-pretranslation-quality-chart"
                data-dataset="{{ project_pretranslation_quality.dataset }}"
                data-dates="{{ project_pretranslation_quality.dates }}"
              >
              </canvas>
            </div>
            <div
              id="project-pretranslation-quality-chart-legend"
              class="legend"
            ></div>
          </figure>
        </section>
      </div>
    </div>
  </section>
{% endblock %}

{% block extend_css %}
  {% stylesheet 'insights' %}
{% endblock %}

{% block extend_js %}
  {% javascript 'insights' %}
{% endblock %}
