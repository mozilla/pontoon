
{% macro list_entities(entities, preferred_locale, has_more) %}
<div id="entity-list-header">
  <span class="source-header">English - EN</span>
  <span class="translation-header">{{ preferred_locale.name }} - {{ preferred_locale.code }}</span>
</div>
<ul id="entity-list" class="striped" data-has-more="{{ 'true' if has_more else 'false' }}">
  {% for entity in entities %}
        <li class="entity-container">
            <div class="source-string-container">
              <span class="source-string">{{ entity.string }}</span>
            </div>

            <div class="translation-string-container">
              <span class="translation-string">{{ entity.translation.string }}</span>
            </div>

            <div class="entity-info-container">
              <div class="context">
                  <span class="title">CONTEXT</span>
                  {% if entity.resource.format != "gettext" %}
                    <span class="entity-keys">{{ ", ".join(entity.key) }}</span>
                    <span class="divider">&bull;</span>
                  {% endif %}
                  <a class="resource-path" href="/{{ preferred_locale.code}}/{{ entity.project.slug }}/{{ entity.resource.path }}">{{ entity.resource.path }}</a>
                  <span class="divider">&bull;</span>
                  <a class="project" href="/projects/{{ entity.project.slug }}">{{ entity.project.name }}</a>
              </div>
            </div>
            <div class="utility-btn-container controls clearfix">
              <a class="all-locales-btn fas fa-globe" type="button" tabindex="-1" href="/entities/{{ entity.id }}"></a>
              <a class="edit-btn fas fa-edit" type="button" tabindex="-1" href="/{{ preferred_locale.code}}/{{ entity.project.slug }}/{{ entity.resource.path }}/?string={{ entity.id }}"></a>
              <button class="button copy-btn far fa-copy" type="button" tabindex="-1" data-clipboard-text="{{ entity.translation.string }}"></button>
            </div>
        </li>
        {% endfor %}
</ul>
{% endmacro %}
